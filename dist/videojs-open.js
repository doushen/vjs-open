(function(f){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=f()}else if(typeof define==="function"&&define.amd){define([],f)}else{var g;if(typeof window!=="undefined"){g=window}else if(typeof global!=="undefined"){g=global}else if(typeof self!=="undefined"){g=self}else{g=this}g.videojsOpen = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
(function (global){
'use strict';Object.defineProperty(exports,'__esModule',{value:true});function _interopRequireDefault(obj){return obj && obj.__esModule?obj:{'default':obj};}var _videoJs=(typeof window !== "undefined" ? window['videojs'] : typeof global !== "undefined" ? global['videojs'] : null);var _videoJs2=_interopRequireDefault(_videoJs); // Default options for the plugin.
var defaults={}; /**
 * Function to invoke when the player is ready.
 *
 * This is a great place for your plugin to initialize itself. When this
 * function is called, the player will have its DOM and child components
 * in place.
 *
 * @function onPlayerReady
 * @param    {Player} player
 * @param    {Object} [options={}]
 */var onPlayerReady=function onPlayerReady(player,options){player.addClass('vjs-open');}; /**
 * A video.js plugin.
 *
 * In the plugin function, the value of `this` is a video.js `Player`
 * instance. You cannot rely on the player being in a "ready" state here,
 * depending on how the plugin is invoked. This may or may not be important
 * to you; if not, remove the wait for "ready"!
 *
 * @function open
 * @param    {Object} [options={}]
 *           An object of options left to the plugin author to define.
 */var open=function open(options){var _this=this;this.ready(function(){onPlayerReady(_this,_videoJs2['default'].mergeOptions(defaults,options));});}; /**
 * 分辨率
 * @param {[type]} options [description]
 * return {[type]}  [description]
 */var videoJsResolutionSwitcher=function videoJsResolutionSwitcher(options){ /**
	 * Initialize the plugin.
	 * @param {object} [options] configuration for the plugin
	 */var settings=_videoJs2['default'].mergeOptions(defaults,options),player=this,groupedSrc={},currentSources={},currentResolutionState={}; /**
	 * Updates player sources or returns current source URL
	 * @param   {Array}  [src] array of sources [{src: '', type: '', label: '', res: ''}]
	 * @returns {Object|String|Array} videojs player object if used as setter or current source URL, object, or array of sources
	 */player.updateSrc = function(src){ //Return current src if src is not given
if(!src){return player.src();} // Only add those sources which we can (maybe) play
src = src.filter(function(source){try{return player.canPlayType(source.type) !== '';}catch(e) { // If a Tech doesn't yet have canPlayType just add it
return true;}}); //Sort sources
this.currentSources = src.sort(compareResolutions);this.groupedSrc = bucketSources(this.currentSources); // Pick one by default
var chosen=chooseSrc(this.groupedSrc,this.currentSources);this.currentResolutionState = {label:chosen.label,sources:chosen.sources};player.trigger('updateSources');player.setSourcesSanitized(chosen.sources,chosen.label);player.trigger('resolutionchange');return player;}; /**
	 * Returns current resolution or sets one when label is specified
	 * @param {String}   [label]         label name
	 * @param {Function} [customSourcePicker] custom function to choose source. Takes 2 arguments: sources, label. Must return player object.
	 * @returns {Object}   current resolution object {label: '', sources: []} if used as getter or player object if used as setter
	 */player.currentResolution = function(label,customSourcePicker){if(label == null){return this.currentResolutionState;} // Lookup sources for label
if(!this.groupedSrc || !this.groupedSrc.label || !this.groupedSrc.label[label]){return;}var sources=this.groupedSrc.label[label]; // Remember player state
var currentTime=player.currentTime();var isPaused=player.paused(); // Hide bigPlayButton
if(!isPaused && this.player_.options_.bigPlayButton){this.player_.bigPlayButton.hide();} // Change player source and wait for loadeddata event, then play video
// loadedmetadata doesn't work right now for flash.
// Probably because of https://github.com/videojs/video-js-swf/issues/124
// If player preload is 'none' and then loadeddata not fired. So, we need timeupdate event for seek handle (timeupdate doesn't work properly with flash)
var handleSeekEvent='loadeddata';if(this.player_.techName_ !== 'Youtube' && this.player_.preload() === 'none' && this.player_.techName_ !== 'Flash'){handleSeekEvent = 'timeupdate';}player.setSourcesSanitized(sources,label,customSourcePicker || settings.customSourcePicker).one(handleSeekEvent,function(){player.currentTime(currentTime);player.handleTechSeeked_();if(!isPaused){ // Start playing and hide loadingSpinner (flash issue ?)
player.play().handleTechSeeked_();}player.trigger('resolutionchange');});return player;}; /**
	 * Returns grouped sources by label, resolution and type
	 * @returns {Object} grouped sources: { label: { key: [] }, res: { key: [] }, type: { key: [] } }
	 */player.getGroupedSrc = function(){return this.groupedSrc;};player.setSourcesSanitized = function(sources,label,customSourcePicker){this.currentResolutionState = {label:label,sources:sources};if(typeof customSourcePicker === 'function'){return customSourcePicker(player,sources,label);}player.src(sources.map(function(src){return {src:src.src,type:src.type,res:src.res};}));$(".vjs-resolution-button-label").html(label);return player;}; /**
	 * Method used for sorting list of sources
	 * @param   {Object} a - source object with res property
	 * @param   {Object} b - source object with res property
	 * @returns {Number} result of comparation
	 */function compareResolutions(a,b){if(!a.res || !b.res){return 0;}return +b.res - +a.res;} /**
	 * Group sources by label, resolution and type
	 * @param   {Array}  src Array of sources
	 * @returns {Object} grouped sources: { label: { key: [] }, res: { key: [] }, type: { key: [] } }
	 */function bucketSources(src){var resolutions={label:{},res:{},type:{}};src.map(function(source){initResolutionKey(resolutions,'label',source);initResolutionKey(resolutions,'res',source);initResolutionKey(resolutions,'type',source);appendSourceToKey(resolutions,'label',source);appendSourceToKey(resolutions,'res',source);appendSourceToKey(resolutions,'type',source);});return resolutions;}function initResolutionKey(resolutions,key,source){if(resolutions[key][source[key]] == null){resolutions[key][source[key]] = [];}}function appendSourceToKey(resolutions,key,source){resolutions[key][source[key]].push(source);} /**
	 * Choose src if option.default is specified
	 * @param   {Object} groupedSrc {res: { key: [] }}
	 * @param   {Array}  src Array of sources sorted by resolution used to find high and low res
	 * @returns {Object} {res: string, sources: []}
	 */function chooseSrc(groupedSrc,src){var selectedRes=settings['default']; // use array access as default is a reserved keyword
var selectedLabel='';if(selectedRes === 'high'){selectedRes = src[0].res;selectedLabel = src[0].label;}else if(selectedRes === 'low' || selectedRes == null || !groupedSrc.res[selectedRes]){ // Select low-res if default is low or not set
selectedRes = src[src.length - 1].res;selectedLabel = src[src.length - 1].label;}else if(groupedSrc.res[selectedRes]){selectedLabel = groupedSrc.res[selectedRes][0].label;}return {res:selectedRes,label:selectedLabel,sources:groupedSrc.res[selectedRes]};}function initResolutionForYt(player){ // Map youtube qualities names
var _yts={highres:{res:1080,label:'1080',yt:'highres'},hd1080:{res:1080,label:'1080',yt:'hd1080'},hd720:{res:720,label:'720',yt:'hd720'},large:{res:480,label:'480',yt:'large'},medium:{res:360,label:'360',yt:'medium'},small:{res:240,label:'240',yt:'small'},tiny:{res:144,label:'144',yt:'tiny'},auto:{res:0,label:'auto',yt:'auto'}}; // Overwrite default sourcePicker function
var _customSourcePicker=function _customSourcePicker(_player,_sources,_label){ // Note that setPlayebackQuality is a suggestion. YT does not always obey it.
player.tech_.ytPlayer.setPlaybackQuality(_sources[0]._yt);player.trigger('updateSources');return player;};settings.customSourcePicker = _customSourcePicker; // Init resolution
player.tech_.ytPlayer.setPlaybackQuality('auto'); // This is triggered when the resolution actually changes
player.tech_.ytPlayer.addEventListener('onPlaybackQualityChange',function(event){for(var res in _yts) {if(res.yt === event.data){player.currentResolution(res.label,_customSourcePicker);return;}}}); // We must wait for play event
player.one('play',function(){var qualities=player.tech_.ytPlayer.getAvailableQualityLevels();var _sources=[];qualities.map(function(q){_sources.push({src:player.src().src,type:player.src().type,label:_yts[q].label,res:_yts[q].res,_yt:_yts[q].yt});});player.groupedSrc = bucketSources(_sources);var chosen={label:'auto',res:0,sources:player.groupedSrc.label.auto};this.currentResolutionState = {label:chosen.label,sources:chosen.sources};player.trigger('updateSources');player.setSourcesSanitized(chosen.sources,chosen.label,_customSourcePicker);});}player.ready(function(){if(settings.ui){var menuButton=new ResolutionMenuButton(player,settings);player.controlBar.resolutionSwitcher = player.controlBar.el_.insertBefore(menuButton.el_,player.controlBar.getChild('fullscreenToggle').el_);player.controlBar.resolutionSwitcher.dispose = function(){this.parentNode.removeChild(this);};}if(player.options_.sources.length > 1){ // tech: Html5 and Flash
// Create resolution switcher for videos form <source> tag inside <video>
player.updateSrc(player.options_.sources);}if(player.techName_ === 'Youtube'){ // tech: YouTube
initResolutionForYt(player);}});var videoJsResolutionSwitcher,defaults={ui:true}; /*
	 * Resolution menu item
	 */var MenuItem=_videoJs2['default'].getComponent('MenuItem');var ResolutionMenuItem=_videoJs2['default'].extend(MenuItem,{constructor:function constructor(player,options){options.selectable = true; // Sets this.player_, this.options_ and initializes the component
MenuItem.call(this,player,options);this.src = options.src;player.on('resolutionchange',_videoJs2['default'].bind(this,this.update));}});ResolutionMenuItem.prototype.handleClick = function(event){MenuItem.prototype.handleClick.call(this,event);this.player_.currentResolution(this.options_.label);};ResolutionMenuItem.prototype.update = function(){var selection=this.player_.currentResolution();this.selected(this.options_.label === selection.label);};MenuItem.registerComponent('ResolutionMenuItem',ResolutionMenuItem); /*
	 * Resolution menu button
	 */var MenuButton=_videoJs2['default'].getComponent('MenuButton');var ResolutionMenuButton=_videoJs2['default'].extend(MenuButton,{constructor:function constructor(player,options){this.label = document.createElement('span');options.label = 'Quality'; // Sets this.player_, this.options_ and initializes the component
MenuButton.call(this,player,options);this.el().setAttribute('aria-label','Quality');this.controlText('Quality');if(options.dynamicLabel){_videoJs2['default'].addClass(this.label,'vjs-resolution-button-label');this.el().appendChild(this.label);}else {var staticLabel=document.createElement('span');_videoJs2['default'].addClass(staticLabel,'vjs-menu-icon');this.el().appendChild(staticLabel);}player.on('updateSources',_videoJs2['default'].bind(this,this.update));}});ResolutionMenuButton.prototype.createItems = function(){var menuItems=[];var labels=this.sources && this.sources.label || {}; // FIXME order is not guaranteed here.
for(var key in labels) {if(labels.hasOwnProperty(key)){menuItems.push(new ResolutionMenuItem(this.player_,{label:key,src:labels[key],selected:key === (this.currentSelection?this.currentSelection.label:false)}));}}return menuItems;};ResolutionMenuButton.prototype.update = function(){this.sources = this.player_.getGroupedSrc();this.currentSelection = this.player_.currentResolution();this.label.innerHTML = this.currentSelection?this.currentSelection.label:'';return MenuButton.prototype.update.call(this);};ResolutionMenuButton.prototype.buildCSSClass = function(){return MenuButton.prototype.buildCSSClass.call(this) + ' vjs-resolution-button';};MenuButton.registerComponent('ResolutionMenuButton',ResolutionMenuButton);}; /**
 * 禁用滚动条拖动
 * @param {[type]} options [description]
 * return {[type]}  [description]
 */var disableProgress=function disableProgress(options){var  /**
	 * Copies properties from one or more objects onto an original.
	 */extend=function extend(obj /*, arg1, arg2, ... */){var arg,i,k;for(i = 1;i < arguments.length;i++) {arg = arguments[i];for(k in arg) {if(arg.hasOwnProperty(k)){obj[k] = arg[k];}}}return obj;}, // define some reasonable defaults for this sweet plugin
defaults={autoDisable:false};var  // save a reference to the player instance
player=this,state=false, // merge options and defaults
settings=extend({},defaults,options || {}); // disable / enable methods
player.disableProgress = {disable:function disable(){state = true;player.controlBar.progressControl.seekBar.off("focus");player.controlBar.progressControl.seekBar.off("mousedown");player.controlBar.progressControl.seekBar.off("touchstart");player.controlBar.progressControl.seekBar.off("click");},enable:function enable(){state = false;player.controlBar.progressControl.seekBar.on("focus",player.controlBar.progressControl.seekBar.handleFocus);player.controlBar.progressControl.seekBar.on("mousedown",player.controlBar.progressControl.seekBar.handleMouseDown);player.controlBar.progressControl.seekBar.on("touchstart",player.controlBar.progressControl.seekBar.handleMouseDown);player.controlBar.progressControl.seekBar.on("click",player.controlBar.progressControl.seekBar.handleClick);},getState:function getState(){return state;}};if(settings.autoDisable){player.disableProgress.disable();}}; /**
 * 打点
 * @param {[type]} options [description]
 * return {[type]}  [description]
 */var markers=function markers(options){ //default setting
var defaultSetting={markerStyle:{'width':'8px','border-radius':'20%','background-color':'rgba(255,0,0,.5)'},markerTip:{display:true,text:function text(marker){return marker.text;},time:function time(marker){return marker.time;}},breakOverlay:{display:true,displayTime:1,text:function text(marker){return marker.overlayText;},style:{'width':'100%','height':'calc(100% - 36px)','background-color':'rgba(0,0,0,0.7)','color':'white','font-size':'17px'}},onMarkerClick:function onMarkerClick(marker){return false;},onMarkerReached:function onMarkerReached(marker){},markers:[]}; // create a non-colliding random number
function generateUUID(){var d=new Date().getTime();var uuid='xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g,function(c){var r=(d + Math.random() * 16) % 16 | 0;d = Math.floor(d / 16);return (c == 'x'?r:r & 0x3 | 0x8).toString(16);});return uuid;}; /**
	 * register the markers plugin (dependent on jquery)
	 */var setting=$.extend(true,{},defaultSetting,options),markersMap={},markersList=[], // list of markers sorted by time
videoWrapper=$(this.el()),currentMarkerIndex=-1,player=this,markerTip=null,breakOverlay=null,overlayIndex=-1;function sortMarkersList(){ // sort the list by time in asc order
markersList.sort(function(a,b){return setting.markerTip.time(a) - setting.markerTip.time(b);});}function addMarkers(newMarkers){ // create the markers
$.each(newMarkers,function(index,marker){marker.key = generateUUID();videoWrapper.find('.vjs-progress-control').append(createMarkerDiv(marker)); // store marker in an internal hash map
markersMap[marker.key] = marker;markersList.push(marker);});sortMarkersList();}function getPosition(marker){return setting.markerTip.time(marker) / player.duration() * 100;}function createMarkerDiv(marker,duration){var markerDiv=$("<div class='vjs-marker'></div>");var marg=parseInt(videoWrapper.find('.vjs-progress-control .vjs-slider').css('marginLeft'));markerDiv.css(setting.markerStyle).css({"margin-left":marg - parseFloat(markerDiv.css("width")) / 2 + 'px',"left":getPosition(marker) + '%'}).attr("data-marker-key",marker.key).attr("data-marker-time",setting.markerTip.time(marker)); // add user-defined class to marker
if(marker['class']){markerDiv.addClass(marker['class']);} // bind click event to seek to marker time
markerDiv.on('click',function(e){var preventDefault=false;if(typeof setting.onMarkerClick === "function"){ // if return false, prevent default behavior
preventDefault = setting.onMarkerClick(marker) == false;}if(!preventDefault){var key=$(this).data('marker-key');player.currentTime(setting.markerTip.time(markersMap[key]));}});if(setting.markerTip.display){registerMarkerTipHandler(markerDiv);}return markerDiv;}function updateMarkers(){ // update UI for markers whose time changed
for(var i=0;i < markersList.length;i++) {var marker=markersList[i];var markerDiv=videoWrapper.find(".vjs-marker[data-marker-key='" + marker.key + "']");var markerTime=setting.markerTip.time(marker);if(markerDiv.data('marker-time') != markerTime){markerDiv.css({"left":getPosition(marker) + '%'}).attr("data-marker-time",markerTime);}}sortMarkersList();}function removeMarkers(indexArray){ // reset overlay
if(breakOverlay){overlayIndex = -1;breakOverlay.css("visibility","hidden");}currentMarkerIndex = -1;for(var i=0;i < indexArray.length;i++) {var index=indexArray[i];var marker=markersList[index];if(marker){ // delete from memory
delete markersMap[marker.key];markersList[index] = null; // delete from dom
videoWrapper.find(".vjs-marker[data-marker-key='" + marker.key + "']").remove();}} // clean up array
for(var i=markersList.length - 1;i >= 0;i--) {if(markersList[i] === null){markersList.splice(i,1);}} // sort again
sortMarkersList();} // attach hover event handler
function registerMarkerTipHandler(markerDiv){markerDiv.on('mouseover',function(){var marker=markersMap[$(this).data('marker-key')];markerTip.find('.vjs-tip-inner').html(setting.markerTip.text(marker)); // margin-left needs to minus the padding length to align correctly with the marker
markerTip.css({"left":getPosition(marker) + '%',"margin-left":-parseFloat(markerTip.css("width")) / 2 - 5 + 'px',"visibility":"visible"});}).on('mouseout',function(){markerTip.css("visibility","hidden");});}function initializeMarkerTip(){markerTip = $("<div class='vjs-tip'><div class='vjs-tip-arrow'></div><div class='vjs-tip-inner'></div></div>");videoWrapper.find('.vjs-progress-control').append(markerTip);} // show or hide break overlays
function updateBreakOverlay(){if(!setting.breakOverlay.display || currentMarkerIndex < 0){return;}var currentTime=player.currentTime();var marker=markersList[currentMarkerIndex];var markerTime=setting.markerTip.time(marker);if(currentTime >= markerTime && currentTime <= markerTime + setting.breakOverlay.displayTime){if(overlayIndex != currentMarkerIndex){overlayIndex = currentMarkerIndex;breakOverlay.find('.vjs-break-overlay-text').html(setting.breakOverlay.text(marker));}breakOverlay.css('visibility',"visible");}else {overlayIndex = -1;breakOverlay.css("visibility","hidden");}} // problem when the next marker is within the overlay display time from the previous marker
function initializeOverlay(){breakOverlay = $("<div class='vjs-break-overlay'><div class='vjs-break-overlay-text'></div></div>").css(setting.breakOverlay.style);videoWrapper.append(breakOverlay);overlayIndex = -1;}function onTimeUpdate(){onUpdateMarker();updateBreakOverlay();}function onUpdateMarker(){ /*
		    check marker reached in between markers
		    the logic here is that it triggers a new marker reached event only if the player 
		    enters a new marker range (e.g. from marker 1 to marker 2). Thus, if player is on marker 1 and user clicked on marker 1 again, no new reached event is triggered)
		*/var getNextMarkerTime=function getNextMarkerTime(index){if(index < markersList.length - 1){return setting.markerTip.time(markersList[index + 1]);} // next marker time of last marker would be end of video time
return player.duration();};var currentTime=player.currentTime();var newMarkerIndex;if(currentMarkerIndex != -1){ // check if staying at same marker
var nextMarkerTime=getNextMarkerTime(currentMarkerIndex);if(currentTime >= setting.markerTip.time(markersList[currentMarkerIndex]) && currentTime < nextMarkerTime){return;} // check for ending (at the end current time equals player duration)
if(currentMarkerIndex === markersList.length - 1 && currentTime === player.duration()){return;}} // check first marker, no marker is selected
if(markersList.length > 0 && currentTime < setting.markerTip.time(markersList[0])){newMarkerIndex = -1;}else { // look for new index
for(var i=0;i < markersList.length;i++) {nextMarkerTime = getNextMarkerTime(i);if(currentTime >= setting.markerTip.time(markersList[i]) && currentTime < nextMarkerTime){newMarkerIndex = i;break;}}} // set new marker index
if(newMarkerIndex != currentMarkerIndex){ // trigger event
if(newMarkerIndex != -1 && options.onMarkerReached){options.onMarkerReached(markersList[newMarkerIndex]);}currentMarkerIndex = newMarkerIndex;}} // setup the whole thing
function initialize(){if(setting.markerTip.display){initializeMarkerTip();} // remove existing markers if already initialized
player.markers.removeAll();addMarkers(options.markers);if(setting.breakOverlay.display){initializeOverlay();}onTimeUpdate();player.on("timeupdate",onTimeUpdate);} // setup the plugin after we loaded video's meta data
player.on("loadedmetadata",function(){initialize();}); // exposed plugin API
player.markers = {getMarkers:function getMarkers(){return markersList;},next:function next(){ // go to the next marker from current timestamp
var currentTime=player.currentTime();for(var i=0;i < markersList.length;i++) {var markerTime=setting.markerTip.time(markersList[i]);if(markerTime > currentTime){player.currentTime(markerTime);break;}}},prev:function prev(){ // go to previous marker
var currentTime=player.currentTime();for(var i=markersList.length - 1;i >= 0;i--) {var markerTime=setting.markerTip.time(markersList[i]); // add a threshold
if(markerTime + 0.5 < currentTime){player.currentTime(markerTime);break;}}},add:function add(newMarkers){ // add new markers given an array of index
addMarkers(newMarkers);},remove:function remove(indexArray){ // remove markers given an array of index
removeMarkers(indexArray);},removeAll:function removeAll(){var indexArray=[];for(var i=0;i < markersList.length;i++) {indexArray.push(i);}removeMarkers(indexArray);},updateTime:function updateTime(){ // notify the plugin to update the UI for changes in marker times 
updateMarkers();},reset:function reset(newMarkers){ // remove all the existing markers and add new ones
player.markers.removeAll();addMarkers(newMarkers);},destroy:function destroy(){ // unregister the plugins and clean up even handlers
player.markers.removeAll();breakOverlay.remove();markerTip.remove();player.off("timeupdate",updateBreakOverlay);delete player.markers;}};}; /**
 * 水印
 * @param {[type]} options [description]
 * return {[type]}  [description]
 */var waterMark=function waterMark(settings){var defaults={file:'logo.png',xpos:0,ypos:0,xrepeat:0,opacity:100,clickable:false,url:"",className:'vjs-watermark',text:false,debug:false},extend=function extend(){var args,target,i,object,property;args = Array.prototype.slice.call(arguments);target = args.shift() || {};for(i in args) {object = args[i];for(property in object) {if(object.hasOwnProperty(property)){if(typeof object[property] === 'object'){target[property] = extend(target[property],object[property]);}else {target[property] = object[property];}}}}return target;}; //! global varible containing reference to the DOM element
var div; // var settings = $.extend(true, {}, defaults, options);
if(settings.debug)console.log('watermark: Register init');var options,player,video,img,link;options = extend(defaults,settings); /* Grab the necessary DOM elements */player = this.el();video = this.el().getElementsByTagName('video')[0]; // create the watermark element
if(!div){div = document.createElement('div');div.className = options.className;}else { //! if div already exists, empty it
div.innerHTML = '';} // if text is set, display text
if(options.text)div.textContent = options.text; // if img is set, add img
if(options.file){img = document.createElement('img');div.appendChild(img);div.style.display = "inline-block";div.style.position = "absolute";div.style.zIndex = 0;img.src = options.file;} //img.style.bottom = "0";
//img.style.right = "0";
if(options.ypos === 0 && options.xpos === 0) // Top left
{div.style.top = "0px";div.style.left = "0px";}else if(options.ypos === 0 && options.xpos === 100) // Top right
{div.style.top = "0px";div.style.right = "0px";}else if(options.ypos === 100 && options.xpos === 100) // Bottom right
{div.style.bottom = "0px";div.style.right = "0px";}else if(options.ypos === 100 && options.xpos === 0) // Bottom left
{div.style.bottom = "0px";div.style.left = "0px";}else if(options.ypos === 50 && options.xpos === 50) // Center
{if(options.debug)console.log('watermark: player:' + player.width + 'x' + player.height);if(options.debug)console.log('watermark: video:' + video.videoWidth + 'x' + video.videoHeight);if(options.debug)console.log('watermark: image:' + img.width + 'x' + img.height);div.style.top = this.height() / 2 + "px";div.style.left = this.width() / 2 + "px";}div.style.opacity = options.opacity; //div.style.backgroundImage = "url("+options.file+")";
//div.style.backgroundPosition.x = options.xpos+"%";
//div.style.backgroundPosition.y = options.ypos+"%";
//div.style.backgroundRepeat = options.xrepeat;
//div.style.opacity = (options.opacity/100);
//if user wants watermark to be clickable, add anchor elem
//todo: check if options.url is an actual url?
if(options.clickable && options.url !== ""){link = document.createElement("a");link.href = options.url;link.target = "_blank";link.appendChild(div); //add clickable watermark to the player
player.appendChild(link);}else { //add normal watermark to the player
player.appendChild(div);}if(options.debug)console.log('watermark: Register end');}; /**
 * 记录 录音 截屏
 * @param {[type]} options [description]
 * return {[type]}  [description]
 */var record=function record(options){var VjsComponent=_videoJs2['default'].getComponent('Component');var VjsButton=_videoJs2['default'].getComponent('Button'); /**
     * Base class for recorder backends.
     * @class
     * @augments videojs.Component
     * @private
     */_videoJs2['default'].RecordBase = _videoJs2['default'].extend(VjsComponent,{ // recorder modes
IMAGE_ONLY:'image_only',AUDIO_ONLY:'audio_only',VIDEO_ONLY:'video_only',AUDIO_VIDEO:'audio_video',ANIMATION:'animation', // supported recorder plugin engines
RECORDRTC:'recordrtc',LIBVORBISJS:'libvorbis.js',RECORDERJS:'recorder.js',LAMEJS:'lamejs',OPUSRECORDER:'opus-recorder', /**
         * The constructor function for the class.
         *
         * @private
         * @param {(videojs.Player|Object)} player - Video.js player instance.
         * @param {Object} options - Player options.
         */constructor:function constructor(player,options){VjsComponent.call(this,player,options);}, /**
         * Browser detector.
         *
         * @private
         * @return {object} result containing browser, version and minVersion
         *     properties.
         */detectBrowser:function detectBrowser(){ // Returned result object.
var result={};result.browser = null;result.version = null;result.minVersion = null; // Non supported browser.
if(typeof window === 'undefined' || !window.navigator){result.browser = 'Not a supported browser.';return result;} // Firefox.
if(navigator.mozGetUserMedia){result.browser = 'firefox';result.version = this.extractVersion(navigator.userAgent,/Firefox\/([0-9]+)\./,1);result.minVersion = 31;return result;} // Chrome/Chromium/Webview.
if(navigator.webkitGetUserMedia && window.webkitRTCPeerConnection){result.browser = 'chrome';result.version = this.extractVersion(navigator.userAgent,/Chrom(e|ium)\/([0-9]+)\./,2);result.minVersion = 38;return result;} // Edge.
if(navigator.mediaDevices && navigator.userAgent.match(/Edge\/(\d+).(\d+)$/)){result.browser = 'edge';result.version = this.extractVersion(navigator.userAgent,/Edge\/(\d+).(\d+)$/,2);result.minVersion = 10547;return result;} // Non supported browser default.
result.browser = 'Not a supported browser.';return result;}, /**
         * Extract browser version out of the provided user agent string.
         *
         * @private
         * @param {!string} uastring - userAgent string.
         * @param {!string} expr - Regular expression used as match criteria.
         * @param {!number} pos - position in the version string to be
         *     returned.
         * @return {!number} browser version.
         */extractVersion:function extractVersion(uastring,expr,pos){var match=uastring.match(expr);return match && match.length >= pos && parseInt(match[pos],10);},isEdge:function isEdge(){return this.detectBrowser().browser === 'edge';},isOpera:function isOpera(){return !!window.opera || navigator.userAgent.indexOf('OPR/') !== -1;},isChrome:function isChrome(){return this.detectBrowser().browser === 'chrome';}, /**
         * Remove any temporary data and references to streams.
         * @private
         */dispose:function dispose(){ // remove previous recording
if(this.mediaURL !== undefined){URL.revokeObjectURL(this.mediaURL);}}, /**
         * Add filename and timestamp to recorded file object.
         *
         * @param {(blob|file)} fileObj - Blob of File object.
         * @private
         */addFileInfo:function addFileInfo(fileObj){var now=new Date();fileObj.lastModifiedDate = now; // guess extension name from mime type, e.g. audio/ogg, but
// any extension is valid here. Chrome also accepts extended
// mime types like video/webm;codecs=h264,vp9,opus
var fileExtension='.' + fileObj.type.split('/')[1];if(fileExtension.indexOf(';') > -1){fileExtension = fileExtension.split(';')[0];} // use timestamp in filename, e.g. 1451180941326.ogg
fileObj.name = now.getTime() + fileExtension;}, /**
         * Invoked when recording is stopped and resulting stream is available.
         *
         * @param {blob} data - Reference to the recorded Blob.
         * @private
         */onStopRecording:function onStopRecording(data){this.recordedData = data;this.addFileInfo(this.recordedData); // store reference to recorded stream URL
this.dispose();this.mediaURL = URL.createObjectURL(this.recordedData); // notify listeners
this.trigger('recordComplete');}}); /**
     * Engine for the RecordRTC library.
     *
     * @private
     * @class
     * @augments videojs.RecordBase
     */_videoJs2['default'].RecordRTCEngine = _videoJs2['default'].extend(_videoJs2['default'].RecordBase,{ /**
         * Setup recording engine.
         * @private
         */setup:function setup(stream,mediaType,debug){this.inputStream = stream;this.mediaType = mediaType;this.debug = debug; // setup RecordRTC
this.engine = new MRecordRTC();this.engine.mediaType = this.mediaType;this.engine.disableLogs = !this.debug;this.engine.mimeType = this.mimeType; // audio settings
this.engine.bufferSize = this.bufferSize;this.engine.sampleRate = this.sampleRate;this.engine.numberOfAudioChannels = this.audioChannels; // video/canvas settings
this.engine.video = this.video;this.engine.canvas = this.canvas; // animated gif settings
this.engine.quality = this.quality;this.engine.frameRate = this.frameRate; // connect stream to recording engine
this.engine.addStream(this.inputStream);}, /**
         * Start recording.
         * @private
         */start:function start(){this.engine.startRecording();}, /**
         * Stop recording. Result will be available async when onStopRecording
         * is called.
         * @private
         */stop:function stop(){this.engine.stopRecording(this.onStopRecording.bind(this));}, /**
         * Invoked when recording is stopped and resulting stream is available.
         *
         * @private
         * @param {string} audioVideoURL - Reference to the recorded Blob
         *     object, e.g. 'blob:http://localhost:8080/10100016-4248-9949-b0d6-0bb40db56eba'
         * @param {string} type - Media type, eg. 'video' or 'audio'.
         */onStopRecording:function onStopRecording(audioVideoURL,type){ // store reference to recorded stream URL
this.mediaURL = audioVideoURL; // store reference to recorded stream data
var recordType=this.player().recorder.getRecordType();this.engine.getBlob((function(recording){switch(recordType){case this.AUDIO_ONLY:this.recordedData = recording.audio;this.addFileInfo(this.recordedData); // notify listeners
this.trigger('recordComplete');break;case this.VIDEO_ONLY:case this.AUDIO_VIDEO: // when recording both audio and video, recordrtc
// calls this twice on chrome, first with audio data
// and then with video data.
// on firefox it's called once but with a single
// blob that includes both audio and video data.
if(recording.video !== undefined){ // data is video-only but on firefox audio+video
this.recordedData = recording.video; // on the chrome browser two blobs are created
// containing the separate audio/video streams.
if(recordType === this.AUDIO_VIDEO && this.isChrome()){ // store both audio and video
this.recordedData = recording;for(var mtype in this.recordedData) {this.addFileInfo(this.recordedData[mtype]);}}else {this.addFileInfo(this.recordedData);} // notify listeners
this.trigger('recordComplete');}break;case this.ANIMATION:this.recordedData = recording.gif;this.addFileInfo(this.recordedData); // notify listeners
this.trigger('recordComplete');break;}}).bind(this));}}); /**
     * Record audio/video/images using the Video.js player.
     *
     * @class
     * @augments videojs.RecordBase
     */_videoJs2['default'].Recorder = _videoJs2['default'].extend(_videoJs2['default'].RecordBase,{ /**
         * The constructor function for the class.
         *
         * @param {(videojs.Player|Object)} player
         * @param {Object} options - Player options.
         */constructor:function constructor(player,options){ // run base component initializing with new options.
VjsComponent.call(this,player,options); // setup plugin options
this.loadOptions(); // (re)set recorder state
this.resetState(); // cross-browser getUserMedia
var promisifiedOldGUM=function promisifiedOldGUM(constraints,successCallback,errorCallback){ // get ahold of getUserMedia, if present
var getUserMedia=navigator.getUserMedia || navigator.webkitGetUserMedia || navigator.mozGetUserMedia || navigator.msGetUserMedia; // Some browsers just don't implement it - return a rejected
// promise with an error to keep a consistent interface
if(!getUserMedia){return Promise.reject(new Error('getUserMedia is not implemented in this browser'));} // otherwise, wrap the call to the old navigator.getUserMedia with
// a Promise
return new Promise(function(successCallback,errorCallback){getUserMedia.call(navigator,constraints,successCallback,errorCallback);});}; // Older browsers might not implement mediaDevices at all, so we set an
// empty object first
if(navigator.mediaDevices === undefined){navigator.mediaDevices = {};} // Some browsers partially implement mediaDevices. We can't just assign
// an object with getUserMedia as it would overwrite existing
// properties. Here, we will just add the getUserMedia property if it's
// missing.
if(navigator.mediaDevices.getUserMedia === undefined){navigator.mediaDevices.getUserMedia = promisifiedOldGUM;} // wait until player ui is ready
this.player().one('ready',this.setupUI.bind(this));}, /**
         * Setup plugin options.
         */loadOptions:function loadOptions(){ // record settings
this.recordImage = this.options_.options.image;this.recordAudio = this.options_.options.audio;this.recordVideo = this.options_.options.video;this.recordAnimation = this.options_.options.animation;this.maxLength = this.options_.options.maxLength;this.debug = this.options_.options.debug; // video/canvas settings
this.videoFrameWidth = this.options_.options.frameWidth;this.videoFrameHeight = this.options_.options.frameHeight;this.videoRecorderType = this.options_.options.videoRecorderType;this.videoMimeType = this.options_.options.videoMimeType; // audio settings
this.audioEngine = this.options_.options.audioEngine;this.audioRecorderType = this.options_.options.audioRecorderType;this.audioWorkerURL = this.options_.options.audioWorkerURL;this.audioBufferSize = this.options_.options.audioBufferSize;this.audioSampleRate = this.options_.options.audioSampleRate;this.audioChannels = this.options_.options.audioChannels;this.audioMimeType = this.options_.options.audioMimeType; // animation settings
this.animationFrameRate = this.options_.options.animationFrameRate;this.animationQuality = this.options_.options.animationQuality;}, /**
         * Player UI is ready.
         * @private
         */setupUI:function setupUI(){ // insert custom controls on left-side of controlbar
this.player().controlBar.addChild(this.player().cameraButton);this.player().controlBar.el().insertBefore(this.player().cameraButton.el(),this.player().controlBar.el().firstChild);this.player().controlBar.el().insertBefore(this.player().recordToggle.el(),this.player().controlBar.el().firstChild); // get rid of unused controls
if(this.player().controlBar.remainingTimeDisplay !== undefined){this.player().controlBar.remainingTimeDisplay.el().style.display = 'none';}if(this.player().controlBar.liveDisplay !== undefined){this.player().controlBar.liveDisplay.el().style.display = 'none';} // loop feature is not used in this plugin
this.player().loop(false); // tweak player UI based on type
switch(this.getRecordType()){case this.AUDIO_ONLY: // reference to videojs-wavesurfer plugin
this.surfer = this.player().waveform;if(this.surfer){ // initially hide playhead (fixed in wavesurfer 1.0.25)
this.playhead = this.surfer.el().getElementsByTagName('wave')[1];this.playhead.style.display = 'none';}break;case this.IMAGE_ONLY:case this.VIDEO_ONLY:case this.AUDIO_VIDEO:case this.ANIMATION: // customize controls
// XXX: below are customizations copied from videojs.wavesurfer that
//      tweak the video.js UI...
this.player().bigPlayButton.hide(); // loadedmetadata resets the durationDisplay for the
// first time
this.player().one('loadedmetadata',(function(){ // display max record time
this.setDuration(this.maxLength);}).bind(this)); // the native controls don't work for this UI so disable
// them no matter what
if(this.player().usingNativeControls_ === true){if(this.player().tech_.el_ !== undefined){this.player().tech_.el_.controls = false;}}if(this.player().options_.controls){ // progress control isn't used by this plugin
this.player().controlBar.progressControl.hide(); // prevent controlbar fadeout
this.player().on('userinactive',function(event){this.player().userActive(true);}); // videojs automatically hides the controls when no valid 'source'
// element is included in the 'audio' tag. Don't. Ever again.
this.player().controlBar.show();this.player().controlBar.el().style.display = 'flex';}break;} // disable currentTimeDisplay's 'timeupdate' event listener that
// constantly tries to reset the current time value to 0
this.player().off('timeupdate'); // display max record time
this.setDuration(this.maxLength); // hide play control
this.player().controlBar.playToggle.hide();}, /**
         * Indicates whether the plugin is currently recording or not.
         *
         * @return {boolean} Plugin currently recording or not.
         */isRecording:function isRecording(){return this._recording;}, /**
         * Indicates whether the plugin is currently processing recorded data
         * or not.
         *
         * @return {boolean} Plugin processing or not.
         */isProcessing:function isProcessing(){return this._processing;}, /**
         * Indicates whether the plugin is destroyed or not.
         *
         * @return {boolean} Plugin destroyed or not.
         */isDestroyed:function isDestroyed(){return this.player() && this.player().children() === null;}, /**
         * Open the browser's recording device selection dialog.
         */getDevice:function getDevice(){ // define device callbacks once
if(this.deviceReadyCallback === undefined){this.deviceReadyCallback = this.onDeviceReady.bind(this);}if(this.deviceErrorCallback === undefined){this.deviceErrorCallback = this.onDeviceError.bind(this);}if(this.engineStopCallback === undefined){this.engineStopCallback = this.onRecordComplete.bind(this);} // ask the browser to give the user access to the media device
// and get a stream reference in the callback function
switch(this.getRecordType()){case this.AUDIO_ONLY: // setup microphone
this.mediaType = {audio:this.audioRecorderType === 'auto'?true:this.audioRecorderType,video:false}; // remove existing microphone listeners
this.surfer.microphone.un('deviceReady',this.deviceReadyCallback);this.surfer.microphone.un('deviceError',this.deviceErrorCallback); // setup new microphone listeners
this.surfer.microphone.on('deviceReady',this.deviceReadyCallback);this.surfer.microphone.on('deviceError',this.deviceErrorCallback); // disable existing playback events
this.surfer.setupPlaybackEvents(false); // (re)set surfer liveMode
this.surfer.liveMode = true;this.surfer.microphone.paused = false; // open browser device selection dialog
this.surfer.microphone.start();break;case this.IMAGE_ONLY:case this.VIDEO_ONLY: // setup camera
this.mediaType = {audio:false,video:this.videoRecorderType === 'auto'?true:this.videoRecorderType};navigator.mediaDevices.getUserMedia({audio:false,video:this.getRecordType() === this.IMAGE_ONLY?this.recordImage:this.recordVideo}).then(this.onDeviceReady.bind(this))['catch'](this.onDeviceError.bind(this));break;case this.AUDIO_VIDEO: // setup camera and microphone
this.mediaType = {audio:this.audioRecorderType === 'auto'?true:this.audioRecorderType,video:this.videoRecorderType === 'auto'?true:this.videoRecorderType};navigator.mediaDevices.getUserMedia({audio:this.recordAudio,video:this.recordVideo}).then(this.onDeviceReady.bind(this))['catch'](this.onDeviceError.bind(this));break;case this.ANIMATION: // setup camera
this.mediaType = { // animated GIF
audio:false,video:false,gif:true};navigator.mediaDevices.getUserMedia({audio:false,video:this.recordAnimation}).then(this.onDeviceReady.bind(this))['catch'](this.onDeviceError.bind(this));break;}}, /**
         * Invoked when the device is ready.
         * @private
         * @param stream: LocalMediaStream instance.
         */onDeviceReady:function onDeviceReady(stream){this._deviceActive = true; // store reference to stream for stopping etc.
this.stream = stream; // forward to listeners
this.player().trigger('deviceReady'); // hide device selection button
this.player().deviceButton.hide(); // reset time (e.g. when stopDevice was used)
this.setDuration(this.maxLength);this.setCurrentTime(0); // hide play/pause control (e.g. when stopDevice was used)
this.player().controlBar.playToggle.hide(); // reset playback listeners
this.off(this.player(),'timeupdate',this.playbackTimeUpdate);this.off(this.player(),'pause',this.onPlayerPause);this.off(this.player(),'play',this.onPlayerStart); // setup recording engine
if(this.getRecordType() !== this.IMAGE_ONLY){ // currently libvorbis.js, recorder.js, opus-recorder and lamejs
// are only supported in audio-only mode
if(this.getRecordType() !== this.AUDIO_ONLY && (this.audioEngine === this.LIBVORBISJS || this.audioEngine === this.RECORDERJS || this.audioEngine === this.LAMEJS || this.audioEngine === this.OPUSRECORDER)){throw new Error('Currently ' + this.audioEngine + ' is only supported in audio-only mode.');} // get recorder class
var EngineClass;switch(this.audioEngine){case this.RECORDRTC: // RecordRTC.js (default)
EngineClass = _videoJs2['default'].RecordRTCEngine;break;case this.LIBVORBISJS: // libvorbis.js
EngineClass = _videoJs2['default'].LibVorbisEngine;break;case this.RECORDERJS: // recorder.js
EngineClass = _videoJs2['default'].RecorderjsEngine;break;case this.LAMEJS: // lamejs
EngineClass = _videoJs2['default'].LamejsEngine;break;case this.OPUSRECORDER: // opus-recorder
EngineClass = _videoJs2['default'].OpusRecorderEngine;break;default: // unknown engine
throw new Error('Unknown audioEngine: ' + this.audioEngine);}try{ // connect stream to recording engine
this.engine = new EngineClass(this.player());}catch(err) {throw new Error('Could not load ' + this.audioEngine + ' plugin');} // listen for events
this.engine.on('recordComplete',this.engineStopCallback); // audio settings
this.engine.bufferSize = this.audioBufferSize;this.engine.sampleRate = this.audioSampleRate;this.engine.audioChannels = this.audioChannels;this.engine.audioWorkerURL = this.audioWorkerURL; // mime type
this.engine.mimeType = {video:this.videoMimeType,gif:'image/gif'};if(this.audioMimeType !== null && this.audioMimeType !== 'auto'){this.engine.mimeType.audio = this.audioMimeType;} // video/canvas settings
this.engine.video = {width:this.videoFrameWidth,height:this.videoFrameHeight};this.engine.canvas = {width:this.videoFrameWidth,height:this.videoFrameHeight}; // animated GIF settings
this.engine.quality = this.animationQuality;this.engine.frameRate = this.animationFrameRate; // initialize recorder
this.engine.setup(this.stream,this.mediaType,this.debug); // show elements that should never be hidden in animation,
// audio and/or video modus
var element;var uiElements=[this.player().controlBar.currentTimeDisplay,this.player().controlBar.timeDivider,this.player().controlBar.durationDisplay];for(element in uiElements) {uiElements[element].el().style.display = 'block';uiElements[element].show();} // show record button
this.player().recordToggle.show();}else { // disable record indicator
this.player().recordIndicator.disable(); // setup UI for retrying snapshot (e.g. when stopDevice was
// used)
this.retrySnapshot(); // reset and show camera button
this.player().cameraButton.onStop();this.player().cameraButton.show();} // setup preview
if(this.getRecordType() !== this.AUDIO_ONLY){ // show live preview
this.mediaElement = this.player().el().firstChild;this.mediaElement.controls = false; // mute incoming audio for feedback loops
this.mediaElement.muted = true; // hide the volume bar while it's muted
this.displayVolumeControl(false); // start stream
if(this.streamURL !== undefined){URL.revokeObjectURL(this.streamURL);}this.streamURL = URL.createObjectURL(this.stream);this.load(this.streamURL);this.mediaElement.play();}}, /**
         * Invoked when an device error occurred.
         * @private
         */onDeviceError:function onDeviceError(code){this._deviceActive = false; // store code
this.player().deviceErrorCode = code; // forward error to player
this.player().trigger('deviceError');}, /**
         * Start recording.
         */start:function start(){if(!this.isProcessing()){this._recording = true; // hide play control
this.player().controlBar.playToggle.hide(); // setup preview engine
switch(this.getRecordType()){case this.AUDIO_ONLY: // disable playback events
this.surfer.setupPlaybackEvents(false); // hide playhead
// backwards compat (fixed since wavesurfer 1.0.25)
this.playhead.style.display = 'none'; // start/resume live audio visualization
this.surfer.microphone.paused = false;this.surfer.liveMode = true;this.player().play();break;case this.VIDEO_ONLY:case this.AUDIO_VIDEO:this.startVideoPreview();break;case this.ANIMATION: // hide the first frame
this.player().recordCanvas.hide(); // hide the animation
this.player().animationDisplay.hide(); // show preview video
this.mediaElement.style.display = 'block'; // for animations, capture the first frame
// that can be displayed as soon as recording
// is complete
this.captureFrame(); // start video preview **after** capturing first frame
this.startVideoPreview();break;} // start recording
if(this.getRecordType() !== this.IMAGE_ONLY){ // start countdown
this.startTime = new Date().getTime();this.countDown = this.setInterval(this.onCountDown.bind(this),100); // cleanup previous recording
if(this.engine !== undefined){this.engine.dispose();} // start recording stream
this.engine.start();}else { // create snapshot
this.createSnapshot();} // notify UI
this.player().trigger('startRecord');}}, /**
         * Stop recording.
         */stop:function stop(){if(!this.isProcessing()){this._recording = false;this._processing = true; // notify UI
this.player().trigger('stopRecord');if(this.getRecordType() !== this.IMAGE_ONLY){ // stop countdown
this.clearInterval(this.countDown); // stop recording stream (result will be available async)
if(this.engine){this.engine.stop();}}else {if(this.player().recordedData){ // notify listeners that image data is (already) available
this.player().trigger('finishRecord');}}}}, /**
         * Stop device(s) and recording if active.
         */stopDevice:function stopDevice(){if(this.isRecording()){ // stop stream once recorded data is available,
// otherwise it'll break recording
this.player().one('finishRecord',this.stopStream.bind(this)); // stop recording
this.stop();}else { // stop stream now, since there's no recorded data available
this.stopStream();}}, /**
         * Stop stream and device.
         */stopStream:function stopStream(){ // stop stream and device
if(this.stream){this._deviceActive = false;if(this.getRecordType() === this.AUDIO_ONLY){ // make the microphone plugin stop it's device
this.surfer.microphone.stopDevice();return;} // MediaStream.stop is deprecated since:
// - Chrome 45 (https://developers.google.com/web/updates/2015/07/mediastream-deprecations)
// - Firefox 44 (https://www.fxsitecompat.com/en-US/docs/2015/mediastream-stop-has-been-deprecated/,
//   https://bugzilla.mozilla.org/show_bug.cgi?id=1103188#c106 and
//   https://bugzilla.mozilla.org/show_bug.cgi?id=1192170)
var result=this.detectBrowser();if(result.browser === 'chrome' && result.version >= 45 || result.browser === 'firefox' && result.version >= 44 || result.browser === 'edge'){switch(this.getRecordType()){case this.VIDEO_ONLY:case this.ANIMATION:case this.IMAGE_ONLY:case this.AUDIO_VIDEO:this.stream.getTracks().forEach(function(stream){stream.stop();});break;}return;} // fallback for older browsers
this.stream.stop();}}, /**
         * Invoked when recording completed and the resulting stream is
         * available.
         * @private
         */onRecordComplete:function onRecordComplete(){ // store reference to recorded stream URL
this.mediaURL = this.engine.mediaURL; // store reference to recorded stream data
switch(this.getRecordType()){case this.AUDIO_ONLY: // show play control
this.player().controlBar.playToggle.show(); // store recorded data
this.player().recordedData = this.engine.recordedData; // notify listeners that data is available
this.player().trigger('finishRecord'); // Pausing the player so we can visualize the recorded data
// will trigger an async video.js 'pause' event that we
// have to wait for.
this.player().one('pause',(function(){ // setup events during playback
this.surfer.setupPlaybackEvents(true); // display loader
this.player().loadingSpinner.show(); // show playhead
this.playhead.style.display = 'block'; // restore interaction with controls after waveform
// rendering is complete
this.surfer.surfer.once('ready',(function(){this._processing = false;}).bind(this)); // visualize recorded stream
this.load(this.player().recordedData);}).bind(this)); // pause player so user can start playback
this.player().pause();break;case this.VIDEO_ONLY:case this.AUDIO_VIDEO: // show play control
this.player().controlBar.playToggle.show(); // store recorded data (video-only or firefox audio+video)
this.player().recordedData = this.engine.recordedData; // notify listeners that data is available
this.player().trigger('finishRecord'); // remove previous listeners
this.off(this.player(),'pause',this.onPlayerPause);this.off(this.player(),'play',this.onPlayerStart); // pausing the player so we can visualize the recorded data
// will trigger an async video.js 'pause' event that we
// have to wait for.
this.player().one('pause',(function(){ // video data is ready
this._processing = false; // hide loader
this.player().loadingSpinner.hide(); // show stream total duration
this.setDuration(this.streamDuration); // update time during playback
this.on(this.player(),'timeupdate',this.playbackTimeUpdate); // because there are 2 separate data streams for audio
// and video in the Chrome browser, playback the audio
// stream in a new extra audio element and the video
// stream in the regular video.js player.
if(this.getRecordType() === this.AUDIO_VIDEO && this.isChrome() && this.player().recordedData.audio){if(this.extraAudio === undefined){this.extraAudio = this.createEl('audio');this.extraAudio.id = 'extraAudio'; // handle volume changes in extra audio
// for chrome
this.player().on('volumechange',this.onVolumeChange.bind(this));}if(this.extraAudioURL !== undefined){URL.revokeObjectURL(this.extraAudioURL);}this.extraAudioURL = URL.createObjectURL(this.player().recordedData.audio);this.extraAudio.src = this.extraAudioURL; // pause extra audio when player pauses
this.on(this.player(),'pause',this.onPlayerPause);} // workaround some browser issues when player starts
this.on(this.player(),'play',this.onPlayerStart); // unmute local audio during playback
if(this.getRecordType() === this.AUDIO_VIDEO){this.mediaElement.muted = false; // show the volume bar when it's unmuted
this.displayVolumeControl(true);} // load recorded media
this.load(this.mediaURL);}).bind(this)); // pause player so user can start playback
this.player().pause();break;case this.ANIMATION: // show play control
this.player().controlBar.playToggle.show(); // store recorded data
this.player().recordedData = this.engine.recordedData; // notify listeners that data is available
this.player().trigger('finishRecord'); // animation data is ready
this._processing = false; // hide loader
this.player().loadingSpinner.hide(); // show animation total duration
this.setDuration(this.streamDuration); // hide preview video
this.mediaElement.style.display = 'none'; // show the first frame
this.player().recordCanvas.show(); // pause player so user can start playback
this.player().pause(); // show animation on play
this.on(this.player(),'play',this.showAnimation); // hide animation on pause
this.on(this.player(),'pause',this.hideAnimation);break;}}, /**
         * Fired when the volume in the temporary audio element
         * for Chrome in audio+video mode is present.
         * @private
         */onVolumeChange:function onVolumeChange(){var volume=this.player().volume();if(this.player().muted()){ // muted volume
volume = 0;}if(this.extraAudio !== undefined){this.extraAudio.volume = volume;}}, /**
         * Invoked during recording and displays the remaining time.
         * @private
         */onCountDown:function onCountDown(){var currentTime=(new Date().getTime() - this.startTime) / 1000;var duration=this.maxLength;this.streamDuration = currentTime;if(currentTime >= duration){ // at the end
currentTime = duration; // stop recording
this.stop();} // update duration
this.setDuration(duration); // update current time
this.setCurrentTime(currentTime,duration);}, /**
         * Updates the player's element displaying the current time.
         *
         * @private
         * @param {number} [currentTime=0] - Current position of the
         *    playhead (in seconds).
         * @param {number} [duration=0] - Duration in seconds.
         */setCurrentTime:function setCurrentTime(currentTime,duration){currentTime = isNaN(currentTime)?0:currentTime;duration = isNaN(duration)?0:duration;switch(this.getRecordType()){case this.AUDIO_ONLY:this.surfer.setCurrentTime(currentTime,duration);break;case this.VIDEO_ONLY:case this.AUDIO_VIDEO:case this.ANIMATION:var time=Math.min(currentTime,duration); // update control
this.player().controlBar.currentTimeDisplay.el().firstChild.innerHTML = this.formatTime(time,duration);break;}}, /**
         * Updates the player's element displaying the duration time.
         *
         * @private
         * @param {number} [duration=0] - Duration in seconds.
         */setDuration:function setDuration(duration){duration = isNaN(duration)?0:duration;switch(this.getRecordType()){case this.AUDIO_ONLY:this.surfer.setDuration(duration);break;case this.VIDEO_ONLY:case this.AUDIO_VIDEO:case this.ANIMATION: // update control
this.player().controlBar.durationDisplay.el().firstChild.innerHTML = this.formatTime(duration,duration);break;}}, /**
         * Start loading data.
         *
         * @param {(string|blob|file)} url - Either the URL of the media file,
         *     a Blob or a File object.
         */load:function load(url){switch(this.getRecordType()){case this.AUDIO_ONLY: // visualize recorded stream
this.surfer.load(url);break;case this.IMAGE_ONLY:case this.VIDEO_ONLY:case this.AUDIO_VIDEO:case this.ANIMATION: // assign stream to audio/video element source
this.mediaElement.src = url;break;}}, /**
         * Destroy plugin and players and cleanup resources.
         */destroy:function destroy(){ // prevent callbacks if recording is in progress
if(this.engine){this.engine.dispose();this.engine.off('recordComplete',this.engineStopCallback);} // stop recording and device
this.stop();this.stopDevice(); // stop countdown
this.clearInterval(this.countDown); // dispose player
switch(this.getRecordType()){case this.AUDIO_ONLY:if(this.surfer){ // also disposes player
this.surfer.destroy();}break;case this.IMAGE_ONLY:case this.VIDEO_ONLY:case this.AUDIO_VIDEO:case this.ANIMATION:this.player().dispose();break;}this.resetState();}, /**
         * Reset the plugin.
         */reset:function reset(){ // prevent callbacks if recording is in progress
if(this.engine){this.engine.dispose();this.engine.off('recordComplete',this.engineStopCallback);} // stop recording and device
this.stop();this.stopDevice(); // stop countdown
this.clearInterval(this.countDown); // reset options
this.loadOptions(); // reset recorder state
this.resetState(); // reset record time
this.setDuration(this.maxLength);this.setCurrentTime(0); // reset player
this.player().reset();switch(this.getRecordType()){case this.AUDIO_ONLY:if(this.surfer && this.surfer.surfer){ // empty last frame
this.surfer.surfer.empty();}break;case this.IMAGE_ONLY:case this.ANIMATION: // reset UI
this.player().recordCanvas.hide();this.player().cameraButton.hide();break;} // hide play control
this.player().controlBar.playToggle.hide(); // show device selection button
this.player().deviceButton.show(); // hide record button
this.player().recordToggle.hide(); // loadedmetadata resets the durationDisplay for the
// first time
this.player().one('loadedmetadata',(function(){ // display max record time
this.setDuration(this.maxLength);}).bind(this));}, /**
         * Reset the plugin recorder state.
         * @private
         */resetState:function resetState(){this._recording = false;this._processing = false;this._deviceActive = false;this.devices = [];}, /**
         * Get recorder type.
         */getRecordType:function getRecordType(){if(this.isModeEnabled(this.recordImage)){return this.IMAGE_ONLY;}else if(this.isModeEnabled(this.recordAnimation)){return this.ANIMATION;}else if(this.isModeEnabled(this.recordAudio) && !this.isModeEnabled(this.recordVideo)){return this.AUDIO_ONLY;}else if(this.isModeEnabled(this.recordAudio) && this.isModeEnabled(this.recordVideo)){return this.AUDIO_VIDEO;}else if(!this.isModeEnabled(this.recordAudio) && this.isModeEnabled(this.recordVideo)){return this.VIDEO_ONLY;}}, /**
         * Create and display snapshot image.
         * @private
         */createSnapshot:function createSnapshot(){var recordCanvas=this.captureFrame(); // turn the canvas data into base-64 data with a PNG header
this.player().recordedData = recordCanvas.toDataURL('image/png'); // hide preview video
this.mediaElement.style.display = 'none'; // show the snapshot
this.player().recordCanvas.show(); // stop recording
this.stop();}, /**
         * Reset UI for retrying a snapshot image.
         * @private
         */retrySnapshot:function retrySnapshot(){this._processing = false; // retry: hide the snapshot
this.player().recordCanvas.hide(); // show preview video
this.player().el().firstChild.style.display = 'block';}, /**
         * Capture frame from camera and copy data to canvas.
         * @private
         */captureFrame:function captureFrame(){var recordCanvas=this.player().recordCanvas.el().firstChild; // set the canvas size to the dimensions of the camera,
// which also wipes the content of the canvas
recordCanvas.width = this.player().width();recordCanvas.height = this.player().height(); // get a frame of the stream and copy it onto the canvas
recordCanvas.getContext('2d').drawImage(this.mediaElement,0,0,recordCanvas.width,recordCanvas.height);return recordCanvas;}, /**
         * Start preview of video stream.
         * @private
         */startVideoPreview:function startVideoPreview(){ // disable playback events
this.off('timeupdate');this.off('play'); // mute local audio
this.mediaElement.muted = true; // hide volume control to prevent feedback
this.displayVolumeControl(false); // start or resume live preview
if(this.streamURL !== undefined){URL.revokeObjectURL(this.streamURL);}this.streamURL = URL.createObjectURL(this.stream);this.load(this.streamURL);this.mediaElement.play();}, /**
         * Show animated GIF.
         * @private
         */showAnimation:function showAnimation(){var animationDisplay=this.player().animationDisplay.el().firstChild; // set the image size to the dimensions of the recorded animation
animationDisplay.width = this.player().width();animationDisplay.height = this.player().height(); // hide the first frame
this.player().recordCanvas.hide(); // show the animation
animationDisplay.src = this.mediaURL;this.player().animationDisplay.show();}, /**
         * Hide animated GIF.
         * @private
         */hideAnimation:function hideAnimation(){ // show the first frame
this.player().recordCanvas.show(); // hide the animation
this.player().animationDisplay.hide();}, /**
         * Player started playback.
         * @private
         */onPlayerStart:function onPlayerStart(){ // workaround Firefox issue
if(this.player().seeking()){ // There seems to be a Firefox issue
// with playing back blobs. The ugly,
// but functional workaround, is to
// simply reset the source. See
// https://bugzilla.mozilla.org/show_bug.cgi?id=969290
this.load(this.mediaURL);this.player().play();} // workaround chrome issue
if(this.getRecordType() === this.AUDIO_VIDEO && this.isChrome() && !this._recording && this.extraAudio !== undefined){ // sync extra audio playhead position with video.js player
this.extraAudio.currentTime = this.player().currentTime();this.extraAudio.play();}}, /**
         * Player is paused.
         * @private
         */onPlayerPause:function onPlayerPause(){ // pause extra audio when video.js player pauses
if(this.extraAudio !== undefined){this.extraAudio.pause();}}, /**
         * Update time during playback.
         * @private
         */playbackTimeUpdate:function playbackTimeUpdate(){this.setCurrentTime(this.player().currentTime(),this.streamDuration);}, /**
         * Collects information about the media input and output devices
         * available on the system.
         *
         * Returns an array.
         */enumerateDevices:function enumerateDevices(){var self=this;if(!navigator.mediaDevices || !navigator.mediaDevices.enumerateDevices){self.player().enumerateErrorCode = 'enumerateDevices() not supported.';self.player().trigger('enumerateError');return;} // List cameras and microphones.
navigator.mediaDevices.enumerateDevices(this).then(function(devices){self.devices = [];devices.forEach(function(device){self.devices.push(device);}); // notify listeners
self.player().trigger('enumerateReady');})['catch'](function(err){self.player().enumerateErrorCode = err;self.player().trigger('enumerateError');});}, /**
         * Show or hide the volume menu.
         *
         * @private
         * @param {boolean} display - Hide/show volume control.
         */displayVolumeControl:function displayVolumeControl(display){if(this.player().controlBar.volumeMenuButton !== undefined){if(display === true){display = 'block';}else {display = 'none';}this.player().controlBar.volumeMenuButton.el().style.display = display;}}, /**
         * Format seconds as a time string, H:MM:SS, M:SS or M:SS:MMM.
         *
         * Supplying a guide (in seconds) will force a number of leading zeros
         * to cover the length of the guide.
         *
         * @param {number} seconds - Number of seconds to be turned into a
         *     string.
         * @param {number} guide - Number (in seconds) to model the string
         *     after.
         * @return {string} Time formatted as H:MM:SS, M:SS or M:SS:MMM, e.g.
         *     0:00:12.
         * @private
         */formatTime:function formatTime(seconds,guide){ // Default to using seconds as guide
seconds = seconds < 0?0:seconds;guide = guide || seconds;var s=Math.floor(seconds % 60),m=Math.floor(seconds / 60 % 60),h=Math.floor(seconds / 3600),gm=Math.floor(guide / 60 % 60),gh=Math.floor(guide / 3600),ms=Math.floor((seconds - s) * 1000); // Handle invalid times
if(isNaN(seconds) || seconds === Infinity){ // '-' is false for all relational operators (e.g. <, >=) so this
// setting will add the minimum number of fields specified by the
// guide
h = m = s = ms = '-';} // Check if we need to show milliseconds
if(guide > 0 && guide < this.msDisplayMax){if(ms < 100){if(ms < 10){ms = '00' + ms;}else {ms = '0' + ms;}}ms = ':' + ms;}else {ms = '';} // Check if we need to show hours
h = h > 0 || gh > 0?h + ':':''; // If hours are showing, we may need to add a leading zero.
// Always show at least one digit of minutes.
m = (h && m < 10?'0' + m:m) + ':'; // Check if leading zero is need for seconds
s = s < 10?'0' + s:s;return h + m + s + ms;}, /**
         * Return boolean indicating whether mode is enabled or not.
        */isModeEnabled:function isModeEnabled(mode){return mode === Object(mode) || mode === true;}});var RecordToggle,CameraButton,DeviceButton,RecordIndicator,RecordCanvas,AnimationDisplay; /**
     * Button to toggle between start and stop recording.
     * @private
     * @class
     * @augments videojs.Button
    */RecordToggle = _videoJs2['default'].extend(VjsButton,{ /** @constructor */constructor:function constructor(player,options){VjsButton.call(this,player,options);this.on('click',this.onClick);this.on('tap',this.onClick);this.on(player,'startRecord',this.onStart);this.on(player,'stopRecord',this.onStop);}});RecordToggle.prototype.onClick = function(e){ // stop this event before it bubbles up
e.stopImmediatePropagation();var recorder=this.player().recorder;if(!recorder.isRecording()){recorder.start();}else {recorder.stop();}};RecordToggle.prototype.onStart = function(){ // replace element class so it can change appearance
this.removeClass('vjs-icon-record-start');this.addClass('vjs-icon-record-stop'); // update label
this.el().firstChild.firstChild.innerHTML = this.localize('Stop');};RecordToggle.prototype.onStop = function(){ // replace element class so it can change appearance
this.removeClass('vjs-icon-record-stop');this.addClass('vjs-icon-record-start'); // update label
this.el().firstChild.firstChild.innerHTML = this.localize('Record');}; /**
     * Button to toggle between create and retry snapshot image.
     * @private
     * @class
     * @augments videojs.Button
    */CameraButton = _videoJs2['default'].extend(VjsButton,{ /** @constructor */constructor:function constructor(player,options){VjsButton.call(this,player,options);this.on('click',this.onClick);this.on('tap',this.onClick);this.on(player,'startRecord',this.onStart);this.on(player,'stopRecord',this.onStop);}});CameraButton.prototype.onClick = function(e){ // stop this event before it bubbles up
e.stopImmediatePropagation();var recorder=this.player().recorder;if(!recorder.isProcessing()){ // create snapshot
recorder.start();}else { // retry
recorder.retrySnapshot(); // reset camera button
this.onStop();}};CameraButton.prototype.onStart = function(){ // replace element class so it can change appearance
this.removeClass('vjs-icon-photo-camera');this.addClass('vjs-icon-photo-retry'); // update label
this.el().firstChild.firstChild.innerHTML = this.localize('Retry');};CameraButton.prototype.onStop = function(){ // replace element class so it can change appearance
this.removeClass('vjs-icon-photo-retry');this.addClass('vjs-icon-photo-camera'); // update label
this.el().firstChild.firstChild.innerHTML = this.localize('Image');}; /**
     * Button to select recording device.
     * @private
     * @class
     * @augments videojs.Button
    */DeviceButton = _videoJs2['default'].extend(VjsButton,{ /** @constructor */constructor:function constructor(player,options){VjsButton.call(this,player,options);this.on('click',this.onClick);this.on('tap',this.onClick);}});DeviceButton.prototype.onClick = function(e){ // stop this event before it bubbles up
e.stopImmediatePropagation(); // open device dialog
this.player().recorder.getDevice();}; /**
     * Icon indicating recording is active.
     * @private
     * @class
     * @augments videojs.Component
    */RecordIndicator = _videoJs2['default'].extend(VjsComponent,{ /** @constructor */constructor:function constructor(player,options){VjsComponent.call(this,player,options);this.on(player,'startRecord',this.show);this.on(player,'stopRecord',this.hide);}});RecordIndicator.prototype.disable = function(){ // disable record indicator event handlers
this.off(this.player(),'startRecord',this.show);this.off(this.player(),'stopRecord',this.hide);}; /**
     * Canvas for displaying snapshot image.
     * @private
     * @class
     * @augments videojs.Component
    */RecordCanvas = _videoJs2['default'].extend(VjsComponent); /**
     * Image for displaying animated GIF image.
     * @private
     * @class
     * @augments videojs.Component
    */AnimationDisplay = _videoJs2['default'].extend(VjsComponent); /**
     * Create a custom button.
     * @private
     * @param {string} className - Class name for the new button.
     * @param {string} label - Label for the new button.
     * @param {string} iconName - Icon for the new button.
     */var createButton=function createButton(className,label,iconName){var props={className:'vjs-' + className + '-button vjs-control vjs-icon-' + iconName,innerHTML:'<div class="vjs-control-content"><span class="vjs-control-text">' + label + '</span></div>'};var attrs={role:'button','aria-live':'polite', // let the screen reader user know that the text of the button may change
tabIndex:0};return VjsComponent.prototype.createEl('div',props,attrs);};var createPlugin=function createPlugin(){var props={className:'vjs-record'};var attrs={tabIndex:0};return VjsComponent.prototype.createEl('div',props,attrs);}; // plugin defaults
var defaults={ // Single snapshot image.
image:false, // Include audio in the recorded clip.
audio:false, // Include video in the recorded clip.
video:false, // Animated GIF.
animation:false, // Maximum length of the recorded clip.
maxLength:10, // Width of the recorded video frames.
frameWidth:320, // Height of the recorded video frames.
frameHeight:240, // Enables console logging for debugging purposes.
debug:false, // The mime type for the video recorder. Default to 'video/webm'.
// Use 'video/mp4' (Firefox) or 'video/webm;codecs=H264' (Chrome 52 and
// newer) for MP4.
videoMimeType:'video/webm', // Video recorder type to use. This allows you to specify an alternative
// recorder class, e.g. WhammyRecorder. Defaults to 'auto' which let's
// recordrtc specify the best available recorder type.
videoRecorderType:'auto', // Audio recording library to use. Legal values are 'recordrtc',
// 'libvorbis.js', 'opus-recorder', 'lamejs' and 'recorder.js'.
audioEngine:'recordrtc', // Audio recorder type to use. This allows you to specify an alternative
// recorder class, e.g. StereoAudioRecorder. Defaults to 'auto' which let's
// recordrtc specify the best available recorder type. Currently this
// setting is only used with the 'recordrtc' audioEngine.
audioRecorderType:'auto', // The mime type for the audio recorder. Defaults to 'auto' which will pick
// the best option available in the browser (e.g. either 'audio/wav',
// 'audio/ogg' or 'audio/webm').
audioMimeType:'auto', // The size of the audio buffer (in sample-frames) which needs to
// be processed each time onprocessaudio is called.
// From the spec: This value controls how frequently the audioprocess event is
// dispatched and how many sample-frames need to be processed each call.
// Lower values for buffer size will result in a lower (better) latency.
// Higher values will be necessary to avoid audio breakup and glitches.
// Legal values are 256, 512, 1024, 2048, 4096, 8192 or 16384.
audioBufferSize:4096, // The audio sample rate (in sample-frames per second) at which the
// AudioContext handles audio. It is assumed that all AudioNodes
// in the context run at this rate. In making this assumption,
// sample-rate converters or "varispeed" processors are not supported
// in real-time processing.
// The sampleRate parameter describes the sample-rate of the
// linear PCM audio data in the buffer in sample-frames per second.
// An implementation must support sample-rates in at least
// the range 22050 to 96000.
audioSampleRate:44100, // Allows you to record single-channel audio, which can reduce the
// filesize.
audioChannels:2, // URL for the audio worker.
audioWorkerURL:'', // Frame rate in frames per second.
animationFrameRate:200, // Sets quality of color quantization (conversion of images to the
// maximum 256 colors allowed by the GIF specification).
// Lower values (minimum = 1) produce better colors,
// but slow processing significantly. 10 is the default,
// and produces good color mapping at reasonable speeds.
// Values greater than 20 do not yield significant improvements
// in speed.
animationQuality:10}; /**
	 * Initialize the plugin.
	 *
	 * @param {object} [options] - Configuration for the plugin.
	 * @private
	 */var settings=_videoJs2['default'].mergeOptions(defaults,options);var player=this; // create recorder
player.recorder = new _videoJs2['default'].Recorder(player,{'el':createPlugin(),'options':settings});player.addChild(player.recorder); // add device button
player.deviceButton = new DeviceButton(player,{'el':createButton('device',player.localize('Device'),'device-perm')});player.recorder.addChild(player.deviceButton); // add record indicator
player.recordIndicator = new RecordIndicator(player,{'el':VjsComponent.prototype.createEl('div',{className:'vjs-record-indicator vjs-control'})});player.recordIndicator.hide();player.recorder.addChild(player.recordIndicator); // add canvas for recording and displaying image
player.recordCanvas = new RecordCanvas(player,{'el':VjsComponent.prototype.createEl('div',{className:'vjs-record-canvas',innerHTML:'<canvas></canvas>'})});player.recordCanvas.hide();player.recorder.addChild(player.recordCanvas); // add image for animation display
player.animationDisplay = new AnimationDisplay(player,{'el':VjsComponent.prototype.createEl('div',{className:'vjs-animation-display',innerHTML:'<img />'})});player.animationDisplay.hide();player.recorder.addChild(player.animationDisplay); // add camera button
player.cameraButton = new CameraButton(player,{'el':createButton('camera',player.localize('Image'),'photo-camera')});player.cameraButton.hide(); // add record toggle
player.recordToggle = new RecordToggle(player,{'el':createButton('record',player.localize('Record'),'record-start')});player.recordToggle.hide();}; // Register the plugin with video.js.
_videoJs2['default'].plugin('open',open);_videoJs2['default'].plugin('videoJsResolutionSwitcher',videoJsResolutionSwitcher);_videoJs2['default'].plugin('disableProgress',disableProgress);_videoJs2['default'].plugin('markers',markers);_videoJs2['default'].plugin('waterMark',waterMark);_videoJs2['default'].plugin('record',record); // Include the version number.
open.VERSION = '1.0.0';exports['default'] = open;module.exports = exports['default'];

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{}]},{},[1])(1)
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCIvVXNlcnMvb3Blbi9Eb2N1bWVudHMvV29yay9Tb3VyY2VUcmVlL3Zqcy1vcGVuL3NyYy9wbHVnaW4uanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7O2tMQ0FvQixVQUFVO0FBRzlCLElBQU0sUUFBUSxDQUFHLEVBQUUsQ0FBQzs7Ozs7Ozs7OztHQWFwQixJQUFNLGFBQWEsQ0FBRyxTQUFoQixhQUFhLENBQUksTUFBTSxDQUFFLE9BQU8sQ0FBSyxDQUMxQyxNQUFNLENBQUMsUUFBUSxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBRTVCLENBQUM7Ozs7Ozs7Ozs7O0dBY0YsSUFBTSxJQUFJLENBQUcsU0FBUCxJQUFJLENBQVksT0FBTyxDQUFFLGdCQUM5QixJQUFJLENBQUMsS0FBSyxDQUFDLFVBQU0sQ0FDaEIsYUFBYSxPQUFPLHFCQUFRLFlBQVksQ0FBQyxRQUFRLENBQUUsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUM3RCxDQUFDLENBQUMsQ0FDSCxDQUFDOzs7O0dBT0YsSUFBTSx5QkFBeUIsQ0FBRyxtQ0FBUyxPQUFPLENBQUU7OztJQU9uRCxJQUFJLFFBQVEsQ0FBRyxxQkFBUSxZQUFZLENBQUMsUUFBUSxDQUFFLE9BQU8sQ0FBQyxDQUNyRCxNQUFNLENBQUcsSUFBSSxDQUNiLFVBQVUsQ0FBRyxFQUFFLENBQ2YsY0FBYyxDQUFHLEVBQUUsQ0FDbkIsc0JBQXNCLENBQUcsRUFBRSxDQUFDOzs7O0lBTzdCLE1BQU0sQ0FBQyxTQUFTLEdBQUcsU0FBUyxHQUFHLENBQUU7QUFFaEMsR0FBSSxDQUFDLEdBQUcsQ0FBRSxDQUNULE9BQU8sTUFBTSxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQ3BCO0FBR0QsR0FBRyxHQUFHLEdBQUcsQ0FBQyxNQUFNLENBQUMsU0FBUyxNQUFNLENBQUUsQ0FDakMsR0FBSSxDQUNILE9BQVEsTUFBTSxDQUFDLFdBQVcsQ0FBQyxNQUFNLENBQUMsSUFBSSxD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Q0FBRSx5QkFBeUIsQ0FBQyxDQUFDLEFBQ3ZFLHFCQUFRLE1BQU0sQ0FBQyxpQkFBaUIsQ0FBRSxlQUFlLENBQUMsQ0FBQyxBQUNuRCxxQkFBUSxNQUFNLENBQUMsU0FBUyxDQUFFLE9BQU8sQ0FBQyxDQUFDLEFBQ25DLHFCQUFRLE1BQU0sQ0FBQyxXQUFXLENBQUUsU0FBUyxDQUFDLENBQUMsQUFDdkMscUJBQVEsTUFBTSxDQUFDLFFBQVEsQ0FBRSxNQUFNLENBQUMsQ0FBQztBQUdqQyxJQUFJLENBQUMsT0FBTyxHQUFHLGFBQWEsQ0FBQyxxQkFFZCxJQUFJIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciBmPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgZi5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGZ9dmFyIGw9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sbCxsLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSIsImltcG9ydCB2aWRlb2pzIGZyb20gJ3ZpZGVvLmpzJztcblxuLy8gRGVmYXVsdCBvcHRpb25zIGZvciB0aGUgcGx1Z2luLlxuY29uc3QgZGVmYXVsdHMgPSB7fTtcblxuLyoqXG4gKiBGdW5jdGlvbiB0byBpbnZva2Ugd2hlbiB0aGUgcGxheWVyIGlzIHJlYWR5LlxuICpcbiAqIFRoaXMgaXMgYSBncmVhdCBwbGFjZSBmb3IgeW91ciBwbHVnaW4gdG8gaW5pdGlhbGl6ZSBpdHNlbGYuIFdoZW4gdGhpc1xuICogZnVuY3Rpb24gaXMgY2FsbGVkLCB0aGUgcGxheWVyIHdpbGwgaGF2ZSBpdHMgRE9NIGFuZCBjaGlsZCBjb21wb25lbnRzXG4gKiBpbiBwbGFjZS5cbiAqXG4gKiBAZnVuY3Rpb24gb25QbGF5ZXJSZWFkeVxuICogQHBhcmFtICAgIHtQbGF5ZXJ9IHBsYXllclxuICogQHBhcmFtICAgIHtPYmplY3R9IFtvcHRpb25zPXt9XVxuICovXG5jb25zdCBvblBsYXllclJlYWR5ID0gKHBsYXllciwgb3B0aW9ucykgPT4ge1xuXHRwbGF5ZXIuYWRkQ2xhc3MoJ3Zqcy1vcGVuJyk7XG5cbn07XG5cbi8qKlxuICogQSB2aWRlby5qcyBwbHVnaW4uXG4gKlxuICogSW4gdGhlIHBsdWdpbiBmdW5jdGlvbiwgdGhlIHZhbHVlIG9mIGB0aGlzYCBpcyBhIHZpZGVvLmpzIGBQbGF5ZXJgXG4gKiBpbnN0YW5jZS4gWW91IGNhbm5vdCByZWx5IG9uIHRoZSBwbGF5ZXIgYmVpbmcgaW4gYSBcInJlYWR5XCIgc3RhdGUgaGVyZSxcbiAqIGRlcGVuZGluZyBvbiBob3cgdGhlIHBsdWdpbiBpcyBpbnZva2VkLiBUaGlzIG1heSBvciBtYXkgbm90IGJlIGltcG9ydGFudFxuICogdG8geW91OyBpZiBub3QsIHJlbW92ZSB0aGUgd2FpdCBmb3IgXCJyZWFkeVwiIVxuICpcbiAqIEBmdW5jdGlvbiBvcGVuXG4gKiBAcGFyYW0gICAge09iamVjdH0gW29wdGlvbnM9e31dXG4gKiAgICAgICAgICAgQW4gb2JqZWN0IG9mIG9wdGlvbnMgbGVmdCB0byB0aGUgcGx1Z2luIGF1dGhvciB0byBkZWZpbmUuXG4gKi9cbmNvbnN0IG9wZW4gPSBmdW5jdGlvbihvcHRpb25zKSB7XG5cdHRoaXMucmVhZHkoKCkgPT4ge1xuXHRcdG9uUGxheWVyUmVhZHkodGhpcywgdmlkZW9qcy5tZXJnZU9wdGlvbnMoZGVmYXVsdHMsIG9wdGlvbnMpKTtcblx0fSk7XG59O1xuXG4vKipcbiAqIOWIhui+qOeOh1xuICogQHBhcmFtIHtbdHlwZV19IG9wdGlvbnMgW2Rlc2NyaXB0aW9uXVxuICogcmV0dXJuIHtbdHlwZV19ICBbZGVzY3JpcHRpb25dXG4gKi9cbmNvbnN0IHZpZGVvSnNSZXNvbHV0aW9uU3dpdGNoZXIgPSBmdW5jdGlvbihvcHRpb25zKSB7XG5cblx0LyoqXG5cdCAqIEluaXRpYWxpemUgdGhlIHBsdWdpbi5cblx0ICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXSBjb25maWd1cmF0aW9uIGZvciB0aGUgcGx1Z2luXG5cdCAqL1xuXG5cdHZhciBzZXR0aW5ncyA9IHZpZGVvanMubWVyZ2VPcHRpb25zKGRlZmF1bHRzLCBvcHRpb25zKSxcblx0XHRwbGF5ZXIgPSB0aGlzLFxuXHRcdGdyb3VwZWRTcmMgPSB7fSxcblx0XHRjdXJyZW50U291cmNlcyA9IHt9LFxuXHRcdGN1cnJlbnRSZXNvbHV0aW9uU3RhdGUgPSB7fTtcblxuXHQvKipcblx0ICogVXBkYXRlcyBwbGF5ZXIgc291cmNlcyBvciByZXR1cm5zIGN1cnJlbnQgc291cmNlIFVSTFxuXHQgKiBAcGFyYW0gICB7QXJyYXl9ICBbc3JjXSBhcnJheSBvZiBzb3VyY2VzIFt7c3JjOiAnJywgdHlwZTogJycsIGxhYmVsOiAnJywgcmVzOiAnJ31dXG5cdCAqIEByZXR1cm5zIHtPYmplY3R8U3RyaW5nfEFycmF5fSB2aWRlb2pzIHBsYXllciBvYmplY3QgaWYgdXNlZCBhcyBzZXR0ZXIgb3IgY3VycmVudCBzb3VyY2UgVVJMLCBvYmplY3QsIG9yIGFycmF5IG9mIHNvdXJjZXNcblx0ICovXG5cdHBsYXllci51cGRhdGVTcmMgPSBmdW5jdGlvbihzcmMpIHtcblx0XHQvL1JldHVybiBjdXJyZW50IHNyYyBpZiBzcmMgaXMgbm90IGdpdmVuXG5cdFx0aWYgKCFzcmMpIHtcblx0XHRcdHJldHVybiBwbGF5ZXIuc3JjKCk7XG5cdFx0fVxuXG5cdFx0Ly8gT25seSBhZGQgdGhvc2Ugc291cmNlcyB3aGljaCB3ZSBjYW4gKG1heWJlKSBwbGF5XG5cdFx0c3JjID0gc3JjLmZpbHRlcihmdW5jdGlvbihzb3VyY2UpIHtcblx0XHRcdHRyeSB7XG5cdFx0XHRcdHJldHVybiAocGxheWVyLmNhblBsYXlUeXBlKHNvdXJjZS50eXBlKSAhPT0gJycpO1xuXHRcdFx0fSBjYXRjaCAoZSkge1xuXHRcdFx0XHQvLyBJZiBhIFRlY2ggZG9lc24ndCB5ZXQgaGF2ZSBjYW5QbGF5VHlwZSBqdXN0IGFkZCBpdFxuXHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdH1cblx0XHR9KTtcblx0XHQvL1NvcnQgc291cmNlc1xuXHRcdHRoaXMuY3VycmVudFNvdXJjZXMgPSBzcmMuc29ydChjb21wYXJlUmVzb2x1dGlvbnMpO1xuXHRcdHRoaXMuZ3JvdXBlZFNyYyA9IGJ1Y2tldFNvdXJjZXModGhpcy5jdXJyZW50U291cmNlcyk7XG5cdFx0Ly8gUGljayBvbmUgYnkgZGVmYXVsdFxuXHRcdHZhciBjaG9zZW4gPSBjaG9vc2VTcmModGhpcy5ncm91cGVkU3JjLCB0aGlzLmN1cnJlbnRTb3VyY2VzKTtcblx0XHR0aGlzLmN1cnJlbnRSZXNvbHV0aW9uU3RhdGUgPSB7XG5cdFx0XHRsYWJlbDogY2hvc2VuLmxhYmVsLFxuXHRcdFx0c291cmNlczogY2hvc2VuLnNvdXJjZXNcblx0XHR9O1xuXG5cdFx0cGxheWVyLnRyaWdnZXIoJ3VwZGF0ZVNvdXJjZXMnKTtcblx0XHRwbGF5ZXIuc2V0U291cmNlc1Nhbml0aXplZChjaG9zZW4uc291cmNlcywgY2hvc2VuLmxhYmVsKTtcblx0XHRwbGF5ZXIudHJpZ2dlcigncmVzb2x1dGlvbmNoYW5nZScpO1xuXHRcdHJldHVybiBwbGF5ZXI7XG5cdH07XG5cblx0LyoqXG5cdCAqIFJldHVybnMgY3VycmVudCByZXNvbHV0aW9uIG9yIHNldHMgb25lIHdoZW4gbGFiZWwgaXMgc3BlY2lmaWVkXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSAgIFtsYWJlbF0gICAgICAgICBsYWJlbCBuYW1lXG5cdCAqIEBwYXJhbSB7RnVuY3Rpb259IFtjdXN0b21Tb3VyY2VQaWNrZXJdIGN1c3RvbSBmdW5jdGlvbiB0byBjaG9vc2Ugc291cmNlLiBUYWtlcyAyIGFyZ3VtZW50czogc291cmNlcywgbGFiZWwuIE11c3QgcmV0dXJuIHBsYXllciBvYmplY3QuXG5cdCAqIEByZXR1cm5zIHtPYmplY3R9ICAgY3VycmVudCByZXNvbHV0aW9uIG9iamVjdCB7bGFiZWw6ICcnLCBzb3VyY2VzOiBbXX0gaWYgdXNlZCBhcyBnZXR0ZXIgb3IgcGxheWVyIG9iamVjdCBpZiB1c2VkIGFzIHNldHRlclxuXHQgKi9cblx0cGxheWVyLmN1cnJlbnRSZXNvbHV0aW9uID0gZnVuY3Rpb24obGFiZWwsIGN1c3RvbVNvdXJjZVBpY2tlcikge1xuXHRcdGlmIChsYWJlbCA9PSBudWxsKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5jdXJyZW50UmVzb2x1dGlvblN0YXRlO1xuXHRcdH1cblxuXHRcdC8vIExvb2t1cCBzb3VyY2VzIGZvciBsYWJlbFxuXHRcdGlmICghdGhpcy5ncm91cGVkU3JjIHx8ICF0aGlzLmdyb3VwZWRTcmMubGFiZWwgfHwgIXRoaXMuZ3JvdXBlZFNyYy5sYWJlbFtsYWJlbF0pIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cdFx0dmFyIHNvdXJjZXMgPSB0aGlzLmdyb3VwZWRTcmMubGFiZWxbbGFiZWxdO1xuXHRcdC8vIFJlbWVtYmVyIHBsYXllciBzdGF0ZVxuXHRcdHZhciBjdXJyZW50VGltZSA9IHBsYXllci5jdXJyZW50VGltZSgpO1xuXHRcdHZhciBpc1BhdXNlZCA9IHBsYXllci5wYXVzZWQoKTtcblxuXHRcdC8vIEhpZGUgYmlnUGxheUJ1dHRvblxuXHRcdGlmICghaXNQYXVzZWQgJiYgdGhpcy5wbGF5ZXJfLm9wdGlvbnNfLmJpZ1BsYXlCdXR0b24pIHtcblx0XHRcdHRoaXMucGxheWVyXy5iaWdQbGF5QnV0dG9uLmhpZGUoKTtcblx0XHR9XG5cblx0XHQvLyBDaGFuZ2UgcGxheWVyIHNvdXJjZSBhbmQgd2FpdCBmb3IgbG9hZGVkZGF0YSBldmVudCwgdGhlbiBwbGF5IHZpZGVvXG5cdFx0Ly8gbG9hZGVkbWV0YWRhdGEgZG9lc24ndCB3b3JrIHJpZ2h0IG5vdyBmb3IgZmxhc2guXG5cdFx0Ly8gUHJvYmFibHkgYmVjYXVzZSBvZiBodHRwczovL2dpdGh1Yi5jb20vdmlkZW9qcy92aWRlby1qcy1zd2YvaXNzdWVzLzEyNFxuXHRcdC8vIElmIHBsYXllciBwcmVsb2FkIGlzICdub25lJyBhbmQgdGhlbiBsb2FkZWRkYXRhIG5vdCBmaXJlZC4gU28sIHdlIG5lZWQgdGltZXVwZGF0ZSBldmVudCBmb3Igc2VlayBoYW5kbGUgKHRpbWV1cGRhdGUgZG9lc24ndCB3b3JrIHByb3Blcmx5IHdpdGggZmxhc2gpXG5cdFx0dmFyIGhhbmRsZVNlZWtFdmVudCA9ICdsb2FkZWRkYXRhJztcblx0XHRpZiAodGhpcy5wbGF5ZXJfLnRlY2hOYW1lXyAhPT0gJ1lvdXR1YmUnICYmIHRoaXMucGxheWVyXy5wcmVsb2FkKCkgPT09ICdub25lJyAmJiB0aGlzLnBsYXllcl8udGVjaE5hbWVfICE9PSAnRmxhc2gnKSB7XG5cdFx0XHRoYW5kbGVTZWVrRXZlbnQgPSAndGltZXVwZGF0ZSc7XG5cdFx0fVxuXHRcdHBsYXllclxuXHRcdFx0LnNldFNvdXJjZXNTYW5pdGl6ZWQoc291cmNlcywgbGFiZWwsIGN1c3RvbVNvdXJjZVBpY2tlciB8fCBzZXR0aW5ncy5jdXN0b21Tb3VyY2VQaWNrZXIpXG5cdFx0XHQub25lKGhhbmRsZVNlZWtFdmVudCwgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHBsYXllci5jdXJyZW50VGltZShjdXJyZW50VGltZSk7XG5cdFx0XHRcdHBsYXllci5oYW5kbGVUZWNoU2Vla2VkXygpO1xuXHRcdFx0XHRpZiAoIWlzUGF1c2VkKSB7XG5cdFx0XHRcdFx0Ly8gU3RhcnQgcGxheWluZyBhbmQgaGlkZSBsb2FkaW5nU3Bpbm5lciAoZmxhc2ggaXNzdWUgPylcblx0XHRcdFx0XHRwbGF5ZXIucGxheSgpLmhhbmRsZVRlY2hTZWVrZWRfKCk7XG5cdFx0XHRcdH1cblx0XHRcdFx0cGxheWVyLnRyaWdnZXIoJ3Jlc29sdXRpb25jaGFuZ2UnKTtcblx0XHRcdH0pO1xuXHRcdHJldHVybiBwbGF5ZXI7XG5cdH07XG5cblx0LyoqXG5cdCAqIFJldHVybnMgZ3JvdXBlZCBzb3VyY2VzIGJ5IGxhYmVsLCByZXNvbHV0aW9uIGFuZCB0eXBlXG5cdCAqIEByZXR1cm5zIHtPYmplY3R9IGdyb3VwZWQgc291cmNlczogeyBsYWJlbDogeyBrZXk6IFtdIH0sIHJlczogeyBrZXk6IFtdIH0sIHR5cGU6IHsga2V5OiBbXSB9IH1cblx0ICovXG5cdHBsYXllci5nZXRHcm91cGVkU3JjID0gZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIHRoaXMuZ3JvdXBlZFNyYztcblx0fTtcblx0cGxheWVyLnNldFNvdXJjZXNTYW5pdGl6ZWQgPSBmdW5jdGlvbihzb3VyY2VzLCBsYWJlbCwgY3VzdG9tU291cmNlUGlja2VyKSB7XG5cdFx0dGhpcy5jdXJyZW50UmVzb2x1dGlvblN0YXRlID0ge1xuXHRcdFx0bGFiZWw6IGxhYmVsLFxuXHRcdFx0c291cmNlczogc291cmNlc1xuXHRcdH07XG5cblx0XHRpZiAodHlwZW9mIGN1c3RvbVNvdXJjZVBpY2tlciA9PT0gJ2Z1bmN0aW9uJykge1xuXHRcdFx0cmV0dXJuIGN1c3RvbVNvdXJjZVBpY2tlcihwbGF5ZXIsIHNvdXJjZXMsIGxhYmVsKTtcblx0XHR9XG5cdFx0cGxheWVyLnNyYyhzb3VyY2VzLm1hcChmdW5jdGlvbihzcmMpIHtcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdHNyYzogc3JjLnNyYyxcblx0XHRcdFx0dHlwZTogc3JjLnR5cGUsXG5cdFx0XHRcdHJlczogc3JjLnJlc1xuXHRcdFx0fTtcblx0XHR9KSk7XG5cblx0XHQkKFwiLnZqcy1yZXNvbHV0aW9uLWJ1dHRvbi1sYWJlbFwiKS5odG1sKGxhYmVsKTtcblx0XHRyZXR1cm4gcGxheWVyO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBNZXRob2QgdXNlZCBmb3Igc29ydGluZyBsaXN0IG9mIHNvdXJjZXNcblx0ICogQHBhcmFtICAge09iamVjdH0gYSAtIHNvdXJjZSBvYmplY3Qgd2l0aCByZXMgcHJvcGVydHlcblx0ICogQHBhcmFtICAge09iamVjdH0gYiAtIHNvdXJjZSBvYmplY3Qgd2l0aCByZXMgcHJvcGVydHlcblx0ICogQHJldHVybnMge051bWJlcn0gcmVzdWx0IG9mIGNvbXBhcmF0aW9uXG5cdCAqL1xuXHRmdW5jdGlvbiBjb21wYXJlUmVzb2x1dGlvbnMoYSwgYikge1xuXHRcdGlmICghYS5yZXMgfHwgIWIucmVzKSB7XG5cdFx0XHRyZXR1cm4gMDtcblx0XHR9XG5cdFx0cmV0dXJuICgrYi5yZXMpIC0gKCthLnJlcyk7XG5cdH1cblxuXHQvKipcblx0ICogR3JvdXAgc291cmNlcyBieSBsYWJlbCwgcmVzb2x1dGlvbiBhbmQgdHlwZVxuXHQgKiBAcGFyYW0gICB7QXJyYXl9ICBzcmMgQXJyYXkgb2Ygc291cmNlc1xuXHQgKiBAcmV0dXJucyB7T2JqZWN0fSBncm91cGVkIHNvdXJjZXM6IHsgbGFiZWw6IHsga2V5OiBbXSB9LCByZXM6IHsga2V5OiBbXSB9LCB0eXBlOiB7IGtleTogW10gfSB9XG5cdCAqL1xuXHRmdW5jdGlvbiBidWNrZXRTb3VyY2VzKHNyYykge1xuXHRcdHZhciByZXNvbHV0aW9ucyA9IHtcblx0XHRcdGxhYmVsOiB7fSxcblx0XHRcdHJlczoge30sXG5cdFx0XHR0eXBlOiB7fVxuXHRcdH07XG5cdFx0c3JjLm1hcChmdW5jdGlvbihzb3VyY2UpIHtcblx0XHRcdGluaXRSZXNvbHV0aW9uS2V5KHJlc29sdXRpb25zLCAnbGFiZWwnLCBzb3VyY2UpO1xuXHRcdFx0aW5pdFJlc29sdXRpb25LZXkocmVzb2x1dGlvbnMsICdyZXMnLCBzb3VyY2UpO1xuXHRcdFx0aW5pdFJlc29sdXRpb25LZXkocmVzb2x1dGlvbnMsICd0eXBlJywgc291cmNlKTtcblxuXHRcdFx0YXBwZW5kU291cmNlVG9LZXkocmVzb2x1dGlvbnMsICdsYWJlbCcsIHNvdXJjZSk7XG5cdFx0XHRhcHBlbmRTb3VyY2VUb0tleShyZXNvbHV0aW9ucywgJ3JlcycsIHNvdXJjZSk7XG5cdFx0XHRhcHBlbmRTb3VyY2VUb0tleShyZXNvbHV0aW9ucywgJ3R5cGUnLCBzb3VyY2UpO1xuXHRcdH0pO1xuXHRcdHJldHVybiByZXNvbHV0aW9ucztcblx0fVxuXG5cdGZ1bmN0aW9uIGluaXRSZXNvbHV0aW9uS2V5KHJlc29sdXRpb25zLCBrZXksIHNvdXJjZSkge1xuXHRcdGlmIChyZXNvbHV0aW9uc1trZXldW3NvdXJjZVtrZXldXSA9PSBudWxsKSB7XG5cdFx0XHRyZXNvbHV0aW9uc1trZXldW3NvdXJjZVtrZXldXSA9IFtdO1xuXHRcdH1cblx0fVxuXG5cdGZ1bmN0aW9uIGFwcGVuZFNvdXJjZVRvS2V5KHJlc29sdXRpb25zLCBrZXksIHNvdXJjZSkge1xuXHRcdHJlc29sdXRpb25zW2tleV1bc291cmNlW2tleV1dLnB1c2goc291cmNlKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBDaG9vc2Ugc3JjIGlmIG9wdGlvbi5kZWZhdWx0IGlzIHNwZWNpZmllZFxuXHQgKiBAcGFyYW0gICB7T2JqZWN0fSBncm91cGVkU3JjIHtyZXM6IHsga2V5OiBbXSB9fVxuXHQgKiBAcGFyYW0gICB7QXJyYXl9ICBzcmMgQXJyYXkgb2Ygc291cmNlcyBzb3J0ZWQgYnkgcmVzb2x1dGlvbiB1c2VkIHRvIGZpbmQgaGlnaCBhbmQgbG93IHJlc1xuXHQgKiBAcmV0dXJucyB7T2JqZWN0fSB7cmVzOiBzdHJpbmcsIHNvdXJjZXM6IFtdfVxuXHQgKi9cblx0ZnVuY3Rpb24gY2hvb3NlU3JjKGdyb3VwZWRTcmMsIHNyYykge1xuXHRcdHZhciBzZWxlY3RlZFJlcyA9IHNldHRpbmdzWydkZWZhdWx0J107IC8vIHVzZSBhcnJheSBhY2Nlc3MgYXMgZGVmYXVsdCBpcyBhIHJlc2VydmVkIGtleXdvcmRcblx0XHR2YXIgc2VsZWN0ZWRMYWJlbCA9ICcnO1xuXHRcdGlmIChzZWxlY3RlZFJlcyA9PT0gJ2hpZ2gnKSB7XG5cdFx0XHRzZWxlY3RlZFJlcyA9IHNyY1swXS5yZXM7XG5cdFx0XHRzZWxlY3RlZExhYmVsID0gc3JjWzBdLmxhYmVsO1xuXHRcdH0gZWxzZSBpZiAoc2VsZWN0ZWRSZXMgPT09ICdsb3cnIHx8IHNlbGVjdGVkUmVzID09IG51bGwgfHwgIWdyb3VwZWRTcmMucmVzW3NlbGVjdGVkUmVzXSkge1xuXHRcdFx0Ly8gU2VsZWN0IGxvdy1yZXMgaWYgZGVmYXVsdCBpcyBsb3cgb3Igbm90IHNldFxuXHRcdFx0c2VsZWN0ZWRSZXMgPSBzcmNbc3JjLmxlbmd0aCAtIDFdLnJlcztcblx0XHRcdHNlbGVjdGVkTGFiZWwgPSBzcmNbc3JjLmxlbmd0aCAtIDFdLmxhYmVsO1xuXHRcdH0gZWxzZSBpZiAoZ3JvdXBlZFNyYy5yZXNbc2VsZWN0ZWRSZXNdKSB7XG5cdFx0XHRzZWxlY3RlZExhYmVsID0gZ3JvdXBlZFNyYy5yZXNbc2VsZWN0ZWRSZXNdWzBdLmxhYmVsO1xuXHRcdH1cblx0XHRyZXR1cm4ge1xuXHRcdFx0cmVzOiBzZWxlY3RlZFJlcyxcblx0XHRcdGxhYmVsOiBzZWxlY3RlZExhYmVsLFxuXHRcdFx0c291cmNlczogZ3JvdXBlZFNyYy5yZXNbc2VsZWN0ZWRSZXNdXG5cdFx0fTtcblx0fVxuXG5cdGZ1bmN0aW9uIGluaXRSZXNvbHV0aW9uRm9yWXQocGxheWVyKSB7XG5cdFx0Ly8gTWFwIHlvdXR1YmUgcXVhbGl0aWVzIG5hbWVzXG5cdFx0dmFyIF95dHMgPSB7XG5cdFx0XHRoaWdocmVzOiB7XG5cdFx0XHRcdHJlczogMTA4MCxcblx0XHRcdFx0bGFiZWw6ICcxMDgwJyxcblx0XHRcdFx0eXQ6ICdoaWdocmVzJ1xuXHRcdFx0fSxcblx0XHRcdGhkMTA4MDoge1xuXHRcdFx0XHRyZXM6IDEwODAsXG5cdFx0XHRcdGxhYmVsOiAnMTA4MCcsXG5cdFx0XHRcdHl0OiAnaGQxMDgwJ1xuXHRcdFx0fSxcblx0XHRcdGhkNzIwOiB7XG5cdFx0XHRcdHJlczogNzIwLFxuXHRcdFx0XHRsYWJlbDogJzcyMCcsXG5cdFx0XHRcdHl0OiAnaGQ3MjAnXG5cdFx0XHR9LFxuXHRcdFx0bGFyZ2U6IHtcblx0XHRcdFx0cmVzOiA0ODAsXG5cdFx0XHRcdGxhYmVsOiAnNDgwJyxcblx0XHRcdFx0eXQ6ICdsYXJnZSdcblx0XHRcdH0sXG5cdFx0XHRtZWRpdW06IHtcblx0XHRcdFx0cmVzOiAzNjAsXG5cdFx0XHRcdGxhYmVsOiAnMzYwJyxcblx0XHRcdFx0eXQ6ICdtZWRpdW0nXG5cdFx0XHR9LFxuXHRcdFx0c21hbGw6IHtcblx0XHRcdFx0cmVzOiAyNDAsXG5cdFx0XHRcdGxhYmVsOiAnMjQwJyxcblx0XHRcdFx0eXQ6ICdzbWFsbCdcblx0XHRcdH0sXG5cdFx0XHR0aW55OiB7XG5cdFx0XHRcdHJlczogMTQ0LFxuXHRcdFx0XHRsYWJlbDogJzE0NCcsXG5cdFx0XHRcdHl0OiAndGlueSdcblx0XHRcdH0sXG5cdFx0XHRhdXRvOiB7XG5cdFx0XHRcdHJlczogMCxcblx0XHRcdFx0bGFiZWw6ICdhdXRvJyxcblx0XHRcdFx0eXQ6ICdhdXRvJ1xuXHRcdFx0fVxuXHRcdH07XG5cdFx0Ly8gT3ZlcndyaXRlIGRlZmF1bHQgc291cmNlUGlja2VyIGZ1bmN0aW9uXG5cdFx0dmFyIF9jdXN0b21Tb3VyY2VQaWNrZXIgPSBmdW5jdGlvbihfcGxheWVyLCBfc291cmNlcywgX2xhYmVsKSB7XG5cdFx0XHQvLyBOb3RlIHRoYXQgc2V0UGxheWViYWNrUXVhbGl0eSBpcyBhIHN1Z2dlc3Rpb24uIFlUIGRvZXMgbm90IGFsd2F5cyBvYmV5IGl0LlxuXHRcdFx0cGxheWVyLnRlY2hfLnl0UGxheWVyLnNldFBsYXliYWNrUXVhbGl0eShfc291cmNlc1swXS5feXQpO1xuXHRcdFx0cGxheWVyLnRyaWdnZXIoJ3VwZGF0ZVNvdXJjZXMnKTtcblx0XHRcdHJldHVybiBwbGF5ZXI7XG5cdFx0fTtcblx0XHRzZXR0aW5ncy5jdXN0b21Tb3VyY2VQaWNrZXIgPSBfY3VzdG9tU291cmNlUGlja2VyO1xuXG5cdFx0Ly8gSW5pdCByZXNvbHV0aW9uXG5cdFx0cGxheWVyLnRlY2hfLnl0UGxheWVyLnNldFBsYXliYWNrUXVhbGl0eSgnYXV0bycpO1xuXG5cdFx0Ly8gVGhpcyBpcyB0cmlnZ2VyZWQgd2hlbiB0aGUgcmVzb2x1dGlvbiBhY3R1YWxseSBjaGFuZ2VzXG5cdFx0cGxheWVyLnRlY2hfLnl0UGxheWVyLmFkZEV2ZW50TGlzdGVuZXIoJ29uUGxheWJhY2tRdWFsaXR5Q2hhbmdlJywgZnVuY3Rpb24oZXZlbnQpIHtcblx0XHRcdGZvciAodmFyIHJlcyBpbiBfeXRzKSB7XG5cdFx0XHRcdGlmIChyZXMueXQgPT09IGV2ZW50LmRhdGEpIHtcblx0XHRcdFx0XHRwbGF5ZXIuY3VycmVudFJlc29sdXRpb24ocmVzLmxhYmVsLCBfY3VzdG9tU291cmNlUGlja2VyKTtcblx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9KTtcblxuXHRcdC8vIFdlIG11c3Qgd2FpdCBmb3IgcGxheSBldmVudFxuXHRcdHBsYXllci5vbmUoJ3BsYXknLCBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBxdWFsaXRpZXMgPSBwbGF5ZXIudGVjaF8ueXRQbGF5ZXIuZ2V0QXZhaWxhYmxlUXVhbGl0eUxldmVscygpO1xuXHRcdFx0dmFyIF9zb3VyY2VzID0gW107XG5cblx0XHRcdHF1YWxpdGllcy5tYXAoZnVuY3Rpb24ocSkge1xuXHRcdFx0XHRfc291cmNlcy5wdXNoKHtcblx0XHRcdFx0XHRzcmM6IHBsYXllci5zcmMoKS5zcmMsXG5cdFx0XHRcdFx0dHlwZTogcGxheWVyLnNyYygpLnR5cGUsXG5cdFx0XHRcdFx0bGFiZWw6IF95dHNbcV0ubGFiZWwsXG5cdFx0XHRcdFx0cmVzOiBfeXRzW3FdLnJlcyxcblx0XHRcdFx0XHRfeXQ6IF95dHNbcV0ueXRcblx0XHRcdFx0fSk7XG5cdFx0XHR9KTtcblxuXHRcdFx0cGxheWVyLmdyb3VwZWRTcmMgPSBidWNrZXRTb3VyY2VzKF9zb3VyY2VzKTtcblx0XHRcdHZhciBjaG9zZW4gPSB7XG5cdFx0XHRcdGxhYmVsOiAnYXV0bycsXG5cdFx0XHRcdHJlczogMCxcblx0XHRcdFx0c291cmNlczogcGxheWVyLmdyb3VwZWRTcmMubGFiZWwuYXV0b1xuXHRcdFx0fTtcblxuXHRcdFx0dGhpcy5jdXJyZW50UmVzb2x1dGlvblN0YXRlID0ge1xuXHRcdFx0XHRsYWJlbDogY2hvc2VuLmxhYmVsLFxuXHRcdFx0XHRzb3VyY2VzOiBjaG9zZW4uc291cmNlc1xuXHRcdFx0fTtcblxuXHRcdFx0cGxheWVyLnRyaWdnZXIoJ3VwZGF0ZVNvdXJjZXMnKTtcblx0XHRcdHBsYXllci5zZXRTb3VyY2VzU2FuaXRpemVkKGNob3Nlbi5zb3VyY2VzLCBjaG9zZW4ubGFiZWwsIF9jdXN0b21Tb3VyY2VQaWNrZXIpO1xuXHRcdH0pO1xuXHR9XG5cblx0cGxheWVyLnJlYWR5KGZ1bmN0aW9uKCkge1xuXHRcdGlmIChzZXR0aW5ncy51aSkge1xuXHRcdFx0dmFyIG1lbnVCdXR0b24gPSBuZXcgUmVzb2x1dGlvbk1lbnVCdXR0b24ocGxheWVyLCBzZXR0aW5ncyk7XG5cdFx0XHRwbGF5ZXIuY29udHJvbEJhci5yZXNvbHV0aW9uU3dpdGNoZXIgPSBwbGF5ZXIuY29udHJvbEJhci5lbF8uaW5zZXJ0QmVmb3JlKG1lbnVCdXR0b24uZWxfLCBwbGF5ZXIuY29udHJvbEJhci5nZXRDaGlsZCgnZnVsbHNjcmVlblRvZ2dsZScpLmVsXyk7XG5cdFx0XHRwbGF5ZXIuY29udHJvbEJhci5yZXNvbHV0aW9uU3dpdGNoZXIuZGlzcG9zZSA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHR0aGlzLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcyk7XG5cdFx0XHR9O1xuXHRcdH1cblx0XHRpZiAocGxheWVyLm9wdGlvbnNfLnNvdXJjZXMubGVuZ3RoID4gMSkge1xuXHRcdFx0Ly8gdGVjaDogSHRtbDUgYW5kIEZsYXNoXG5cdFx0XHQvLyBDcmVhdGUgcmVzb2x1dGlvbiBzd2l0Y2hlciBmb3IgdmlkZW9zIGZvcm0gPHNvdXJjZT4gdGFnIGluc2lkZSA8dmlkZW8+XG5cdFx0XHRwbGF5ZXIudXBkYXRlU3JjKHBsYXllci5vcHRpb25zXy5zb3VyY2VzKTtcblx0XHR9XG5cblx0XHRpZiAocGxheWVyLnRlY2hOYW1lXyA9PT0gJ1lvdXR1YmUnKSB7XG5cdFx0XHQvLyB0ZWNoOiBZb3VUdWJlXG5cdFx0XHRpbml0UmVzb2x1dGlvbkZvcll0KHBsYXllcik7XG5cdFx0fVxuXHR9KTtcblxuXHR2YXIgdmlkZW9Kc1Jlc29sdXRpb25Td2l0Y2hlcixcblx0XHRkZWZhdWx0cyA9IHtcblx0XHRcdHVpOiB0cnVlXG5cdFx0fTtcblxuXHQvKlxuXHQgKiBSZXNvbHV0aW9uIG1lbnUgaXRlbVxuXHQgKi9cblx0dmFyIE1lbnVJdGVtID0gdmlkZW9qcy5nZXRDb21wb25lbnQoJ01lbnVJdGVtJyk7XG5cdHZhciBSZXNvbHV0aW9uTWVudUl0ZW0gPSB2aWRlb2pzLmV4dGVuZChNZW51SXRlbSwge1xuXHRcdGNvbnN0cnVjdG9yOiBmdW5jdGlvbihwbGF5ZXIsIG9wdGlvbnMpIHtcblx0XHRcdG9wdGlvbnMuc2VsZWN0YWJsZSA9IHRydWU7XG5cdFx0XHQvLyBTZXRzIHRoaXMucGxheWVyXywgdGhpcy5vcHRpb25zXyBhbmQgaW5pdGlhbGl6ZXMgdGhlIGNvbXBvbmVudFxuXHRcdFx0TWVudUl0ZW0uY2FsbCh0aGlzLCBwbGF5ZXIsIG9wdGlvbnMpO1xuXHRcdFx0dGhpcy5zcmMgPSBvcHRpb25zLnNyYztcblxuXHRcdFx0cGxheWVyLm9uKCdyZXNvbHV0aW9uY2hhbmdlJywgdmlkZW9qcy5iaW5kKHRoaXMsIHRoaXMudXBkYXRlKSk7XG5cdFx0fVxuXHR9KTtcblx0UmVzb2x1dGlvbk1lbnVJdGVtLnByb3RvdHlwZS5oYW5kbGVDbGljayA9IGZ1bmN0aW9uKGV2ZW50KSB7XG5cdFx0TWVudUl0ZW0ucHJvdG90eXBlLmhhbmRsZUNsaWNrLmNhbGwodGhpcywgZXZlbnQpO1xuXHRcdHRoaXMucGxheWVyXy5jdXJyZW50UmVzb2x1dGlvbih0aGlzLm9wdGlvbnNfLmxhYmVsKTtcblx0fTtcblx0UmVzb2x1dGlvbk1lbnVJdGVtLnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbigpIHtcblx0XHR2YXIgc2VsZWN0aW9uID0gdGhpcy5wbGF5ZXJfLmN1cnJlbnRSZXNvbHV0aW9uKCk7XG5cdFx0dGhpcy5zZWxlY3RlZCh0aGlzLm9wdGlvbnNfLmxhYmVsID09PSBzZWxlY3Rpb24ubGFiZWwpO1xuXHR9O1xuXHRNZW51SXRlbS5yZWdpc3RlckNvbXBvbmVudCgnUmVzb2x1dGlvbk1lbnVJdGVtJywgUmVzb2x1dGlvbk1lbnVJdGVtKTtcblxuXHQvKlxuXHQgKiBSZXNvbHV0aW9uIG1lbnUgYnV0dG9uXG5cdCAqL1xuXHR2YXIgTWVudUJ1dHRvbiA9IHZpZGVvanMuZ2V0Q29tcG9uZW50KCdNZW51QnV0dG9uJyk7XG5cdHZhciBSZXNvbHV0aW9uTWVudUJ1dHRvbiA9IHZpZGVvanMuZXh0ZW5kKE1lbnVCdXR0b24sIHtcblx0XHRjb25zdHJ1Y3RvcjogZnVuY3Rpb24ocGxheWVyLCBvcHRpb25zKSB7XG5cdFx0XHR0aGlzLmxhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuXHRcdFx0b3B0aW9ucy5sYWJlbCA9ICdRdWFsaXR5Jztcblx0XHRcdC8vIFNldHMgdGhpcy5wbGF5ZXJfLCB0aGlzLm9wdGlvbnNfIGFuZCBpbml0aWFsaXplcyB0aGUgY29tcG9uZW50XG5cdFx0XHRNZW51QnV0dG9uLmNhbGwodGhpcywgcGxheWVyLCBvcHRpb25zKTtcblx0XHRcdHRoaXMuZWwoKS5zZXRBdHRyaWJ1dGUoJ2FyaWEtbGFiZWwnLCAnUXVhbGl0eScpO1xuXHRcdFx0dGhpcy5jb250cm9sVGV4dCgnUXVhbGl0eScpO1xuXG5cdFx0XHRpZiAob3B0aW9ucy5keW5hbWljTGFiZWwpIHtcblx0XHRcdFx0dmlkZW9qcy5hZGRDbGFzcyh0aGlzLmxhYmVsLCAndmpzLXJlc29sdXRpb24tYnV0dG9uLWxhYmVsJyk7XG5cdFx0XHRcdHRoaXMuZWwoKS5hcHBlbmRDaGlsZCh0aGlzLmxhYmVsKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHZhciBzdGF0aWNMYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcblx0XHRcdFx0dmlkZW9qcy5hZGRDbGFzcyhzdGF0aWNMYWJlbCwgJ3Zqcy1tZW51LWljb24nKTtcblx0XHRcdFx0dGhpcy5lbCgpLmFwcGVuZENoaWxkKHN0YXRpY0xhYmVsKTtcblx0XHRcdH1cblx0XHRcdHBsYXllci5vbigndXBkYXRlU291cmNlcycsIHZpZGVvanMuYmluZCh0aGlzLCB0aGlzLnVwZGF0ZSkpO1xuXHRcdH1cblx0fSk7XG5cdFJlc29sdXRpb25NZW51QnV0dG9uLnByb3RvdHlwZS5jcmVhdGVJdGVtcyA9IGZ1bmN0aW9uKCkge1xuXHRcdHZhciBtZW51SXRlbXMgPSBbXTtcblx0XHR2YXIgbGFiZWxzID0gKHRoaXMuc291cmNlcyAmJiB0aGlzLnNvdXJjZXMubGFiZWwpIHx8IHt9O1xuXG5cdFx0Ly8gRklYTUUgb3JkZXIgaXMgbm90IGd1YXJhbnRlZWQgaGVyZS5cblx0XHRmb3IgKHZhciBrZXkgaW4gbGFiZWxzKSB7XG5cdFx0XHRpZiAobGFiZWxzLmhhc093blByb3BlcnR5KGtleSkpIHtcblx0XHRcdFx0bWVudUl0ZW1zLnB1c2gobmV3IFJlc29sdXRpb25NZW51SXRlbShcblx0XHRcdFx0XHR0aGlzLnBsYXllcl8sIHtcblx0XHRcdFx0XHRcdGxhYmVsOiBrZXksXG5cdFx0XHRcdFx0XHRzcmM6IGxhYmVsc1trZXldLFxuXHRcdFx0XHRcdFx0c2VsZWN0ZWQ6IGtleSA9PT0gKHRoaXMuY3VycmVudFNlbGVjdGlvbiA/IHRoaXMuY3VycmVudFNlbGVjdGlvbi5sYWJlbCA6IGZhbHNlKVxuXHRcdFx0XHRcdH0pKTtcblx0XHRcdH1cblx0XHR9XG5cdFx0cmV0dXJuIG1lbnVJdGVtcztcblx0fTtcblx0UmVzb2x1dGlvbk1lbnVCdXR0b24ucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uKCkge1xuXHRcdHRoaXMuc291cmNlcyA9IHRoaXMucGxheWVyXy5nZXRHcm91cGVkU3JjKCk7XG5cdFx0dGhpcy5jdXJyZW50U2VsZWN0aW9uID0gdGhpcy5wbGF5ZXJfLmN1cnJlbnRSZXNvbHV0aW9uKCk7XG5cdFx0dGhpcy5sYWJlbC5pbm5lckhUTUwgPSB0aGlzLmN1cnJlbnRTZWxlY3Rpb24gPyB0aGlzLmN1cnJlbnRTZWxlY3Rpb24ubGFiZWwgOiAnJztcblx0XHRyZXR1cm4gTWVudUJ1dHRvbi5wcm90b3R5cGUudXBkYXRlLmNhbGwodGhpcyk7XG5cdH07XG5cdFJlc29sdXRpb25NZW51QnV0dG9uLnByb3RvdHlwZS5idWlsZENTU0NsYXNzID0gZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIE1lbnVCdXR0b24ucHJvdG90eXBlLmJ1aWxkQ1NTQ2xhc3MuY2FsbCh0aGlzKSArICcgdmpzLXJlc29sdXRpb24tYnV0dG9uJztcblx0fTtcblx0TWVudUJ1dHRvbi5yZWdpc3RlckNvbXBvbmVudCgnUmVzb2x1dGlvbk1lbnVCdXR0b24nLCBSZXNvbHV0aW9uTWVudUJ1dHRvbik7XG59O1xuXG4vKipcbiAqIOemgeeUqOa7muWKqOadoeaLluWKqFxuICogQHBhcmFtIHtbdHlwZV19IG9wdGlvbnMgW2Rlc2NyaXB0aW9uXVxuICogcmV0dXJuIHtbdHlwZV19ICBbZGVzY3JpcHRpb25dXG4gKi9cbmNvbnN0IGRpc2FibGVQcm9ncmVzcyA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcblx0dmFyXG5cdC8qKlxuXHQgKiBDb3BpZXMgcHJvcGVydGllcyBmcm9tIG9uZSBvciBtb3JlIG9iamVjdHMgb250byBhbiBvcmlnaW5hbC5cblx0ICovXG5cdFx0ZXh0ZW5kID0gZnVuY3Rpb24ob2JqIC8qLCBhcmcxLCBhcmcyLCAuLi4gKi8gKSB7XG5cdFx0XHR2YXIgYXJnLCBpLCBrO1xuXHRcdFx0Zm9yIChpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuXHRcdFx0XHRhcmcgPSBhcmd1bWVudHNbaV07XG5cdFx0XHRcdGZvciAoayBpbiBhcmcpIHtcblx0XHRcdFx0XHRpZiAoYXJnLmhhc093blByb3BlcnR5KGspKSB7XG5cdFx0XHRcdFx0XHRvYmpba10gPSBhcmdba107XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gb2JqO1xuXHRcdH0sXG5cblx0XHQvLyBkZWZpbmUgc29tZSByZWFzb25hYmxlIGRlZmF1bHRzIGZvciB0aGlzIHN3ZWV0IHBsdWdpblxuXHRcdGRlZmF1bHRzID0ge1xuXHRcdFx0YXV0b0Rpc2FibGU6IGZhbHNlXG5cdFx0fTtcblxuXG5cdHZhclxuXHQvLyBzYXZlIGEgcmVmZXJlbmNlIHRvIHRoZSBwbGF5ZXIgaW5zdGFuY2Vcblx0XHRwbGF5ZXIgPSB0aGlzLFxuXHRcdHN0YXRlID0gZmFsc2UsXG5cblx0XHQvLyBtZXJnZSBvcHRpb25zIGFuZCBkZWZhdWx0c1xuXHRcdHNldHRpbmdzID0gZXh0ZW5kKHt9LCBkZWZhdWx0cywgb3B0aW9ucyB8fCB7fSk7XG5cblx0Ly8gZGlzYWJsZSAvIGVuYWJsZSBtZXRob2RzXG5cdHBsYXllci5kaXNhYmxlUHJvZ3Jlc3MgPSB7XG5cdFx0ZGlzYWJsZTogZnVuY3Rpb24oKSB7XG5cdFx0XHRzdGF0ZSA9IHRydWU7XG5cdFx0XHRwbGF5ZXIuY29udHJvbEJhci5wcm9ncmVzc0NvbnRyb2wuc2Vla0Jhci5vZmYoXCJmb2N1c1wiKTtcblx0XHRcdHBsYXllci5jb250cm9sQmFyLnByb2dyZXNzQ29udHJvbC5zZWVrQmFyLm9mZihcIm1vdXNlZG93blwiKTtcblx0XHRcdHBsYXllci5jb250cm9sQmFyLnByb2dyZXNzQ29udHJvbC5zZWVrQmFyLm9mZihcInRvdWNoc3RhcnRcIik7XG5cdFx0XHRwbGF5ZXIuY29udHJvbEJhci5wcm9ncmVzc0NvbnRyb2wuc2Vla0Jhci5vZmYoXCJjbGlja1wiKTtcblx0XHR9LFxuXHRcdGVuYWJsZTogZnVuY3Rpb24oKSB7XG5cdFx0XHRzdGF0ZSA9IGZhbHNlO1xuXHRcdFx0cGxheWVyLmNvbnRyb2xCYXIucHJvZ3Jlc3NDb250cm9sLnNlZWtCYXIub24oXCJmb2N1c1wiLCBwbGF5ZXIuY29udHJvbEJhci5wcm9ncmVzc0NvbnRyb2wuc2Vla0Jhci5oYW5kbGVGb2N1cyk7XG5cdFx0XHRwbGF5ZXIuY29udHJvbEJhci5wcm9ncmVzc0NvbnRyb2wuc2Vla0Jhci5vbihcIm1vdXNlZG93blwiLCBwbGF5ZXIuY29udHJvbEJhci5wcm9ncmVzc0NvbnRyb2wuc2Vla0Jhci5oYW5kbGVNb3VzZURvd24pO1xuXHRcdFx0cGxheWVyLmNvbnRyb2xCYXIucHJvZ3Jlc3NDb250cm9sLnNlZWtCYXIub24oXCJ0b3VjaHN0YXJ0XCIsIHBsYXllci5jb250cm9sQmFyLnByb2dyZXNzQ29udHJvbC5zZWVrQmFyLmhhbmRsZU1vdXNlRG93bik7XG5cdFx0XHRwbGF5ZXIuY29udHJvbEJhci5wcm9ncmVzc0NvbnRyb2wuc2Vla0Jhci5vbihcImNsaWNrXCIsIHBsYXllci5jb250cm9sQmFyLnByb2dyZXNzQ29udHJvbC5zZWVrQmFyLmhhbmRsZUNsaWNrKTtcblx0XHR9LFxuXHRcdGdldFN0YXRlOiBmdW5jdGlvbigpIHtcblx0XHRcdHJldHVybiBzdGF0ZTtcblx0XHR9XG5cdH07XG5cblx0aWYgKHNldHRpbmdzLmF1dG9EaXNhYmxlKSB7XG5cdFx0cGxheWVyLmRpc2FibGVQcm9ncmVzcy5kaXNhYmxlKCk7XG5cdH1cbn07XG5cbi8qKlxuICog5omT54K5XG4gKiBAcGFyYW0ge1t0eXBlXX0gb3B0aW9ucyBbZGVzY3JpcHRpb25dXG4gKiByZXR1cm4ge1t0eXBlXX0gIFtkZXNjcmlwdGlvbl1cbiAqL1xuY29uc3QgbWFya2VycyA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcblx0Ly9kZWZhdWx0IHNldHRpbmdcblx0dmFyIGRlZmF1bHRTZXR0aW5nID0ge1xuXHRcdG1hcmtlclN0eWxlOiB7XG5cdFx0XHQnd2lkdGgnOiAnOHB4Jyxcblx0XHRcdCdib3JkZXItcmFkaXVzJzogJzIwJScsXG5cdFx0XHQnYmFja2dyb3VuZC1jb2xvcic6ICdyZ2JhKDI1NSwwLDAsLjUpJ1xuXHRcdH0sXG5cdFx0bWFya2VyVGlwOiB7XG5cdFx0XHRkaXNwbGF5OiB0cnVlLFxuXHRcdFx0dGV4dDogZnVuY3Rpb24obWFya2VyKSB7XG5cdFx0XHRcdHJldHVybiBtYXJrZXIudGV4dDtcblx0XHRcdH0sXG5cdFx0XHR0aW1lOiBmdW5jdGlvbihtYXJrZXIpIHtcblx0XHRcdFx0cmV0dXJuIG1hcmtlci50aW1lO1xuXHRcdFx0fVxuXHRcdH0sXG5cdFx0YnJlYWtPdmVybGF5OiB7XG5cdFx0XHRkaXNwbGF5OiB0cnVlLFxuXHRcdFx0ZGlzcGxheVRpbWU6IDEsXG5cdFx0XHR0ZXh0OiBmdW5jdGlvbihtYXJrZXIpIHtcblx0XHRcdFx0cmV0dXJuIG1hcmtlci5vdmVybGF5VGV4dDtcblx0XHRcdH0sXG5cdFx0XHRzdHlsZToge1xuXHRcdFx0XHQnd2lkdGgnOiAnMTAwJScsXG5cdFx0XHRcdCdoZWlnaHQnOiAnY2FsYygxMDAlIC0gMzZweCknLFxuXHRcdFx0XHQnYmFja2dyb3VuZC1jb2xvcic6ICdyZ2JhKDAsMCwwLDAuNyknLFxuXHRcdFx0XHQnY29sb3InOiAnd2hpdGUnLFxuXHRcdFx0XHQnZm9udC1zaXplJzogJzE3cHgnXG5cdFx0XHR9XG5cdFx0fSxcblx0XHRvbk1hcmtlckNsaWNrOiBmdW5jdGlvbihtYXJrZXIpIHtcblx0XHRcdHJldHVybiBmYWxzZVxuXHRcdH0sXG5cdFx0b25NYXJrZXJSZWFjaGVkOiBmdW5jdGlvbihtYXJrZXIpIHt9LFxuXHRcdG1hcmtlcnM6IFtdXG5cdH07XG5cblx0Ly8gY3JlYXRlIGEgbm9uLWNvbGxpZGluZyByYW5kb20gbnVtYmVyXG5cdGZ1bmN0aW9uIGdlbmVyYXRlVVVJRCgpIHtcblx0XHR2YXIgZCA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuXHRcdHZhciB1dWlkID0gJ3h4eHh4eHh4LXh4eHgtNHh4eC15eHh4LXh4eHh4eHh4eHh4eCcucmVwbGFjZSgvW3h5XS9nLCBmdW5jdGlvbihjKSB7XG5cdFx0XHR2YXIgciA9IChkICsgTWF0aC5yYW5kb20oKSAqIDE2KSAlIDE2IHwgMDtcblx0XHRcdGQgPSBNYXRoLmZsb29yKGQgLyAxNik7XG5cdFx0XHRyZXR1cm4gKGMgPT0gJ3gnID8gciA6IChyICYgMHgzIHwgMHg4KSkudG9TdHJpbmcoMTYpO1xuXHRcdH0pO1xuXHRcdHJldHVybiB1dWlkO1xuXHR9O1xuXHQvKipcblx0ICogcmVnaXN0ZXIgdGhlIG1hcmtlcnMgcGx1Z2luIChkZXBlbmRlbnQgb24ganF1ZXJ5KVxuXHQgKi9cblx0dmFyIHNldHRpbmcgPSAkLmV4dGVuZCh0cnVlLCB7fSwgZGVmYXVsdFNldHRpbmcsIG9wdGlvbnMpLFxuXHRcdG1hcmtlcnNNYXAgPSB7fSxcblx0XHRtYXJrZXJzTGlzdCA9IFtdLCAvLyBsaXN0IG9mIG1hcmtlcnMgc29ydGVkIGJ5IHRpbWVcblx0XHR2aWRlb1dyYXBwZXIgPSAkKHRoaXMuZWwoKSksXG5cdFx0Y3VycmVudE1hcmtlckluZGV4ID0gLTEsXG5cdFx0cGxheWVyID0gdGhpcyxcblx0XHRtYXJrZXJUaXAgPSBudWxsLFxuXHRcdGJyZWFrT3ZlcmxheSA9IG51bGwsXG5cdFx0b3ZlcmxheUluZGV4ID0gLTE7XG5cblx0ZnVuY3Rpb24gc29ydE1hcmtlcnNMaXN0KCkge1xuXHRcdC8vIHNvcnQgdGhlIGxpc3QgYnkgdGltZSBpbiBhc2Mgb3JkZXJcblx0XHRtYXJrZXJzTGlzdC5zb3J0KGZ1bmN0aW9uKGEsIGIpIHtcblx0XHRcdHJldHVybiBzZXR0aW5nLm1hcmtlclRpcC50aW1lKGEpIC0gc2V0dGluZy5tYXJrZXJUaXAudGltZShiKTtcblx0XHR9KTtcblx0fVxuXG5cdGZ1bmN0aW9uIGFkZE1hcmtlcnMobmV3TWFya2Vycykge1xuXHRcdC8vIGNyZWF0ZSB0aGUgbWFya2Vyc1xuXHRcdCQuZWFjaChuZXdNYXJrZXJzLCBmdW5jdGlvbihpbmRleCwgbWFya2VyKSB7XG5cdFx0XHRtYXJrZXIua2V5ID0gZ2VuZXJhdGVVVUlEKCk7XG5cblx0XHRcdHZpZGVvV3JhcHBlci5maW5kKCcudmpzLXByb2dyZXNzLWNvbnRyb2wnKS5hcHBlbmQoXG5cdFx0XHRcdGNyZWF0ZU1hcmtlckRpdihtYXJrZXIpKTtcblxuXHRcdFx0Ly8gc3RvcmUgbWFya2VyIGluIGFuIGludGVybmFsIGhhc2ggbWFwXG5cdFx0XHRtYXJrZXJzTWFwW21hcmtlci5rZXldID0gbWFya2VyO1xuXHRcdFx0bWFya2Vyc0xpc3QucHVzaChtYXJrZXIpO1xuXHRcdH0pO1xuXG5cdFx0c29ydE1hcmtlcnNMaXN0KCk7XG5cdH1cblxuXHRmdW5jdGlvbiBnZXRQb3NpdGlvbihtYXJrZXIpIHtcblx0XHRyZXR1cm4gKHNldHRpbmcubWFya2VyVGlwLnRpbWUobWFya2VyKSAvIHBsYXllci5kdXJhdGlvbigpKSAqIDEwMFxuXHR9XG5cblx0ZnVuY3Rpb24gY3JlYXRlTWFya2VyRGl2KG1hcmtlciwgZHVyYXRpb24pIHtcblx0XHR2YXIgbWFya2VyRGl2ID0gJChcIjxkaXYgY2xhc3M9J3Zqcy1tYXJrZXInPjwvZGl2PlwiKTtcblx0XHR2YXIgbWFyZyA9IHBhcnNlSW50KHZpZGVvV3JhcHBlci5maW5kKCcudmpzLXByb2dyZXNzLWNvbnRyb2wgLnZqcy1zbGlkZXInKS5jc3MoJ21hcmdpbkxlZnQnKSk7XG5cdFx0bWFya2VyRGl2LmNzcyhzZXR0aW5nLm1hcmtlclN0eWxlKVxuXHRcdFx0LmNzcyh7XG5cdFx0XHRcdFwibWFyZ2luLWxlZnRcIjogbWFyZyAtIHBhcnNlRmxvYXQobWFya2VyRGl2LmNzcyhcIndpZHRoXCIpKSAvIDIgKyAncHgnLFxuXHRcdFx0XHRcImxlZnRcIjogZ2V0UG9zaXRpb24obWFya2VyKSArICclJ1xuXHRcdFx0fSlcblx0XHRcdC5hdHRyKFwiZGF0YS1tYXJrZXIta2V5XCIsIG1hcmtlci5rZXkpXG5cdFx0XHQuYXR0cihcImRhdGEtbWFya2VyLXRpbWVcIiwgc2V0dGluZy5tYXJrZXJUaXAudGltZShtYXJrZXIpKTtcblxuXHRcdC8vIGFkZCB1c2VyLWRlZmluZWQgY2xhc3MgdG8gbWFya2VyXG5cdFx0aWYgKG1hcmtlci5jbGFzcykge1xuXHRcdFx0bWFya2VyRGl2LmFkZENsYXNzKG1hcmtlci5jbGFzcyk7XG5cdFx0fVxuXG5cdFx0Ly8gYmluZCBjbGljayBldmVudCB0byBzZWVrIHRvIG1hcmtlciB0aW1lXG5cdFx0bWFya2VyRGl2Lm9uKCdjbGljaycsIGZ1bmN0aW9uKGUpIHtcblxuXHRcdFx0dmFyIHByZXZlbnREZWZhdWx0ID0gZmFsc2U7XG5cdFx0XHRpZiAodHlwZW9mIHNldHRpbmcub25NYXJrZXJDbGljayA9PT0gXCJmdW5jdGlvblwiKSB7XG5cdFx0XHRcdC8vIGlmIHJldHVybiBmYWxzZSwgcHJldmVudCBkZWZhdWx0IGJlaGF2aW9yXG5cdFx0XHRcdHByZXZlbnREZWZhdWx0ID0gc2V0dGluZy5vbk1hcmtlckNsaWNrKG1hcmtlcikgPT0gZmFsc2U7XG5cdFx0XHR9XG5cblx0XHRcdGlmICghcHJldmVudERlZmF1bHQpIHtcblx0XHRcdFx0dmFyIGtleSA9ICQodGhpcykuZGF0YSgnbWFya2VyLWtleScpO1xuXHRcdFx0XHRwbGF5ZXIuY3VycmVudFRpbWUoc2V0dGluZy5tYXJrZXJUaXAudGltZShtYXJrZXJzTWFwW2tleV0pKTtcblx0XHRcdH1cblx0XHR9KTtcblxuXHRcdGlmIChzZXR0aW5nLm1hcmtlclRpcC5kaXNwbGF5KSB7XG5cdFx0XHRyZWdpc3Rlck1hcmtlclRpcEhhbmRsZXIobWFya2VyRGl2KTtcblx0XHR9XG5cblx0XHRyZXR1cm4gbWFya2VyRGl2O1xuXHR9XG5cblx0ZnVuY3Rpb24gdXBkYXRlTWFya2VycygpIHtcblx0XHQvLyB1cGRhdGUgVUkgZm9yIG1hcmtlcnMgd2hvc2UgdGltZSBjaGFuZ2VkXG5cblx0XHRmb3IgKHZhciBpID0gMDsgaSA8IG1hcmtlcnNMaXN0Lmxlbmd0aDsgaSsrKSB7XG5cdFx0XHR2YXIgbWFya2VyID0gbWFya2Vyc0xpc3RbaV07XG5cdFx0XHR2YXIgbWFya2VyRGl2ID0gdmlkZW9XcmFwcGVyLmZpbmQoXCIudmpzLW1hcmtlcltkYXRhLW1hcmtlci1rZXk9J1wiICsgbWFya2VyLmtleSArIFwiJ11cIik7XG5cdFx0XHR2YXIgbWFya2VyVGltZSA9IHNldHRpbmcubWFya2VyVGlwLnRpbWUobWFya2VyKTtcblxuXHRcdFx0aWYgKG1hcmtlckRpdi5kYXRhKCdtYXJrZXItdGltZScpICE9IG1hcmtlclRpbWUpIHtcblx0XHRcdFx0bWFya2VyRGl2LmNzcyh7XG5cdFx0XHRcdFx0XHRcImxlZnRcIjogZ2V0UG9zaXRpb24obWFya2VyKSArICclJ1xuXHRcdFx0XHRcdH0pXG5cdFx0XHRcdFx0LmF0dHIoXCJkYXRhLW1hcmtlci10aW1lXCIsIG1hcmtlclRpbWUpO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRzb3J0TWFya2Vyc0xpc3QoKTtcblx0fVxuXG5cdGZ1bmN0aW9uIHJlbW92ZU1hcmtlcnMoaW5kZXhBcnJheSkge1xuXHRcdC8vIHJlc2V0IG92ZXJsYXlcblx0XHRpZiAoYnJlYWtPdmVybGF5KSB7XG5cdFx0XHRvdmVybGF5SW5kZXggPSAtMTtcblx0XHRcdGJyZWFrT3ZlcmxheS5jc3MoXCJ2aXNpYmlsaXR5XCIsIFwiaGlkZGVuXCIpO1xuXHRcdH1cblx0XHRjdXJyZW50TWFya2VySW5kZXggPSAtMTtcblxuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgaW5kZXhBcnJheS5sZW5ndGg7IGkrKykge1xuXHRcdFx0dmFyIGluZGV4ID0gaW5kZXhBcnJheVtpXTtcblx0XHRcdHZhciBtYXJrZXIgPSBtYXJrZXJzTGlzdFtpbmRleF07XG5cdFx0XHRpZiAobWFya2VyKSB7XG5cdFx0XHRcdC8vIGRlbGV0ZSBmcm9tIG1lbW9yeVxuXHRcdFx0XHRkZWxldGUgbWFya2Vyc01hcFttYXJrZXIua2V5XTtcblx0XHRcdFx0bWFya2Vyc0xpc3RbaW5kZXhdID0gbnVsbDtcblxuXHRcdFx0XHQvLyBkZWxldGUgZnJvbSBkb21cblx0XHRcdFx0dmlkZW9XcmFwcGVyLmZpbmQoXCIudmpzLW1hcmtlcltkYXRhLW1hcmtlci1rZXk9J1wiICsgbWFya2VyLmtleSArIFwiJ11cIikucmVtb3ZlKCk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gY2xlYW4gdXAgYXJyYXlcblx0XHRmb3IgKHZhciBpID0gbWFya2Vyc0xpc3QubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcblx0XHRcdGlmIChtYXJrZXJzTGlzdFtpXSA9PT0gbnVsbCkge1xuXHRcdFx0XHRtYXJrZXJzTGlzdC5zcGxpY2UoaSwgMSk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gc29ydCBhZ2FpblxuXHRcdHNvcnRNYXJrZXJzTGlzdCgpO1xuXHR9XG5cblxuXHQvLyBhdHRhY2ggaG92ZXIgZXZlbnQgaGFuZGxlclxuXHRmdW5jdGlvbiByZWdpc3Rlck1hcmtlclRpcEhhbmRsZXIobWFya2VyRGl2KSB7XG5cblx0XHRtYXJrZXJEaXYub24oJ21vdXNlb3ZlcicsIGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIG1hcmtlciA9IG1hcmtlcnNNYXBbJCh0aGlzKS5kYXRhKCdtYXJrZXIta2V5JyldO1xuXG5cdFx0XHRtYXJrZXJUaXAuZmluZCgnLnZqcy10aXAtaW5uZXInKS5odG1sKHNldHRpbmcubWFya2VyVGlwLnRleHQobWFya2VyKSk7XG5cblx0XHRcdC8vIG1hcmdpbi1sZWZ0IG5lZWRzIHRvIG1pbnVzIHRoZSBwYWRkaW5nIGxlbmd0aCB0byBhbGlnbiBjb3JyZWN0bHkgd2l0aCB0aGUgbWFya2VyXG5cdFx0XHRtYXJrZXJUaXAuY3NzKHtcblx0XHRcdFx0XCJsZWZ0XCI6IGdldFBvc2l0aW9uKG1hcmtlcikgKyAnJScsXG5cdFx0XHRcdFwibWFyZ2luLWxlZnRcIjogLXBhcnNlRmxvYXQobWFya2VyVGlwLmNzcyhcIndpZHRoXCIpKSAvIDIgLSA1ICsgJ3B4Jyxcblx0XHRcdFx0XCJ2aXNpYmlsaXR5XCI6IFwidmlzaWJsZVwiXG5cdFx0XHR9KTtcblxuXHRcdH0pLm9uKCdtb3VzZW91dCcsIGZ1bmN0aW9uKCkge1xuXHRcdFx0bWFya2VyVGlwLmNzcyhcInZpc2liaWxpdHlcIiwgXCJoaWRkZW5cIik7XG5cdFx0fSk7XG5cdH1cblxuXHRmdW5jdGlvbiBpbml0aWFsaXplTWFya2VyVGlwKCkge1xuXHRcdG1hcmtlclRpcCA9ICQoXCI8ZGl2IGNsYXNzPSd2anMtdGlwJz48ZGl2IGNsYXNzPSd2anMtdGlwLWFycm93Jz48L2Rpdj48ZGl2IGNsYXNzPSd2anMtdGlwLWlubmVyJz48L2Rpdj48L2Rpdj5cIik7XG5cdFx0dmlkZW9XcmFwcGVyLmZpbmQoJy52anMtcHJvZ3Jlc3MtY29udHJvbCcpLmFwcGVuZChtYXJrZXJUaXApO1xuXHR9XG5cblx0Ly8gc2hvdyBvciBoaWRlIGJyZWFrIG92ZXJsYXlzXG5cdGZ1bmN0aW9uIHVwZGF0ZUJyZWFrT3ZlcmxheSgpIHtcblx0XHRpZiAoIXNldHRpbmcuYnJlYWtPdmVybGF5LmRpc3BsYXkgfHwgY3VycmVudE1hcmtlckluZGV4IDwgMCkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdHZhciBjdXJyZW50VGltZSA9IHBsYXllci5jdXJyZW50VGltZSgpO1xuXHRcdHZhciBtYXJrZXIgPSBtYXJrZXJzTGlzdFtjdXJyZW50TWFya2VySW5kZXhdO1xuXHRcdHZhciBtYXJrZXJUaW1lID0gc2V0dGluZy5tYXJrZXJUaXAudGltZShtYXJrZXIpO1xuXG5cdFx0aWYgKGN1cnJlbnRUaW1lID49IG1hcmtlclRpbWUgJiZcblx0XHRcdGN1cnJlbnRUaW1lIDw9IChtYXJrZXJUaW1lICsgc2V0dGluZy5icmVha092ZXJsYXkuZGlzcGxheVRpbWUpKSB7XG5cdFx0XHRpZiAob3ZlcmxheUluZGV4ICE9IGN1cnJlbnRNYXJrZXJJbmRleCkge1xuXHRcdFx0XHRvdmVybGF5SW5kZXggPSBjdXJyZW50TWFya2VySW5kZXg7XG5cdFx0XHRcdGJyZWFrT3ZlcmxheS5maW5kKCcudmpzLWJyZWFrLW92ZXJsYXktdGV4dCcpLmh0bWwoc2V0dGluZy5icmVha092ZXJsYXkudGV4dChtYXJrZXIpKTtcblx0XHRcdH1cblxuXHRcdFx0YnJlYWtPdmVybGF5LmNzcygndmlzaWJpbGl0eScsIFwidmlzaWJsZVwiKTtcblxuXHRcdH0gZWxzZSB7XG5cdFx0XHRvdmVybGF5SW5kZXggPSAtMTtcblx0XHRcdGJyZWFrT3ZlcmxheS5jc3MoXCJ2aXNpYmlsaXR5XCIsIFwiaGlkZGVuXCIpO1xuXHRcdH1cblx0fVxuXG5cdC8vIHByb2JsZW0gd2hlbiB0aGUgbmV4dCBtYXJrZXIgaXMgd2l0aGluIHRoZSBvdmVybGF5IGRpc3BsYXkgdGltZSBmcm9tIHRoZSBwcmV2aW91cyBtYXJrZXJcblx0ZnVuY3Rpb24gaW5pdGlhbGl6ZU92ZXJsYXkoKSB7XG5cdFx0YnJlYWtPdmVybGF5ID0gJChcIjxkaXYgY2xhc3M9J3Zqcy1icmVhay1vdmVybGF5Jz48ZGl2IGNsYXNzPSd2anMtYnJlYWstb3ZlcmxheS10ZXh0Jz48L2Rpdj48L2Rpdj5cIilcblx0XHRcdC5jc3Moc2V0dGluZy5icmVha092ZXJsYXkuc3R5bGUpO1xuXHRcdHZpZGVvV3JhcHBlci5hcHBlbmQoYnJlYWtPdmVybGF5KTtcblx0XHRvdmVybGF5SW5kZXggPSAtMTtcblx0fVxuXG5cdGZ1bmN0aW9uIG9uVGltZVVwZGF0ZSgpIHtcblx0XHRvblVwZGF0ZU1hcmtlcigpO1xuXHRcdHVwZGF0ZUJyZWFrT3ZlcmxheSgpO1xuXHR9XG5cblx0ZnVuY3Rpb24gb25VcGRhdGVNYXJrZXIoKSB7XG5cdFx0Lypcblx0XHQgICAgY2hlY2sgbWFya2VyIHJlYWNoZWQgaW4gYmV0d2VlbiBtYXJrZXJzXG5cdFx0ICAgIHRoZSBsb2dpYyBoZXJlIGlzIHRoYXQgaXQgdHJpZ2dlcnMgYSBuZXcgbWFya2VyIHJlYWNoZWQgZXZlbnQgb25seSBpZiB0aGUgcGxheWVyIFxuXHRcdCAgICBlbnRlcnMgYSBuZXcgbWFya2VyIHJhbmdlIChlLmcuIGZyb20gbWFya2VyIDEgdG8gbWFya2VyIDIpLiBUaHVzLCBpZiBwbGF5ZXIgaXMgb24gbWFya2VyIDEgYW5kIHVzZXIgY2xpY2tlZCBvbiBtYXJrZXIgMSBhZ2Fpbiwgbm8gbmV3IHJlYWNoZWQgZXZlbnQgaXMgdHJpZ2dlcmVkKVxuXHRcdCovXG5cblx0XHR2YXIgZ2V0TmV4dE1hcmtlclRpbWUgPSBmdW5jdGlvbihpbmRleCkge1xuXHRcdFx0aWYgKGluZGV4IDwgbWFya2Vyc0xpc3QubGVuZ3RoIC0gMSkge1xuXHRcdFx0XHRyZXR1cm4gc2V0dGluZy5tYXJrZXJUaXAudGltZShtYXJrZXJzTGlzdFtpbmRleCArIDFdKTtcblx0XHRcdH1cblx0XHRcdC8vIG5leHQgbWFya2VyIHRpbWUgb2YgbGFzdCBtYXJrZXIgd291bGQgYmUgZW5kIG9mIHZpZGVvIHRpbWVcblx0XHRcdHJldHVybiBwbGF5ZXIuZHVyYXRpb24oKTtcblx0XHR9XG5cdFx0dmFyIGN1cnJlbnRUaW1lID0gcGxheWVyLmN1cnJlbnRUaW1lKCk7XG5cdFx0dmFyIG5ld01hcmtlckluZGV4O1xuXG5cdFx0aWYgKGN1cnJlbnRNYXJrZXJJbmRleCAhPSAtMSkge1xuXHRcdFx0Ly8gY2hlY2sgaWYgc3RheWluZyBhdCBzYW1lIG1hcmtlclxuXHRcdFx0dmFyIG5leHRNYXJrZXJUaW1lID0gZ2V0TmV4dE1hcmtlclRpbWUoY3VycmVudE1hcmtlckluZGV4KTtcblx0XHRcdGlmIChjdXJyZW50VGltZSA+PSBzZXR0aW5nLm1hcmtlclRpcC50aW1lKG1hcmtlcnNMaXN0W2N1cnJlbnRNYXJrZXJJbmRleF0pICYmXG5cdFx0XHRcdGN1cnJlbnRUaW1lIDwgbmV4dE1hcmtlclRpbWUpIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBjaGVjayBmb3IgZW5kaW5nIChhdCB0aGUgZW5kIGN1cnJlbnQgdGltZSBlcXVhbHMgcGxheWVyIGR1cmF0aW9uKVxuXHRcdFx0aWYgKGN1cnJlbnRNYXJrZXJJbmRleCA9PT0gbWFya2Vyc0xpc3QubGVuZ3RoIC0gMSAmJlxuXHRcdFx0XHRjdXJyZW50VGltZSA9PT0gcGxheWVyLmR1cmF0aW9uKCkpIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIGNoZWNrIGZpcnN0IG1hcmtlciwgbm8gbWFya2VyIGlzIHNlbGVjdGVkXG5cdFx0aWYgKG1hcmtlcnNMaXN0Lmxlbmd0aCA+IDAgJiZcblx0XHRcdGN1cnJlbnRUaW1lIDwgc2V0dGluZy5tYXJrZXJUaXAudGltZShtYXJrZXJzTGlzdFswXSkpIHtcblx0XHRcdG5ld01hcmtlckluZGV4ID0gLTE7XG5cdFx0fSBlbHNlIHtcblx0XHRcdC8vIGxvb2sgZm9yIG5ldyBpbmRleFxuXHRcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBtYXJrZXJzTGlzdC5sZW5ndGg7IGkrKykge1xuXHRcdFx0XHRuZXh0TWFya2VyVGltZSA9IGdldE5leHRNYXJrZXJUaW1lKGkpO1xuXG5cdFx0XHRcdGlmIChjdXJyZW50VGltZSA+PSBzZXR0aW5nLm1hcmtlclRpcC50aW1lKG1hcmtlcnNMaXN0W2ldKSAmJlxuXHRcdFx0XHRcdGN1cnJlbnRUaW1lIDwgbmV4dE1hcmtlclRpbWUpIHtcblx0XHRcdFx0XHRuZXdNYXJrZXJJbmRleCA9IGk7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyBzZXQgbmV3IG1hcmtlciBpbmRleFxuXHRcdGlmIChuZXdNYXJrZXJJbmRleCAhPSBjdXJyZW50TWFya2VySW5kZXgpIHtcblx0XHRcdC8vIHRyaWdnZXIgZXZlbnRcblx0XHRcdGlmIChuZXdNYXJrZXJJbmRleCAhPSAtMSAmJiBvcHRpb25zLm9uTWFya2VyUmVhY2hlZCkge1xuXHRcdFx0XHRvcHRpb25zLm9uTWFya2VyUmVhY2hlZChtYXJrZXJzTGlzdFtuZXdNYXJrZXJJbmRleF0pO1xuXHRcdFx0fVxuXHRcdFx0Y3VycmVudE1hcmtlckluZGV4ID0gbmV3TWFya2VySW5kZXg7XG5cdFx0fVxuXG5cdH1cblxuXHQvLyBzZXR1cCB0aGUgd2hvbGUgdGhpbmdcblx0ZnVuY3Rpb24gaW5pdGlhbGl6ZSgpIHtcblx0XHRpZiAoc2V0dGluZy5tYXJrZXJUaXAuZGlzcGxheSkge1xuXHRcdFx0aW5pdGlhbGl6ZU1hcmtlclRpcCgpO1xuXHRcdH1cblxuXHRcdC8vIHJlbW92ZSBleGlzdGluZyBtYXJrZXJzIGlmIGFscmVhZHkgaW5pdGlhbGl6ZWRcblx0XHRwbGF5ZXIubWFya2Vycy5yZW1vdmVBbGwoKTtcblx0XHRhZGRNYXJrZXJzKG9wdGlvbnMubWFya2Vycyk7XG5cblx0XHRpZiAoc2V0dGluZy5icmVha092ZXJsYXkuZGlzcGxheSkge1xuXHRcdFx0aW5pdGlhbGl6ZU92ZXJsYXkoKTtcblx0XHR9XG5cdFx0b25UaW1lVXBkYXRlKCk7XG5cdFx0cGxheWVyLm9uKFwidGltZXVwZGF0ZVwiLCBvblRpbWVVcGRhdGUpO1xuXHR9XG5cblx0Ly8gc2V0dXAgdGhlIHBsdWdpbiBhZnRlciB3ZSBsb2FkZWQgdmlkZW8ncyBtZXRhIGRhdGFcblx0cGxheWVyLm9uKFwibG9hZGVkbWV0YWRhdGFcIiwgZnVuY3Rpb24oKSB7XG5cdFx0aW5pdGlhbGl6ZSgpO1xuXHR9KTtcblxuXHQvLyBleHBvc2VkIHBsdWdpbiBBUElcblx0cGxheWVyLm1hcmtlcnMgPSB7XG5cdFx0Z2V0TWFya2VyczogZnVuY3Rpb24oKSB7XG5cdFx0XHRyZXR1cm4gbWFya2Vyc0xpc3Q7XG5cdFx0fSxcblx0XHRuZXh0OiBmdW5jdGlvbigpIHtcblx0XHRcdC8vIGdvIHRvIHRoZSBuZXh0IG1hcmtlciBmcm9tIGN1cnJlbnQgdGltZXN0YW1wXG5cdFx0XHR2YXIgY3VycmVudFRpbWUgPSBwbGF5ZXIuY3VycmVudFRpbWUoKTtcblx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgbWFya2Vyc0xpc3QubGVuZ3RoOyBpKyspIHtcblx0XHRcdFx0dmFyIG1hcmtlclRpbWUgPSBzZXR0aW5nLm1hcmtlclRpcC50aW1lKG1hcmtlcnNMaXN0W2ldKTtcblx0XHRcdFx0aWYgKG1hcmtlclRpbWUgPiBjdXJyZW50VGltZSkge1xuXHRcdFx0XHRcdHBsYXllci5jdXJyZW50VGltZShtYXJrZXJUaW1lKTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0sXG5cdFx0cHJldjogZnVuY3Rpb24oKSB7XG5cdFx0XHQvLyBnbyB0byBwcmV2aW91cyBtYXJrZXJcblx0XHRcdHZhciBjdXJyZW50VGltZSA9IHBsYXllci5jdXJyZW50VGltZSgpO1xuXHRcdFx0Zm9yICh2YXIgaSA9IG1hcmtlcnNMaXN0Lmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG5cdFx0XHRcdHZhciBtYXJrZXJUaW1lID0gc2V0dGluZy5tYXJrZXJUaXAudGltZShtYXJrZXJzTGlzdFtpXSk7XG5cdFx0XHRcdC8vIGFkZCBhIHRocmVzaG9sZFxuXHRcdFx0XHRpZiAobWFya2VyVGltZSArIDAuNSA8IGN1cnJlbnRUaW1lKSB7XG5cdFx0XHRcdFx0cGxheWVyLmN1cnJlbnRUaW1lKG1hcmtlclRpbWUpO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSxcblx0XHRhZGQ6IGZ1bmN0aW9uKG5ld01hcmtlcnMpIHtcblx0XHRcdC8vIGFkZCBuZXcgbWFya2VycyBnaXZlbiBhbiBhcnJheSBvZiBpbmRleFxuXHRcdFx0YWRkTWFya2VycyhuZXdNYXJrZXJzKTtcblx0XHR9LFxuXHRcdHJlbW92ZTogZnVuY3Rpb24oaW5kZXhBcnJheSkge1xuXHRcdFx0Ly8gcmVtb3ZlIG1hcmtlcnMgZ2l2ZW4gYW4gYXJyYXkgb2YgaW5kZXhcblx0XHRcdHJlbW92ZU1hcmtlcnMoaW5kZXhBcnJheSk7XG5cdFx0fSxcblx0XHRyZW1vdmVBbGw6IGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIGluZGV4QXJyYXkgPSBbXTtcblx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgbWFya2Vyc0xpc3QubGVuZ3RoOyBpKyspIHtcblx0XHRcdFx0aW5kZXhBcnJheS5wdXNoKGkpO1xuXHRcdFx0fVxuXHRcdFx0cmVtb3ZlTWFya2VycyhpbmRleEFycmF5KTtcblx0XHR9LFxuXHRcdHVwZGF0ZVRpbWU6IGZ1bmN0aW9uKCkge1xuXHRcdFx0Ly8gbm90aWZ5IHRoZSBwbHVnaW4gdG8gdXBkYXRlIHRoZSBVSSBmb3IgY2hhbmdlcyBpbiBtYXJrZXIgdGltZXMgXG5cdFx0XHR1cGRhdGVNYXJrZXJzKCk7XG5cdFx0fSxcblx0XHRyZXNldDogZnVuY3Rpb24obmV3TWFya2Vycykge1xuXHRcdFx0Ly8gcmVtb3ZlIGFsbCB0aGUgZXhpc3RpbmcgbWFya2VycyBhbmQgYWRkIG5ldyBvbmVzXG5cdFx0XHRwbGF5ZXIubWFya2Vycy5yZW1vdmVBbGwoKTtcblx0XHRcdGFkZE1hcmtlcnMobmV3TWFya2Vycyk7XG5cdFx0fSxcblx0XHRkZXN0cm95OiBmdW5jdGlvbigpIHtcblx0XHRcdC8vIHVucmVnaXN0ZXIgdGhlIHBsdWdpbnMgYW5kIGNsZWFuIHVwIGV2ZW4gaGFuZGxlcnNcblx0XHRcdHBsYXllci5tYXJrZXJzLnJlbW92ZUFsbCgpO1xuXHRcdFx0YnJlYWtPdmVybGF5LnJlbW92ZSgpO1xuXHRcdFx0bWFya2VyVGlwLnJlbW92ZSgpO1xuXHRcdFx0cGxheWVyLm9mZihcInRpbWV1cGRhdGVcIiwgdXBkYXRlQnJlYWtPdmVybGF5KTtcblx0XHRcdGRlbGV0ZSBwbGF5ZXIubWFya2Vycztcblx0XHR9LFxuXHR9O1xufTtcblxuLyoqXG4gKiDmsLTljbBcbiAqIEBwYXJhbSB7W3R5cGVdfSBvcHRpb25zIFtkZXNjcmlwdGlvbl1cbiAqIHJldHVybiB7W3R5cGVdfSAgW2Rlc2NyaXB0aW9uXVxuICovXG5jb25zdCB3YXRlck1hcmsgPSBmdW5jdGlvbihzZXR0aW5ncykge1xuXHR2YXIgZGVmYXVsdHMgPSB7XG5cdFx0XHRmaWxlOiAnbG9nby5wbmcnLFxuXHRcdFx0eHBvczogMCxcblx0XHRcdHlwb3M6IDAsXG5cdFx0XHR4cmVwZWF0OiAwLFxuXHRcdFx0b3BhY2l0eTogMTAwLFxuXHRcdFx0Y2xpY2thYmxlOiBmYWxzZSxcblx0XHRcdHVybDogXCJcIixcblx0XHRcdGNsYXNzTmFtZTogJ3Zqcy13YXRlcm1hcmsnLFxuXHRcdFx0dGV4dDogZmFsc2UsXG5cdFx0XHRkZWJ1ZzogZmFsc2Vcblx0XHR9LFxuXHRcdGV4dGVuZCA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIGFyZ3MsIHRhcmdldCwgaSwgb2JqZWN0LCBwcm9wZXJ0eTtcblx0XHRcdGFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpO1xuXHRcdFx0dGFyZ2V0ID0gYXJncy5zaGlmdCgpIHx8IHt9O1xuXHRcdFx0Zm9yIChpIGluIGFyZ3MpIHtcblx0XHRcdFx0b2JqZWN0ID0gYXJnc1tpXTtcblx0XHRcdFx0Zm9yIChwcm9wZXJ0eSBpbiBvYmplY3QpIHtcblx0XHRcdFx0XHRpZiAob2JqZWN0Lmhhc093blByb3BlcnR5KHByb3BlcnR5KSkge1xuXHRcdFx0XHRcdFx0aWYgKHR5cGVvZiBvYmplY3RbcHJvcGVydHldID09PSAnb2JqZWN0Jykge1xuXHRcdFx0XHRcdFx0XHR0YXJnZXRbcHJvcGVydHldID0gZXh0ZW5kKHRhcmdldFtwcm9wZXJ0eV0sIG9iamVjdFtwcm9wZXJ0eV0pO1xuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0dGFyZ2V0W3Byb3BlcnR5XSA9IG9iamVjdFtwcm9wZXJ0eV07XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gdGFyZ2V0O1xuXHRcdH07XG5cblx0Ly8hIGdsb2JhbCB2YXJpYmxlIGNvbnRhaW5pbmcgcmVmZXJlbmNlIHRvIHRoZSBET00gZWxlbWVudFxuXHR2YXIgZGl2O1xuXG5cdC8vIHZhciBzZXR0aW5ncyA9ICQuZXh0ZW5kKHRydWUsIHt9LCBkZWZhdWx0cywgb3B0aW9ucyk7XG5cblx0aWYgKHNldHRpbmdzLmRlYnVnKSBjb25zb2xlLmxvZygnd2F0ZXJtYXJrOiBSZWdpc3RlciBpbml0Jyk7XG5cblx0dmFyIG9wdGlvbnMsIHBsYXllciwgdmlkZW8sIGltZywgbGluaztcblx0b3B0aW9ucyA9IGV4dGVuZChkZWZhdWx0cywgc2V0dGluZ3MpO1xuXG5cdC8qIEdyYWIgdGhlIG5lY2Vzc2FyeSBET00gZWxlbWVudHMgKi9cblx0cGxheWVyID0gdGhpcy5lbCgpO1xuXHR2aWRlbyA9IHRoaXMuZWwoKS5nZXRFbGVtZW50c0J5VGFnTmFtZSgndmlkZW8nKVswXTtcblxuXHQvLyBjcmVhdGUgdGhlIHdhdGVybWFyayBlbGVtZW50XG5cdGlmICghZGl2KSB7XG5cdFx0ZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cdFx0ZGl2LmNsYXNzTmFtZSA9IG9wdGlvbnMuY2xhc3NOYW1lO1xuXHR9IGVsc2Uge1xuXHRcdC8vISBpZiBkaXYgYWxyZWFkeSBleGlzdHMsIGVtcHR5IGl0XG5cdFx0ZGl2LmlubmVySFRNTCA9ICcnO1xuXHR9XG5cblx0Ly8gaWYgdGV4dCBpcyBzZXQsIGRpc3BsYXkgdGV4dFxuXHRpZiAob3B0aW9ucy50ZXh0KVxuXHRcdGRpdi50ZXh0Q29udGVudCA9IG9wdGlvbnMudGV4dDtcblxuXHQvLyBpZiBpbWcgaXMgc2V0LCBhZGQgaW1nXG5cdGlmIChvcHRpb25zLmZpbGUpIHtcblx0XHRpbWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbWcnKTtcblx0XHRkaXYuYXBwZW5kQ2hpbGQoaW1nKTtcblx0XHRkaXYuc3R5bGUuZGlzcGxheSA9IFwiaW5saW5lLWJsb2NrXCI7XG5cdFx0ZGl2LnN0eWxlLnBvc2l0aW9uID0gXCJhYnNvbHV0ZVwiO1xuXHRcdGRpdi5zdHlsZS56SW5kZXggPSAwO1xuXHRcdGltZy5zcmMgPSBvcHRpb25zLmZpbGU7XG5cdH1cblx0Ly9pbWcuc3R5bGUuYm90dG9tID0gXCIwXCI7XG5cdC8vaW1nLnN0eWxlLnJpZ2h0ID0gXCIwXCI7XG5cdGlmICgob3B0aW9ucy55cG9zID09PSAwKSAmJiAob3B0aW9ucy54cG9zID09PSAwKSkgLy8gVG9wIGxlZnRcblx0e1xuXHRcdGRpdi5zdHlsZS50b3AgPSBcIjBweFwiO1xuXHRcdGRpdi5zdHlsZS5sZWZ0ID0gXCIwcHhcIjtcblx0fSBlbHNlIGlmICgob3B0aW9ucy55cG9zID09PSAwKSAmJiAob3B0aW9ucy54cG9zID09PSAxMDApKSAvLyBUb3AgcmlnaHRcblx0e1xuXHRcdGRpdi5zdHlsZS50b3AgPSBcIjBweFwiO1xuXHRcdGRpdi5zdHlsZS5yaWdodCA9IFwiMHB4XCI7XG5cdH0gZWxzZSBpZiAoKG9wdGlvbnMueXBvcyA9PT0gMTAwKSAmJiAob3B0aW9ucy54cG9zID09PSAxMDApKSAvLyBCb3R0b20gcmlnaHRcblx0e1xuXHRcdGRpdi5zdHlsZS5ib3R0b20gPSBcIjBweFwiO1xuXHRcdGRpdi5zdHlsZS5yaWdodCA9IFwiMHB4XCI7XG5cdH0gZWxzZSBpZiAoKG9wdGlvbnMueXBvcyA9PT0gMTAwKSAmJiAob3B0aW9ucy54cG9zID09PSAwKSkgLy8gQm90dG9tIGxlZnRcblx0e1xuXHRcdGRpdi5zdHlsZS5ib3R0b20gPSBcIjBweFwiO1xuXHRcdGRpdi5zdHlsZS5sZWZ0ID0gXCIwcHhcIjtcblx0fSBlbHNlIGlmICgob3B0aW9ucy55cG9zID09PSA1MCkgJiYgKG9wdGlvbnMueHBvcyA9PT0gNTApKSAvLyBDZW50ZXJcblx0e1xuXHRcdGlmIChvcHRpb25zLmRlYnVnKSBjb25zb2xlLmxvZygnd2F0ZXJtYXJrOiBwbGF5ZXI6JyArIHBsYXllci53aWR0aCArICd4JyArIHBsYXllci5oZWlnaHQpO1xuXHRcdGlmIChvcHRpb25zLmRlYnVnKSBjb25zb2xlLmxvZygnd2F0ZXJtYXJrOiB2aWRlbzonICsgdmlkZW8udmlkZW9XaWR0aCArICd4JyArIHZpZGVvLnZpZGVvSGVpZ2h0KTtcblx0XHRpZiAob3B0aW9ucy5kZWJ1ZykgY29uc29sZS5sb2coJ3dhdGVybWFyazogaW1hZ2U6JyArIGltZy53aWR0aCArICd4JyArIGltZy5oZWlnaHQpO1xuXHRcdGRpdi5zdHlsZS50b3AgPSAodGhpcy5oZWlnaHQoKSAvIDIpICsgXCJweFwiO1xuXHRcdGRpdi5zdHlsZS5sZWZ0ID0gKHRoaXMud2lkdGgoKSAvIDIpICsgXCJweFwiO1xuXHR9XG5cdGRpdi5zdHlsZS5vcGFjaXR5ID0gb3B0aW9ucy5vcGFjaXR5O1xuXG5cdC8vZGl2LnN0eWxlLmJhY2tncm91bmRJbWFnZSA9IFwidXJsKFwiK29wdGlvbnMuZmlsZStcIilcIjtcblx0Ly9kaXYuc3R5bGUuYmFja2dyb3VuZFBvc2l0aW9uLnggPSBvcHRpb25zLnhwb3MrXCIlXCI7XG5cdC8vZGl2LnN0eWxlLmJhY2tncm91bmRQb3NpdGlvbi55ID0gb3B0aW9ucy55cG9zK1wiJVwiO1xuXHQvL2Rpdi5zdHlsZS5iYWNrZ3JvdW5kUmVwZWF0ID0gb3B0aW9ucy54cmVwZWF0O1xuXHQvL2Rpdi5zdHlsZS5vcGFjaXR5ID0gKG9wdGlvbnMub3BhY2l0eS8xMDApO1xuXG5cdC8vaWYgdXNlciB3YW50cyB3YXRlcm1hcmsgdG8gYmUgY2xpY2thYmxlLCBhZGQgYW5jaG9yIGVsZW1cblx0Ly90b2RvOiBjaGVjayBpZiBvcHRpb25zLnVybCBpcyBhbiBhY3R1YWwgdXJsP1xuXHRpZiAob3B0aW9ucy5jbGlja2FibGUgJiYgb3B0aW9ucy51cmwgIT09IFwiXCIpIHtcblx0XHRsaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImFcIik7XG5cdFx0bGluay5ocmVmID0gb3B0aW9ucy51cmw7XG5cdFx0bGluay50YXJnZXQgPSBcIl9ibGFua1wiO1xuXHRcdGxpbmsuYXBwZW5kQ2hpbGQoZGl2KTtcblx0XHQvL2FkZCBjbGlja2FibGUgd2F0ZXJtYXJrIHRvIHRoZSBwbGF5ZXJcblx0XHRwbGF5ZXIuYXBwZW5kQ2hpbGQobGluayk7XG5cdH0gZWxzZSB7XG5cdFx0Ly9hZGQgbm9ybWFsIHdhdGVybWFyayB0byB0aGUgcGxheWVyXG5cdFx0cGxheWVyLmFwcGVuZENoaWxkKGRpdik7XG5cdH1cblxuXHRpZiAob3B0aW9ucy5kZWJ1ZykgY29uc29sZS5sb2coJ3dhdGVybWFyazogUmVnaXN0ZXIgZW5kJyk7XG59O1xuXG4vKipcbiAqIOiusOW9lSDlvZXpn7Mg5oiq5bGPXG4gKiBAcGFyYW0ge1t0eXBlXX0gb3B0aW9ucyBbZGVzY3JpcHRpb25dXG4gKiByZXR1cm4ge1t0eXBlXX0gIFtkZXNjcmlwdGlvbl1cbiAqL1xuY29uc3QgcmVjb3JkID0gZnVuY3Rpb24ob3B0aW9ucykge1xuICAgIHZhciBWanNDb21wb25lbnQgPSB2aWRlb2pzLmdldENvbXBvbmVudCgnQ29tcG9uZW50Jyk7XG4gICAgdmFyIFZqc0J1dHRvbiA9IHZpZGVvanMuZ2V0Q29tcG9uZW50KCdCdXR0b24nKTtcblxuICAgIC8qKlxuICAgICAqIEJhc2UgY2xhc3MgZm9yIHJlY29yZGVyIGJhY2tlbmRzLlxuICAgICAqIEBjbGFzc1xuICAgICAqIEBhdWdtZW50cyB2aWRlb2pzLkNvbXBvbmVudFxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdmlkZW9qcy5SZWNvcmRCYXNlID0gdmlkZW9qcy5leHRlbmQoVmpzQ29tcG9uZW50LFxuICAgIHtcbiAgICAgICAgLy8gcmVjb3JkZXIgbW9kZXNcbiAgICAgICAgSU1BR0VfT05MWTogJ2ltYWdlX29ubHknLFxuICAgICAgICBBVURJT19PTkxZOiAnYXVkaW9fb25seScsXG4gICAgICAgIFZJREVPX09OTFk6ICd2aWRlb19vbmx5JyxcbiAgICAgICAgQVVESU9fVklERU86ICdhdWRpb192aWRlbycsXG4gICAgICAgIEFOSU1BVElPTjogJ2FuaW1hdGlvbicsXG5cbiAgICAgICAgLy8gc3VwcG9ydGVkIHJlY29yZGVyIHBsdWdpbiBlbmdpbmVzXG4gICAgICAgIFJFQ09SRFJUQzogJ3JlY29yZHJ0YycsXG4gICAgICAgIExJQlZPUkJJU0pTOiAnbGlidm9yYmlzLmpzJyxcbiAgICAgICAgUkVDT1JERVJKUzogJ3JlY29yZGVyLmpzJyxcbiAgICAgICAgTEFNRUpTOiAnbGFtZWpzJyxcbiAgICAgICAgT1BVU1JFQ09SREVSOiAnb3B1cy1yZWNvcmRlcicsXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBjb25zdHJ1Y3RvciBmdW5jdGlvbiBmb3IgdGhlIGNsYXNzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAcGFyYW0geyh2aWRlb2pzLlBsYXllcnxPYmplY3QpfSBwbGF5ZXIgLSBWaWRlby5qcyBwbGF5ZXIgaW5zdGFuY2UuXG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIC0gUGxheWVyIG9wdGlvbnMuXG4gICAgICAgICAqL1xuICAgICAgICBjb25zdHJ1Y3RvcjogZnVuY3Rpb24ocGxheWVyLCBvcHRpb25zKVxuICAgICAgICB7XG4gICAgICAgICAgICBWanNDb21wb25lbnQuY2FsbCh0aGlzLCBwbGF5ZXIsIG9wdGlvbnMpO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBCcm93c2VyIGRldGVjdG9yLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAcmV0dXJuIHtvYmplY3R9IHJlc3VsdCBjb250YWluaW5nIGJyb3dzZXIsIHZlcnNpb24gYW5kIG1pblZlcnNpb25cbiAgICAgICAgICogICAgIHByb3BlcnRpZXMuXG4gICAgICAgICAqL1xuICAgICAgICBkZXRlY3RCcm93c2VyOiBmdW5jdGlvbigpXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIFJldHVybmVkIHJlc3VsdCBvYmplY3QuXG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0ge307XG4gICAgICAgICAgICByZXN1bHQuYnJvd3NlciA9IG51bGw7XG4gICAgICAgICAgICByZXN1bHQudmVyc2lvbiA9IG51bGw7XG4gICAgICAgICAgICByZXN1bHQubWluVmVyc2lvbiA9IG51bGw7XG5cbiAgICAgICAgICAgIC8vIE5vbiBzdXBwb3J0ZWQgYnJvd3Nlci5cbiAgICAgICAgICAgIGlmICh0eXBlb2Ygd2luZG93ID09PSAndW5kZWZpbmVkJyB8fCAhd2luZG93Lm5hdmlnYXRvcilcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZXN1bHQuYnJvd3NlciA9ICdOb3QgYSBzdXBwb3J0ZWQgYnJvd3Nlci4nO1xuICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIEZpcmVmb3guXG4gICAgICAgICAgICBpZiAobmF2aWdhdG9yLm1vekdldFVzZXJNZWRpYSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZXN1bHQuYnJvd3NlciA9ICdmaXJlZm94JztcbiAgICAgICAgICAgICAgICByZXN1bHQudmVyc2lvbiA9IHRoaXMuZXh0cmFjdFZlcnNpb24obmF2aWdhdG9yLnVzZXJBZ2VudCxcbiAgICAgICAgICAgICAgICAgICAgL0ZpcmVmb3hcXC8oWzAtOV0rKVxcLi8sIDEpO1xuICAgICAgICAgICAgICAgIHJlc3VsdC5taW5WZXJzaW9uID0gMzE7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gQ2hyb21lL0Nocm9taXVtL1dlYnZpZXcuXG4gICAgICAgICAgICBpZiAobmF2aWdhdG9yLndlYmtpdEdldFVzZXJNZWRpYSAmJiB3aW5kb3cud2Via2l0UlRDUGVlckNvbm5lY3Rpb24pXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmVzdWx0LmJyb3dzZXIgPSAnY2hyb21lJztcbiAgICAgICAgICAgICAgICByZXN1bHQudmVyc2lvbiA9IHRoaXMuZXh0cmFjdFZlcnNpb24obmF2aWdhdG9yLnVzZXJBZ2VudCxcbiAgICAgICAgICAgICAgICAgICAgL0Nocm9tKGV8aXVtKVxcLyhbMC05XSspXFwuLywgMik7XG4gICAgICAgICAgICAgICAgcmVzdWx0Lm1pblZlcnNpb24gPSAzODtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBFZGdlLlxuICAgICAgICAgICAgaWYgKG5hdmlnYXRvci5tZWRpYURldmljZXMgJiZcbiAgICAgICAgICAgICAgICBuYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC9FZGdlXFwvKFxcZCspLihcXGQrKSQvKSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZXN1bHQuYnJvd3NlciA9ICdlZGdlJztcbiAgICAgICAgICAgICAgICByZXN1bHQudmVyc2lvbiA9IHRoaXMuZXh0cmFjdFZlcnNpb24obmF2aWdhdG9yLnVzZXJBZ2VudCxcbiAgICAgICAgICAgICAgICAgICAgL0VkZ2VcXC8oXFxkKykuKFxcZCspJC8sIDIpO1xuICAgICAgICAgICAgICAgIHJlc3VsdC5taW5WZXJzaW9uID0gMTA1NDc7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIE5vbiBzdXBwb3J0ZWQgYnJvd3NlciBkZWZhdWx0LlxuICAgICAgICAgICAgcmVzdWx0LmJyb3dzZXIgPSAnTm90IGEgc3VwcG9ydGVkIGJyb3dzZXIuJztcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEV4dHJhY3QgYnJvd3NlciB2ZXJzaW9uIG91dCBvZiB0aGUgcHJvdmlkZWQgdXNlciBhZ2VudCBzdHJpbmcuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBwYXJhbSB7IXN0cmluZ30gdWFzdHJpbmcgLSB1c2VyQWdlbnQgc3RyaW5nLlxuICAgICAgICAgKiBAcGFyYW0geyFzdHJpbmd9IGV4cHIgLSBSZWd1bGFyIGV4cHJlc3Npb24gdXNlZCBhcyBtYXRjaCBjcml0ZXJpYS5cbiAgICAgICAgICogQHBhcmFtIHshbnVtYmVyfSBwb3MgLSBwb3NpdGlvbiBpbiB0aGUgdmVyc2lvbiBzdHJpbmcgdG8gYmVcbiAgICAgICAgICogICAgIHJldHVybmVkLlxuICAgICAgICAgKiBAcmV0dXJuIHshbnVtYmVyfSBicm93c2VyIHZlcnNpb24uXG4gICAgICAgICAqL1xuICAgICAgICBleHRyYWN0VmVyc2lvbjogZnVuY3Rpb24odWFzdHJpbmcsIGV4cHIsIHBvcylcbiAgICAgICAge1xuICAgICAgICAgICAgdmFyIG1hdGNoID0gdWFzdHJpbmcubWF0Y2goZXhwcik7XG4gICAgICAgICAgICByZXR1cm4gbWF0Y2ggJiYgbWF0Y2gubGVuZ3RoID49IHBvcyAmJiBwYXJzZUludChtYXRjaFtwb3NdLCAxMCk7XG4gICAgICAgIH0sXG4gICAgICAgIGlzRWRnZTogZnVuY3Rpb24oKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5kZXRlY3RCcm93c2VyKCkuYnJvd3NlciA9PT0gJ2VkZ2UnO1xuICAgICAgICB9LFxuICAgICAgICBpc09wZXJhOiBmdW5jdGlvbigpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiAhIXdpbmRvdy5vcGVyYSB8fCBuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoJ09QUi8nKSAhPT0gLTE7XG4gICAgICAgIH0sXG4gICAgICAgIGlzQ2hyb21lOiBmdW5jdGlvbigpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmRldGVjdEJyb3dzZXIoKS5icm93c2VyID09PSAnY2hyb21lJztcbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogUmVtb3ZlIGFueSB0ZW1wb3JhcnkgZGF0YSBhbmQgcmVmZXJlbmNlcyB0byBzdHJlYW1zLlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgZGlzcG9zZTogZnVuY3Rpb24oKVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyByZW1vdmUgcHJldmlvdXMgcmVjb3JkaW5nXG4gICAgICAgICAgICBpZiAodGhpcy5tZWRpYVVSTCAhPT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIFVSTC5yZXZva2VPYmplY3RVUkwodGhpcy5tZWRpYVVSTCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFkZCBmaWxlbmFtZSBhbmQgdGltZXN0YW1wIHRvIHJlY29yZGVkIGZpbGUgb2JqZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcGFyYW0geyhibG9ifGZpbGUpfSBmaWxlT2JqIC0gQmxvYiBvZiBGaWxlIG9iamVjdC5cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIGFkZEZpbGVJbmZvOiBmdW5jdGlvbihmaWxlT2JqKVxuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgbm93ID0gbmV3IERhdGUoKTtcbiAgICAgICAgICAgIGZpbGVPYmoubGFzdE1vZGlmaWVkRGF0ZSA9IG5vdztcblxuICAgICAgICAgICAgLy8gZ3Vlc3MgZXh0ZW5zaW9uIG5hbWUgZnJvbSBtaW1lIHR5cGUsIGUuZy4gYXVkaW8vb2dnLCBidXRcbiAgICAgICAgICAgIC8vIGFueSBleHRlbnNpb24gaXMgdmFsaWQgaGVyZS4gQ2hyb21lIGFsc28gYWNjZXB0cyBleHRlbmRlZFxuICAgICAgICAgICAgLy8gbWltZSB0eXBlcyBsaWtlIHZpZGVvL3dlYm07Y29kZWNzPWgyNjQsdnA5LG9wdXNcbiAgICAgICAgICAgIHZhciBmaWxlRXh0ZW5zaW9uID0gJy4nICsgZmlsZU9iai50eXBlLnNwbGl0KCcvJylbMV07XG4gICAgICAgICAgICBpZiAoZmlsZUV4dGVuc2lvbi5pbmRleE9mKCc7JykgPiAtMSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBmaWxlRXh0ZW5zaW9uID0gZmlsZUV4dGVuc2lvbi5zcGxpdCgnOycpWzBdO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyB1c2UgdGltZXN0YW1wIGluIGZpbGVuYW1lLCBlLmcuIDE0NTExODA5NDEzMjYub2dnXG4gICAgICAgICAgICBmaWxlT2JqLm5hbWUgPSBub3cuZ2V0VGltZSgpICsgZmlsZUV4dGVuc2lvbjtcbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogSW52b2tlZCB3aGVuIHJlY29yZGluZyBpcyBzdG9wcGVkIGFuZCByZXN1bHRpbmcgc3RyZWFtIGlzIGF2YWlsYWJsZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQHBhcmFtIHtibG9ifSBkYXRhIC0gUmVmZXJlbmNlIHRvIHRoZSByZWNvcmRlZCBCbG9iLlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgb25TdG9wUmVjb3JkaW5nOiBmdW5jdGlvbihkYXRhKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnJlY29yZGVkRGF0YSA9IGRhdGE7XG5cbiAgICAgICAgICAgIHRoaXMuYWRkRmlsZUluZm8odGhpcy5yZWNvcmRlZERhdGEpO1xuXG4gICAgICAgICAgICAvLyBzdG9yZSByZWZlcmVuY2UgdG8gcmVjb3JkZWQgc3RyZWFtIFVSTFxuICAgICAgICAgICAgdGhpcy5kaXNwb3NlKCk7XG4gICAgICAgICAgICB0aGlzLm1lZGlhVVJMID0gVVJMLmNyZWF0ZU9iamVjdFVSTCh0aGlzLnJlY29yZGVkRGF0YSk7XG5cbiAgICAgICAgICAgIC8vIG5vdGlmeSBsaXN0ZW5lcnNcbiAgICAgICAgICAgIHRoaXMudHJpZ2dlcigncmVjb3JkQ29tcGxldGUnKTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogRW5naW5lIGZvciB0aGUgUmVjb3JkUlRDIGxpYnJhcnkuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBjbGFzc1xuICAgICAqIEBhdWdtZW50cyB2aWRlb2pzLlJlY29yZEJhc2VcbiAgICAgKi9cbiAgICB2aWRlb2pzLlJlY29yZFJUQ0VuZ2luZSA9IHZpZGVvanMuZXh0ZW5kKHZpZGVvanMuUmVjb3JkQmFzZSxcbiAgICB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZXR1cCByZWNvcmRpbmcgZW5naW5lLlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgc2V0dXA6IGZ1bmN0aW9uKHN0cmVhbSwgbWVkaWFUeXBlLCBkZWJ1ZylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5pbnB1dFN0cmVhbSA9IHN0cmVhbTtcbiAgICAgICAgICAgIHRoaXMubWVkaWFUeXBlID0gbWVkaWFUeXBlO1xuICAgICAgICAgICAgdGhpcy5kZWJ1ZyA9IGRlYnVnO1xuXG4gICAgICAgICAgICAvLyBzZXR1cCBSZWNvcmRSVENcbiAgICAgICAgICAgIHRoaXMuZW5naW5lID0gbmV3IE1SZWNvcmRSVEMoKTtcbiAgICAgICAgICAgIHRoaXMuZW5naW5lLm1lZGlhVHlwZSA9IHRoaXMubWVkaWFUeXBlO1xuICAgICAgICAgICAgdGhpcy5lbmdpbmUuZGlzYWJsZUxvZ3MgPSAhdGhpcy5kZWJ1ZztcbiAgICAgICAgICAgIHRoaXMuZW5naW5lLm1pbWVUeXBlID0gdGhpcy5taW1lVHlwZTtcblxuICAgICAgICAgICAgLy8gYXVkaW8gc2V0dGluZ3NcbiAgICAgICAgICAgIHRoaXMuZW5naW5lLmJ1ZmZlclNpemUgPSB0aGlzLmJ1ZmZlclNpemU7XG4gICAgICAgICAgICB0aGlzLmVuZ2luZS5zYW1wbGVSYXRlID0gdGhpcy5zYW1wbGVSYXRlO1xuICAgICAgICAgICAgdGhpcy5lbmdpbmUubnVtYmVyT2ZBdWRpb0NoYW5uZWxzID0gdGhpcy5hdWRpb0NoYW5uZWxzO1xuXG4gICAgICAgICAgICAvLyB2aWRlby9jYW52YXMgc2V0dGluZ3NcbiAgICAgICAgICAgIHRoaXMuZW5naW5lLnZpZGVvID0gdGhpcy52aWRlbztcbiAgICAgICAgICAgIHRoaXMuZW5naW5lLmNhbnZhcyA9IHRoaXMuY2FudmFzO1xuXG4gICAgICAgICAgICAvLyBhbmltYXRlZCBnaWYgc2V0dGluZ3NcbiAgICAgICAgICAgIHRoaXMuZW5naW5lLnF1YWxpdHkgPSB0aGlzLnF1YWxpdHk7XG4gICAgICAgICAgICB0aGlzLmVuZ2luZS5mcmFtZVJhdGUgPSB0aGlzLmZyYW1lUmF0ZTtcblxuICAgICAgICAgICAgLy8gY29ubmVjdCBzdHJlYW0gdG8gcmVjb3JkaW5nIGVuZ2luZVxuICAgICAgICAgICAgdGhpcy5lbmdpbmUuYWRkU3RyZWFtKHRoaXMuaW5wdXRTdHJlYW0pO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTdGFydCByZWNvcmRpbmcuXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBzdGFydDogZnVuY3Rpb24oKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmVuZ2luZS5zdGFydFJlY29yZGluZygpO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTdG9wIHJlY29yZGluZy4gUmVzdWx0IHdpbGwgYmUgYXZhaWxhYmxlIGFzeW5jIHdoZW4gb25TdG9wUmVjb3JkaW5nXG4gICAgICAgICAqIGlzIGNhbGxlZC5cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHN0b3A6IGZ1bmN0aW9uKClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5lbmdpbmUuc3RvcFJlY29yZGluZyh0aGlzLm9uU3RvcFJlY29yZGluZy5iaW5kKHRoaXMpKTtcbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogSW52b2tlZCB3aGVuIHJlY29yZGluZyBpcyBzdG9wcGVkIGFuZCByZXN1bHRpbmcgc3RyZWFtIGlzIGF2YWlsYWJsZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGF1ZGlvVmlkZW9VUkwgLSBSZWZlcmVuY2UgdG8gdGhlIHJlY29yZGVkIEJsb2JcbiAgICAgICAgICogICAgIG9iamVjdCwgZS5nLiAnYmxvYjpodHRwOi8vbG9jYWxob3N0OjgwODAvMTAxMDAwMTYtNDI0OC05OTQ5LWIwZDYtMGJiNDBkYjU2ZWJhJ1xuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gdHlwZSAtIE1lZGlhIHR5cGUsIGVnLiAndmlkZW8nIG9yICdhdWRpbycuXG4gICAgICAgICAqL1xuICAgICAgICBvblN0b3BSZWNvcmRpbmc6IGZ1bmN0aW9uKGF1ZGlvVmlkZW9VUkwsIHR5cGUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIHN0b3JlIHJlZmVyZW5jZSB0byByZWNvcmRlZCBzdHJlYW0gVVJMXG4gICAgICAgICAgICB0aGlzLm1lZGlhVVJMID0gYXVkaW9WaWRlb1VSTDtcblxuICAgICAgICAgICAgLy8gc3RvcmUgcmVmZXJlbmNlIHRvIHJlY29yZGVkIHN0cmVhbSBkYXRhXG4gICAgICAgICAgICB2YXIgcmVjb3JkVHlwZSA9IHRoaXMucGxheWVyKCkucmVjb3JkZXIuZ2V0UmVjb3JkVHlwZSgpO1xuICAgICAgICAgICAgdGhpcy5lbmdpbmUuZ2V0QmxvYihmdW5jdGlvbihyZWNvcmRpbmcpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChyZWNvcmRUeXBlKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSB0aGlzLkFVRElPX09OTFk6XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlY29yZGVkRGF0YSA9IHJlY29yZGluZy5hdWRpbztcblxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGRGaWxlSW5mbyh0aGlzLnJlY29yZGVkRGF0YSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIG5vdGlmeSBsaXN0ZW5lcnNcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudHJpZ2dlcigncmVjb3JkQ29tcGxldGUnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgdGhpcy5WSURFT19PTkxZOlxuICAgICAgICAgICAgICAgICAgICBjYXNlIHRoaXMuQVVESU9fVklERU86XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB3aGVuIHJlY29yZGluZyBib3RoIGF1ZGlvIGFuZCB2aWRlbywgcmVjb3JkcnRjXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBjYWxscyB0aGlzIHR3aWNlIG9uIGNocm9tZSwgZmlyc3Qgd2l0aCBhdWRpbyBkYXRhXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBhbmQgdGhlbiB3aXRoIHZpZGVvIGRhdGEuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBvbiBmaXJlZm94IGl0J3MgY2FsbGVkIG9uY2UgYnV0IHdpdGggYSBzaW5nbGVcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGJsb2IgdGhhdCBpbmNsdWRlcyBib3RoIGF1ZGlvIGFuZCB2aWRlbyBkYXRhLlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlY29yZGluZy52aWRlbyAhPT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGRhdGEgaXMgdmlkZW8tb25seSBidXQgb24gZmlyZWZveCBhdWRpbyt2aWRlb1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVjb3JkZWREYXRhID0gcmVjb3JkaW5nLnZpZGVvO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gb24gdGhlIGNocm9tZSBicm93c2VyIHR3byBibG9icyBhcmUgY3JlYXRlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNvbnRhaW5pbmcgdGhlIHNlcGFyYXRlIGF1ZGlvL3ZpZGVvIHN0cmVhbXMuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlY29yZFR5cGUgPT09IHRoaXMuQVVESU9fVklERU8gJiYgdGhpcy5pc0Nocm9tZSgpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gc3RvcmUgYm90aCBhdWRpbyBhbmQgdmlkZW9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWNvcmRlZERhdGEgPSByZWNvcmRpbmc7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgbXR5cGUgaW4gdGhpcy5yZWNvcmRlZERhdGEpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkRmlsZUluZm8odGhpcy5yZWNvcmRlZERhdGFbbXR5cGVdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFkZEZpbGVJbmZvKHRoaXMucmVjb3JkZWREYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBub3RpZnkgbGlzdGVuZXJzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50cmlnZ2VyKCdyZWNvcmRDb21wbGV0ZScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICAgICAgY2FzZSB0aGlzLkFOSU1BVElPTjpcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVjb3JkZWREYXRhID0gcmVjb3JkaW5nLmdpZjtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGRGaWxlSW5mbyh0aGlzLnJlY29yZGVkRGF0YSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIG5vdGlmeSBsaXN0ZW5lcnNcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudHJpZ2dlcigncmVjb3JkQ29tcGxldGUnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0uYmluZCh0aGlzKSk7XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFJlY29yZCBhdWRpby92aWRlby9pbWFnZXMgdXNpbmcgdGhlIFZpZGVvLmpzIHBsYXllci5cbiAgICAgKlxuICAgICAqIEBjbGFzc1xuICAgICAqIEBhdWdtZW50cyB2aWRlb2pzLlJlY29yZEJhc2VcbiAgICAgKi9cbiAgICB2aWRlb2pzLlJlY29yZGVyID0gdmlkZW9qcy5leHRlbmQodmlkZW9qcy5SZWNvcmRCYXNlLFxuICAgIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBjb25zdHJ1Y3RvciBmdW5jdGlvbiBmb3IgdGhlIGNsYXNzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcGFyYW0geyh2aWRlb2pzLlBsYXllcnxPYmplY3QpfSBwbGF5ZXJcbiAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgLSBQbGF5ZXIgb3B0aW9ucy5cbiAgICAgICAgICovXG4gICAgICAgIGNvbnN0cnVjdG9yOiBmdW5jdGlvbihwbGF5ZXIsIG9wdGlvbnMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIHJ1biBiYXNlIGNvbXBvbmVudCBpbml0aWFsaXppbmcgd2l0aCBuZXcgb3B0aW9ucy5cbiAgICAgICAgICAgIFZqc0NvbXBvbmVudC5jYWxsKHRoaXMsIHBsYXllciwgb3B0aW9ucyk7XG5cbiAgICAgICAgICAgIC8vIHNldHVwIHBsdWdpbiBvcHRpb25zXG4gICAgICAgICAgICB0aGlzLmxvYWRPcHRpb25zKCk7XG5cbiAgICAgICAgICAgIC8vIChyZSlzZXQgcmVjb3JkZXIgc3RhdGVcbiAgICAgICAgICAgIHRoaXMucmVzZXRTdGF0ZSgpO1xuXG4gICAgICAgICAgICAvLyBjcm9zcy1icm93c2VyIGdldFVzZXJNZWRpYVxuICAgICAgICAgICAgdmFyIHByb21pc2lmaWVkT2xkR1VNID0gZnVuY3Rpb24oY29uc3RyYWludHMsIHN1Y2Nlc3NDYWxsYmFjaywgZXJyb3JDYWxsYmFjaylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAvLyBnZXQgYWhvbGQgb2YgZ2V0VXNlck1lZGlhLCBpZiBwcmVzZW50XG4gICAgICAgICAgICAgICAgdmFyIGdldFVzZXJNZWRpYSA9IChuYXZpZ2F0b3IuZ2V0VXNlck1lZGlhIHx8XG4gICAgICAgICAgICAgICAgICAgIG5hdmlnYXRvci53ZWJraXRHZXRVc2VyTWVkaWEgfHxcbiAgICAgICAgICAgICAgICAgICAgbmF2aWdhdG9yLm1vekdldFVzZXJNZWRpYSB8fFxuICAgICAgICAgICAgICAgICAgICBuYXZpZ2F0b3IubXNHZXRVc2VyTWVkaWEpO1xuICAgICAgICAgICAgICAgIC8vIFNvbWUgYnJvd3NlcnMganVzdCBkb24ndCBpbXBsZW1lbnQgaXQgLSByZXR1cm4gYSByZWplY3RlZFxuICAgICAgICAgICAgICAgIC8vIHByb21pc2Ugd2l0aCBhbiBlcnJvciB0byBrZWVwIGEgY29uc2lzdGVudCBpbnRlcmZhY2VcbiAgICAgICAgICAgICAgICBpZiAoIWdldFVzZXJNZWRpYSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBFcnJvcignZ2V0VXNlck1lZGlhIGlzIG5vdCBpbXBsZW1lbnRlZCBpbiB0aGlzIGJyb3dzZXInKVxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBvdGhlcndpc2UsIHdyYXAgdGhlIGNhbGwgdG8gdGhlIG9sZCBuYXZpZ2F0b3IuZ2V0VXNlck1lZGlhIHdpdGhcbiAgICAgICAgICAgICAgICAvLyBhIFByb21pc2VcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24oc3VjY2Vzc0NhbGxiYWNrLCBlcnJvckNhbGxiYWNrKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgZ2V0VXNlck1lZGlhLmNhbGwobmF2aWdhdG9yLCBjb25zdHJhaW50cywgc3VjY2Vzc0NhbGxiYWNrLFxuICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3JDYWxsYmFjayk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgLy8gT2xkZXIgYnJvd3NlcnMgbWlnaHQgbm90IGltcGxlbWVudCBtZWRpYURldmljZXMgYXQgYWxsLCBzbyB3ZSBzZXQgYW5cbiAgICAgICAgICAgIC8vIGVtcHR5IG9iamVjdCBmaXJzdFxuICAgICAgICAgICAgaWYgKG5hdmlnYXRvci5tZWRpYURldmljZXMgPT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzID0ge307XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBTb21lIGJyb3dzZXJzIHBhcnRpYWxseSBpbXBsZW1lbnQgbWVkaWFEZXZpY2VzLiBXZSBjYW4ndCBqdXN0IGFzc2lnblxuICAgICAgICAgICAgLy8gYW4gb2JqZWN0IHdpdGggZ2V0VXNlck1lZGlhIGFzIGl0IHdvdWxkIG92ZXJ3cml0ZSBleGlzdGluZ1xuICAgICAgICAgICAgLy8gcHJvcGVydGllcy4gSGVyZSwgd2Ugd2lsbCBqdXN0IGFkZCB0aGUgZ2V0VXNlck1lZGlhIHByb3BlcnR5IGlmIGl0J3NcbiAgICAgICAgICAgIC8vIG1pc3NpbmcuXG4gICAgICAgICAgICBpZiAobmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEgPT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYSA9IHByb21pc2lmaWVkT2xkR1VNO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyB3YWl0IHVudGlsIHBsYXllciB1aSBpcyByZWFkeVxuICAgICAgICAgICAgdGhpcy5wbGF5ZXIoKS5vbmUoJ3JlYWR5JywgdGhpcy5zZXR1cFVJLmJpbmQodGhpcykpO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZXR1cCBwbHVnaW4gb3B0aW9ucy5cbiAgICAgICAgICovXG4gICAgICAgIGxvYWRPcHRpb25zOiBmdW5jdGlvbigpXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIHJlY29yZCBzZXR0aW5nc1xuICAgICAgICAgICAgdGhpcy5yZWNvcmRJbWFnZSA9IHRoaXMub3B0aW9uc18ub3B0aW9ucy5pbWFnZTtcbiAgICAgICAgICAgIHRoaXMucmVjb3JkQXVkaW8gPSB0aGlzLm9wdGlvbnNfLm9wdGlvbnMuYXVkaW87XG4gICAgICAgICAgICB0aGlzLnJlY29yZFZpZGVvID0gdGhpcy5vcHRpb25zXy5vcHRpb25zLnZpZGVvO1xuICAgICAgICAgICAgdGhpcy5yZWNvcmRBbmltYXRpb24gPSB0aGlzLm9wdGlvbnNfLm9wdGlvbnMuYW5pbWF0aW9uO1xuICAgICAgICAgICAgdGhpcy5tYXhMZW5ndGggPSB0aGlzLm9wdGlvbnNfLm9wdGlvbnMubWF4TGVuZ3RoO1xuICAgICAgICAgICAgdGhpcy5kZWJ1ZyA9IHRoaXMub3B0aW9uc18ub3B0aW9ucy5kZWJ1ZztcblxuICAgICAgICAgICAgLy8gdmlkZW8vY2FudmFzIHNldHRpbmdzXG4gICAgICAgICAgICB0aGlzLnZpZGVvRnJhbWVXaWR0aCA9IHRoaXMub3B0aW9uc18ub3B0aW9ucy5mcmFtZVdpZHRoO1xuICAgICAgICAgICAgdGhpcy52aWRlb0ZyYW1lSGVpZ2h0ID0gdGhpcy5vcHRpb25zXy5vcHRpb25zLmZyYW1lSGVpZ2h0O1xuICAgICAgICAgICAgdGhpcy52aWRlb1JlY29yZGVyVHlwZSA9IHRoaXMub3B0aW9uc18ub3B0aW9ucy52aWRlb1JlY29yZGVyVHlwZTtcbiAgICAgICAgICAgIHRoaXMudmlkZW9NaW1lVHlwZSA9IHRoaXMub3B0aW9uc18ub3B0aW9ucy52aWRlb01pbWVUeXBlO1xuXG4gICAgICAgICAgICAvLyBhdWRpbyBzZXR0aW5nc1xuICAgICAgICAgICAgdGhpcy5hdWRpb0VuZ2luZSA9IHRoaXMub3B0aW9uc18ub3B0aW9ucy5hdWRpb0VuZ2luZTtcbiAgICAgICAgICAgIHRoaXMuYXVkaW9SZWNvcmRlclR5cGUgPSB0aGlzLm9wdGlvbnNfLm9wdGlvbnMuYXVkaW9SZWNvcmRlclR5cGU7XG4gICAgICAgICAgICB0aGlzLmF1ZGlvV29ya2VyVVJMID0gdGhpcy5vcHRpb25zXy5vcHRpb25zLmF1ZGlvV29ya2VyVVJMO1xuICAgICAgICAgICAgdGhpcy5hdWRpb0J1ZmZlclNpemUgPSB0aGlzLm9wdGlvbnNfLm9wdGlvbnMuYXVkaW9CdWZmZXJTaXplO1xuICAgICAgICAgICAgdGhpcy5hdWRpb1NhbXBsZVJhdGUgPSB0aGlzLm9wdGlvbnNfLm9wdGlvbnMuYXVkaW9TYW1wbGVSYXRlO1xuICAgICAgICAgICAgdGhpcy5hdWRpb0NoYW5uZWxzID0gdGhpcy5vcHRpb25zXy5vcHRpb25zLmF1ZGlvQ2hhbm5lbHM7XG4gICAgICAgICAgICB0aGlzLmF1ZGlvTWltZVR5cGUgPSB0aGlzLm9wdGlvbnNfLm9wdGlvbnMuYXVkaW9NaW1lVHlwZTtcblxuICAgICAgICAgICAgLy8gYW5pbWF0aW9uIHNldHRpbmdzXG4gICAgICAgICAgICB0aGlzLmFuaW1hdGlvbkZyYW1lUmF0ZSA9IHRoaXMub3B0aW9uc18ub3B0aW9ucy5hbmltYXRpb25GcmFtZVJhdGU7XG4gICAgICAgICAgICB0aGlzLmFuaW1hdGlvblF1YWxpdHkgPSB0aGlzLm9wdGlvbnNfLm9wdGlvbnMuYW5pbWF0aW9uUXVhbGl0eTtcbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogUGxheWVyIFVJIGlzIHJlYWR5LlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgc2V0dXBVSTogZnVuY3Rpb24oKVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBpbnNlcnQgY3VzdG9tIGNvbnRyb2xzIG9uIGxlZnQtc2lkZSBvZiBjb250cm9sYmFyXG4gICAgICAgICAgICB0aGlzLnBsYXllcigpLmNvbnRyb2xCYXIuYWRkQ2hpbGQodGhpcy5wbGF5ZXIoKS5jYW1lcmFCdXR0b24pO1xuICAgICAgICAgICAgdGhpcy5wbGF5ZXIoKS5jb250cm9sQmFyLmVsKCkuaW5zZXJ0QmVmb3JlKFxuICAgICAgICAgICAgICAgIHRoaXMucGxheWVyKCkuY2FtZXJhQnV0dG9uLmVsKCksXG4gICAgICAgICAgICAgICAgdGhpcy5wbGF5ZXIoKS5jb250cm9sQmFyLmVsKCkuZmlyc3RDaGlsZCk7XG4gICAgICAgICAgICB0aGlzLnBsYXllcigpLmNvbnRyb2xCYXIuZWwoKS5pbnNlcnRCZWZvcmUoXG4gICAgICAgICAgICAgICAgdGhpcy5wbGF5ZXIoKS5yZWNvcmRUb2dnbGUuZWwoKSxcbiAgICAgICAgICAgICAgICB0aGlzLnBsYXllcigpLmNvbnRyb2xCYXIuZWwoKS5maXJzdENoaWxkKTtcblxuICAgICAgICAgICAgLy8gZ2V0IHJpZCBvZiB1bnVzZWQgY29udHJvbHNcbiAgICAgICAgICAgIGlmICh0aGlzLnBsYXllcigpLmNvbnRyb2xCYXIucmVtYWluaW5nVGltZURpc3BsYXkgIT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLnBsYXllcigpLmNvbnRyb2xCYXIucmVtYWluaW5nVGltZURpc3BsYXkuZWwoKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMucGxheWVyKCkuY29udHJvbEJhci5saXZlRGlzcGxheSAhPT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMucGxheWVyKCkuY29udHJvbEJhci5saXZlRGlzcGxheS5lbCgpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIGxvb3AgZmVhdHVyZSBpcyBub3QgdXNlZCBpbiB0aGlzIHBsdWdpblxuICAgICAgICAgICAgdGhpcy5wbGF5ZXIoKS5sb29wKGZhbHNlKTtcblxuICAgICAgICAgICAgLy8gdHdlYWsgcGxheWVyIFVJIGJhc2VkIG9uIHR5cGVcbiAgICAgICAgICAgIHN3aXRjaCAodGhpcy5nZXRSZWNvcmRUeXBlKCkpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY2FzZSB0aGlzLkFVRElPX09OTFk6XG4gICAgICAgICAgICAgICAgICAgIC8vIHJlZmVyZW5jZSB0byB2aWRlb2pzLXdhdmVzdXJmZXIgcGx1Z2luXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3VyZmVyID0gdGhpcy5wbGF5ZXIoKS53YXZlZm9ybTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuc3VyZmVyKVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBpbml0aWFsbHkgaGlkZSBwbGF5aGVhZCAoZml4ZWQgaW4gd2F2ZXN1cmZlciAxLjAuMjUpXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBsYXloZWFkID0gdGhpcy5zdXJmZXIuZWwoKS5nZXRFbGVtZW50c0J5VGFnTmFtZSgnd2F2ZScpWzFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wbGF5aGVhZC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgY2FzZSB0aGlzLklNQUdFX09OTFk6XG4gICAgICAgICAgICAgICAgY2FzZSB0aGlzLlZJREVPX09OTFk6XG4gICAgICAgICAgICAgICAgY2FzZSB0aGlzLkFVRElPX1ZJREVPOlxuICAgICAgICAgICAgICAgIGNhc2UgdGhpcy5BTklNQVRJT046XG4gICAgICAgICAgICAgICAgICAgIC8vIGN1c3RvbWl6ZSBjb250cm9sc1xuICAgICAgICAgICAgICAgICAgICAvLyBYWFg6IGJlbG93IGFyZSBjdXN0b21pemF0aW9ucyBjb3BpZWQgZnJvbSB2aWRlb2pzLndhdmVzdXJmZXIgdGhhdFxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgIHR3ZWFrIHRoZSB2aWRlby5qcyBVSS4uLlxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBsYXllcigpLmJpZ1BsYXlCdXR0b24uaGlkZSgpO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIGxvYWRlZG1ldGFkYXRhIHJlc2V0cyB0aGUgZHVyYXRpb25EaXNwbGF5IGZvciB0aGVcbiAgICAgICAgICAgICAgICAgICAgLy8gZmlyc3QgdGltZVxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBsYXllcigpLm9uZSgnbG9hZGVkbWV0YWRhdGEnLCBmdW5jdGlvbigpXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGRpc3BsYXkgbWF4IHJlY29yZCB0aW1lXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNldER1cmF0aW9uKHRoaXMubWF4TGVuZ3RoKTtcbiAgICAgICAgICAgICAgICAgICAgfS5iaW5kKHRoaXMpKTtcblxuICAgICAgICAgICAgICAgICAgICAvLyB0aGUgbmF0aXZlIGNvbnRyb2xzIGRvbid0IHdvcmsgZm9yIHRoaXMgVUkgc28gZGlzYWJsZVxuICAgICAgICAgICAgICAgICAgICAvLyB0aGVtIG5vIG1hdHRlciB3aGF0XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnBsYXllcigpLnVzaW5nTmF0aXZlQ29udHJvbHNfID09PSB0cnVlKVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5wbGF5ZXIoKS50ZWNoXy5lbF8gIT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBsYXllcigpLnRlY2hfLmVsXy5jb250cm9scyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMucGxheWVyKCkub3B0aW9uc18uY29udHJvbHMpXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHByb2dyZXNzIGNvbnRyb2wgaXNuJ3QgdXNlZCBieSB0aGlzIHBsdWdpblxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wbGF5ZXIoKS5jb250cm9sQmFyLnByb2dyZXNzQ29udHJvbC5oaWRlKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHByZXZlbnQgY29udHJvbGJhciBmYWRlb3V0XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBsYXllcigpLm9uKCd1c2VyaW5hY3RpdmUnLCBmdW5jdGlvbihldmVudClcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBsYXllcigpLnVzZXJBY3RpdmUodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gdmlkZW9qcyBhdXRvbWF0aWNhbGx5IGhpZGVzIHRoZSBjb250cm9scyB3aGVuIG5vIHZhbGlkICdzb3VyY2UnXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBlbGVtZW50IGlzIGluY2x1ZGVkIGluIHRoZSAnYXVkaW8nIHRhZy4gRG9uJ3QuIEV2ZXIgYWdhaW4uXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBsYXllcigpLmNvbnRyb2xCYXIuc2hvdygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wbGF5ZXIoKS5jb250cm9sQmFyLmVsKCkuc3R5bGUuZGlzcGxheSA9ICdmbGV4JztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gZGlzYWJsZSBjdXJyZW50VGltZURpc3BsYXkncyAndGltZXVwZGF0ZScgZXZlbnQgbGlzdGVuZXIgdGhhdFxuICAgICAgICAgICAgLy8gY29uc3RhbnRseSB0cmllcyB0byByZXNldCB0aGUgY3VycmVudCB0aW1lIHZhbHVlIHRvIDBcbiAgICAgICAgICAgIHRoaXMucGxheWVyKCkub2ZmKCd0aW1ldXBkYXRlJyk7XG5cbiAgICAgICAgICAgIC8vIGRpc3BsYXkgbWF4IHJlY29yZCB0aW1lXG4gICAgICAgICAgICB0aGlzLnNldER1cmF0aW9uKHRoaXMubWF4TGVuZ3RoKTtcblxuICAgICAgICAgICAgLy8gaGlkZSBwbGF5IGNvbnRyb2xcbiAgICAgICAgICAgIHRoaXMucGxheWVyKCkuY29udHJvbEJhci5wbGF5VG9nZ2xlLmhpZGUoKTtcbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogSW5kaWNhdGVzIHdoZXRoZXIgdGhlIHBsdWdpbiBpcyBjdXJyZW50bHkgcmVjb3JkaW5nIG9yIG5vdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQHJldHVybiB7Ym9vbGVhbn0gUGx1Z2luIGN1cnJlbnRseSByZWNvcmRpbmcgb3Igbm90LlxuICAgICAgICAgKi9cbiAgICAgICAgaXNSZWNvcmRpbmc6IGZ1bmN0aW9uKClcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3JlY29yZGluZztcbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogSW5kaWNhdGVzIHdoZXRoZXIgdGhlIHBsdWdpbiBpcyBjdXJyZW50bHkgcHJvY2Vzc2luZyByZWNvcmRlZCBkYXRhXG4gICAgICAgICAqIG9yIG5vdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQHJldHVybiB7Ym9vbGVhbn0gUGx1Z2luIHByb2Nlc3Npbmcgb3Igbm90LlxuICAgICAgICAgKi9cbiAgICAgICAgaXNQcm9jZXNzaW5nOiBmdW5jdGlvbigpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9wcm9jZXNzaW5nO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbmRpY2F0ZXMgd2hldGhlciB0aGUgcGx1Z2luIGlzIGRlc3Ryb3llZCBvciBub3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IFBsdWdpbiBkZXN0cm95ZWQgb3Igbm90LlxuICAgICAgICAgKi9cbiAgICAgICAgaXNEZXN0cm95ZWQ6IGZ1bmN0aW9uKClcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMucGxheWVyKCkgJiYgKHRoaXMucGxheWVyKCkuY2hpbGRyZW4oKSA9PT0gbnVsbCk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIE9wZW4gdGhlIGJyb3dzZXIncyByZWNvcmRpbmcgZGV2aWNlIHNlbGVjdGlvbiBkaWFsb2cuXG4gICAgICAgICAqL1xuICAgICAgICBnZXREZXZpY2U6IGZ1bmN0aW9uKClcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gZGVmaW5lIGRldmljZSBjYWxsYmFja3Mgb25jZVxuICAgICAgICAgICAgaWYgKHRoaXMuZGV2aWNlUmVhZHlDYWxsYmFjayA9PT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuZGV2aWNlUmVhZHlDYWxsYmFjayA9IHRoaXMub25EZXZpY2VSZWFkeS5iaW5kKHRoaXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuZGV2aWNlRXJyb3JDYWxsYmFjayA9PT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuZGV2aWNlRXJyb3JDYWxsYmFjayA9IHRoaXMub25EZXZpY2VFcnJvci5iaW5kKHRoaXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuZW5naW5lU3RvcENhbGxiYWNrID09PSB1bmRlZmluZWQpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5lbmdpbmVTdG9wQ2FsbGJhY2sgPSB0aGlzLm9uUmVjb3JkQ29tcGxldGUuYmluZCh0aGlzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGFzayB0aGUgYnJvd3NlciB0byBnaXZlIHRoZSB1c2VyIGFjY2VzcyB0byB0aGUgbWVkaWEgZGV2aWNlXG4gICAgICAgICAgICAvLyBhbmQgZ2V0IGEgc3RyZWFtIHJlZmVyZW5jZSBpbiB0aGUgY2FsbGJhY2sgZnVuY3Rpb25cbiAgICAgICAgICAgIHN3aXRjaCAodGhpcy5nZXRSZWNvcmRUeXBlKCkpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY2FzZSB0aGlzLkFVRElPX09OTFk6XG4gICAgICAgICAgICAgICAgICAgIC8vIHNldHVwIG1pY3JvcGhvbmVcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tZWRpYVR5cGUgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhdWRpbzogKHRoaXMuYXVkaW9SZWNvcmRlclR5cGUgPT09ICdhdXRvJykgPyB0cnVlIDogdGhpcy5hdWRpb1JlY29yZGVyVHlwZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZpZGVvOiBmYWxzZVxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAvLyByZW1vdmUgZXhpc3RpbmcgbWljcm9waG9uZSBsaXN0ZW5lcnNcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdXJmZXIubWljcm9waG9uZS51bignZGV2aWNlUmVhZHknLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kZXZpY2VSZWFkeUNhbGxiYWNrKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdXJmZXIubWljcm9waG9uZS51bignZGV2aWNlRXJyb3InLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kZXZpY2VFcnJvckNhbGxiYWNrKTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBzZXR1cCBuZXcgbWljcm9waG9uZSBsaXN0ZW5lcnNcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdXJmZXIubWljcm9waG9uZS5vbignZGV2aWNlUmVhZHknLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kZXZpY2VSZWFkeUNhbGxiYWNrKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdXJmZXIubWljcm9waG9uZS5vbignZGV2aWNlRXJyb3InLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kZXZpY2VFcnJvckNhbGxiYWNrKTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBkaXNhYmxlIGV4aXN0aW5nIHBsYXliYWNrIGV2ZW50c1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnN1cmZlci5zZXR1cFBsYXliYWNrRXZlbnRzKGZhbHNlKTtcblxuICAgICAgICAgICAgICAgICAgICAvLyAocmUpc2V0IHN1cmZlciBsaXZlTW9kZVxuICAgICAgICAgICAgICAgICAgICB0aGlzLnN1cmZlci5saXZlTW9kZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3VyZmVyLm1pY3JvcGhvbmUucGF1c2VkID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gb3BlbiBicm93c2VyIGRldmljZSBzZWxlY3Rpb24gZGlhbG9nXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3VyZmVyLm1pY3JvcGhvbmUuc3RhcnQoKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICBjYXNlIHRoaXMuSU1BR0VfT05MWTpcbiAgICAgICAgICAgICAgICBjYXNlIHRoaXMuVklERU9fT05MWTpcbiAgICAgICAgICAgICAgICAgICAgLy8gc2V0dXAgY2FtZXJhXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubWVkaWFUeXBlID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXVkaW86IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmlkZW86ICh0aGlzLnZpZGVvUmVjb3JkZXJUeXBlID09PSAnYXV0bycpID8gdHJ1ZSA6IHRoaXMudmlkZW9SZWNvcmRlclR5cGVcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEoe1xuICAgICAgICAgICAgICAgICAgICAgICAgYXVkaW86IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmlkZW86ICh0aGlzLmdldFJlY29yZFR5cGUoKSA9PT0gdGhpcy5JTUFHRV9PTkxZKSA/IHRoaXMucmVjb3JkSW1hZ2UgOiB0aGlzLnJlY29yZFZpZGVvXG4gICAgICAgICAgICAgICAgICAgIH0pLnRoZW4oXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9uRGV2aWNlUmVhZHkuYmluZCh0aGlzKVxuICAgICAgICAgICAgICAgICAgICApLmNhdGNoKFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vbkRldmljZUVycm9yLmJpbmQodGhpcylcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICBjYXNlIHRoaXMuQVVESU9fVklERU86XG4gICAgICAgICAgICAgICAgICAgIC8vIHNldHVwIGNhbWVyYSBhbmQgbWljcm9waG9uZVxuICAgICAgICAgICAgICAgICAgICB0aGlzLm1lZGlhVHlwZSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGF1ZGlvOiAodGhpcy5hdWRpb1JlY29yZGVyVHlwZSA9PT0gJ2F1dG8nKSA/IHRydWUgOiB0aGlzLmF1ZGlvUmVjb3JkZXJUeXBlLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmlkZW86ICh0aGlzLnZpZGVvUmVjb3JkZXJUeXBlID09PSAnYXV0bycpID8gdHJ1ZSA6IHRoaXMudmlkZW9SZWNvcmRlclR5cGVcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEoe1xuICAgICAgICAgICAgICAgICAgICAgICAgYXVkaW86IHRoaXMucmVjb3JkQXVkaW8sXG4gICAgICAgICAgICAgICAgICAgICAgICB2aWRlbzogdGhpcy5yZWNvcmRWaWRlb1xuICAgICAgICAgICAgICAgICAgICB9KS50aGVuKFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vbkRldmljZVJlYWR5LmJpbmQodGhpcylcbiAgICAgICAgICAgICAgICAgICAgKS5jYXRjaChcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMub25EZXZpY2VFcnJvci5iaW5kKHRoaXMpXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgY2FzZSB0aGlzLkFOSU1BVElPTjpcbiAgICAgICAgICAgICAgICAgICAgLy8gc2V0dXAgY2FtZXJhXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubWVkaWFUeXBlID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gYW5pbWF0ZWQgR0lGXG4gICAgICAgICAgICAgICAgICAgICAgICBhdWRpbzogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICB2aWRlbzogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBnaWY6IHRydWVcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEoe1xuICAgICAgICAgICAgICAgICAgICAgICAgYXVkaW86IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmlkZW86IHRoaXMucmVjb3JkQW5pbWF0aW9uXG4gICAgICAgICAgICAgICAgICAgIH0pLnRoZW4oXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9uRGV2aWNlUmVhZHkuYmluZCh0aGlzKVxuICAgICAgICAgICAgICAgICAgICApLmNhdGNoKFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vbkRldmljZUVycm9yLmJpbmQodGhpcylcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEludm9rZWQgd2hlbiB0aGUgZGV2aWNlIGlzIHJlYWR5LlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAcGFyYW0gc3RyZWFtOiBMb2NhbE1lZGlhU3RyZWFtIGluc3RhbmNlLlxuICAgICAgICAgKi9cbiAgICAgICAgb25EZXZpY2VSZWFkeTogZnVuY3Rpb24oc3RyZWFtKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9kZXZpY2VBY3RpdmUgPSB0cnVlO1xuXG4gICAgICAgICAgICAvLyBzdG9yZSByZWZlcmVuY2UgdG8gc3RyZWFtIGZvciBzdG9wcGluZyBldGMuXG4gICAgICAgICAgICB0aGlzLnN0cmVhbSA9IHN0cmVhbTtcblxuICAgICAgICAgICAgLy8gZm9yd2FyZCB0byBsaXN0ZW5lcnNcbiAgICAgICAgICAgIHRoaXMucGxheWVyKCkudHJpZ2dlcignZGV2aWNlUmVhZHknKTtcblxuICAgICAgICAgICAgLy8gaGlkZSBkZXZpY2Ugc2VsZWN0aW9uIGJ1dHRvblxuICAgICAgICAgICAgdGhpcy5wbGF5ZXIoKS5kZXZpY2VCdXR0b24uaGlkZSgpO1xuXG4gICAgICAgICAgICAvLyByZXNldCB0aW1lIChlLmcuIHdoZW4gc3RvcERldmljZSB3YXMgdXNlZClcbiAgICAgICAgICAgIHRoaXMuc2V0RHVyYXRpb24odGhpcy5tYXhMZW5ndGgpO1xuICAgICAgICAgICAgdGhpcy5zZXRDdXJyZW50VGltZSgwKTtcblxuICAgICAgICAgICAgLy8gaGlkZSBwbGF5L3BhdXNlIGNvbnRyb2wgKGUuZy4gd2hlbiBzdG9wRGV2aWNlIHdhcyB1c2VkKVxuICAgICAgICAgICAgdGhpcy5wbGF5ZXIoKS5jb250cm9sQmFyLnBsYXlUb2dnbGUuaGlkZSgpO1xuXG4gICAgICAgICAgICAvLyByZXNldCBwbGF5YmFjayBsaXN0ZW5lcnNcbiAgICAgICAgICAgIHRoaXMub2ZmKHRoaXMucGxheWVyKCksICd0aW1ldXBkYXRlJywgdGhpcy5wbGF5YmFja1RpbWVVcGRhdGUpO1xuICAgICAgICAgICAgdGhpcy5vZmYodGhpcy5wbGF5ZXIoKSwgJ3BhdXNlJywgdGhpcy5vblBsYXllclBhdXNlKTtcbiAgICAgICAgICAgIHRoaXMub2ZmKHRoaXMucGxheWVyKCksICdwbGF5JywgdGhpcy5vblBsYXllclN0YXJ0KTtcblxuICAgICAgICAgICAgLy8gc2V0dXAgcmVjb3JkaW5nIGVuZ2luZVxuICAgICAgICAgICAgaWYgKHRoaXMuZ2V0UmVjb3JkVHlwZSgpICE9PSB0aGlzLklNQUdFX09OTFkpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgLy8gY3VycmVudGx5IGxpYnZvcmJpcy5qcywgcmVjb3JkZXIuanMsIG9wdXMtcmVjb3JkZXIgYW5kIGxhbWVqc1xuICAgICAgICAgICAgICAgIC8vIGFyZSBvbmx5IHN1cHBvcnRlZCBpbiBhdWRpby1vbmx5IG1vZGVcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5nZXRSZWNvcmRUeXBlKCkgIT09IHRoaXMuQVVESU9fT05MWSAmJlxuICAgICAgICAgICAgICAgICAgICAodGhpcy5hdWRpb0VuZ2luZSA9PT0gdGhpcy5MSUJWT1JCSVNKUyB8fFxuICAgICAgICAgICAgICAgICAgICAgdGhpcy5hdWRpb0VuZ2luZSA9PT0gdGhpcy5SRUNPUkRFUkpTIHx8XG4gICAgICAgICAgICAgICAgICAgICB0aGlzLmF1ZGlvRW5naW5lID09PSB0aGlzLkxBTUVKUyB8fFxuICAgICAgICAgICAgICAgICAgICAgdGhpcy5hdWRpb0VuZ2luZSA9PT0gdGhpcy5PUFVTUkVDT1JERVIpKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDdXJyZW50bHkgJyArIHRoaXMuYXVkaW9FbmdpbmUgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJyBpcyBvbmx5IHN1cHBvcnRlZCBpbiBhdWRpby1vbmx5IG1vZGUuJyk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gZ2V0IHJlY29yZGVyIGNsYXNzXG4gICAgICAgICAgICAgICAgdmFyIEVuZ2luZUNsYXNzO1xuICAgICAgICAgICAgICAgIHN3aXRjaCAodGhpcy5hdWRpb0VuZ2luZSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgdGhpcy5SRUNPUkRSVEM6XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBSZWNvcmRSVEMuanMgKGRlZmF1bHQpXG4gICAgICAgICAgICAgICAgICAgICAgICBFbmdpbmVDbGFzcyA9IHZpZGVvanMuUmVjb3JkUlRDRW5naW5lO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICAgICAgY2FzZSB0aGlzLkxJQlZPUkJJU0pTOlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gbGlidm9yYmlzLmpzXG4gICAgICAgICAgICAgICAgICAgICAgICBFbmdpbmVDbGFzcyA9IHZpZGVvanMuTGliVm9yYmlzRW5naW5lO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICAgICAgY2FzZSB0aGlzLlJFQ09SREVSSlM6XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyByZWNvcmRlci5qc1xuICAgICAgICAgICAgICAgICAgICAgICAgRW5naW5lQ2xhc3MgPSB2aWRlb2pzLlJlY29yZGVyanNFbmdpbmU7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgICAgICBjYXNlIHRoaXMuTEFNRUpTOlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gbGFtZWpzXG4gICAgICAgICAgICAgICAgICAgICAgICBFbmdpbmVDbGFzcyA9IHZpZGVvanMuTGFtZWpzRW5naW5lO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICAgICAgY2FzZSB0aGlzLk9QVVNSRUNPUkRFUjpcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIG9wdXMtcmVjb3JkZXJcbiAgICAgICAgICAgICAgICAgICAgICAgIEVuZ2luZUNsYXNzID0gdmlkZW9qcy5PcHVzUmVjb3JkZXJFbmdpbmU7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gdW5rbm93biBlbmdpbmVcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVW5rbm93biBhdWRpb0VuZ2luZTogJyArIHRoaXMuYXVkaW9FbmdpbmUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0cnlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGNvbm5lY3Qgc3RyZWFtIHRvIHJlY29yZGluZyBlbmdpbmVcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lbmdpbmUgPSBuZXcgRW5naW5lQ2xhc3ModGhpcy5wbGF5ZXIoKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlcnIpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NvdWxkIG5vdCBsb2FkICcgKyB0aGlzLmF1ZGlvRW5naW5lICtcbiAgICAgICAgICAgICAgICAgICAgICAgICcgcGx1Z2luJyk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gbGlzdGVuIGZvciBldmVudHNcbiAgICAgICAgICAgICAgICB0aGlzLmVuZ2luZS5vbigncmVjb3JkQ29tcGxldGUnLCB0aGlzLmVuZ2luZVN0b3BDYWxsYmFjayk7XG5cbiAgICAgICAgICAgICAgICAvLyBhdWRpbyBzZXR0aW5nc1xuICAgICAgICAgICAgICAgIHRoaXMuZW5naW5lLmJ1ZmZlclNpemUgPSB0aGlzLmF1ZGlvQnVmZmVyU2l6ZTtcbiAgICAgICAgICAgICAgICB0aGlzLmVuZ2luZS5zYW1wbGVSYXRlID0gdGhpcy5hdWRpb1NhbXBsZVJhdGU7XG4gICAgICAgICAgICAgICAgdGhpcy5lbmdpbmUuYXVkaW9DaGFubmVscyA9IHRoaXMuYXVkaW9DaGFubmVscztcbiAgICAgICAgICAgICAgICB0aGlzLmVuZ2luZS5hdWRpb1dvcmtlclVSTCA9IHRoaXMuYXVkaW9Xb3JrZXJVUkw7XG5cbiAgICAgICAgICAgICAgICAvLyBtaW1lIHR5cGVcbiAgICAgICAgICAgICAgICB0aGlzLmVuZ2luZS5taW1lVHlwZSA9IHtcbiAgICAgICAgICAgICAgICAgICAgdmlkZW86IHRoaXMudmlkZW9NaW1lVHlwZSxcbiAgICAgICAgICAgICAgICAgICAgZ2lmOiAnaW1hZ2UvZ2lmJ1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuYXVkaW9NaW1lVHlwZSAhPT0gbnVsbCAmJlxuICAgICAgICAgICAgICAgICAgICB0aGlzLmF1ZGlvTWltZVR5cGUgIT09ICdhdXRvJylcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZW5naW5lLm1pbWVUeXBlLmF1ZGlvID0gdGhpcy5hdWRpb01pbWVUeXBlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIHZpZGVvL2NhbnZhcyBzZXR0aW5nc1xuICAgICAgICAgICAgICAgIHRoaXMuZW5naW5lLnZpZGVvID0ge1xuICAgICAgICAgICAgICAgICAgICB3aWR0aDogdGhpcy52aWRlb0ZyYW1lV2lkdGgsXG4gICAgICAgICAgICAgICAgICAgIGhlaWdodDogdGhpcy52aWRlb0ZyYW1lSGVpZ2h0XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB0aGlzLmVuZ2luZS5jYW52YXMgPSB7XG4gICAgICAgICAgICAgICAgICAgIHdpZHRoOiB0aGlzLnZpZGVvRnJhbWVXaWR0aCxcbiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiB0aGlzLnZpZGVvRnJhbWVIZWlnaHRcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgLy8gYW5pbWF0ZWQgR0lGIHNldHRpbmdzXG4gICAgICAgICAgICAgICAgdGhpcy5lbmdpbmUucXVhbGl0eSA9IHRoaXMuYW5pbWF0aW9uUXVhbGl0eTtcbiAgICAgICAgICAgICAgICB0aGlzLmVuZ2luZS5mcmFtZVJhdGUgPSB0aGlzLmFuaW1hdGlvbkZyYW1lUmF0ZTtcblxuICAgICAgICAgICAgICAgIC8vIGluaXRpYWxpemUgcmVjb3JkZXJcbiAgICAgICAgICAgICAgICB0aGlzLmVuZ2luZS5zZXR1cCh0aGlzLnN0cmVhbSwgdGhpcy5tZWRpYVR5cGUsIHRoaXMuZGVidWcpO1xuXG4gICAgICAgICAgICAgICAgLy8gc2hvdyBlbGVtZW50cyB0aGF0IHNob3VsZCBuZXZlciBiZSBoaWRkZW4gaW4gYW5pbWF0aW9uLFxuICAgICAgICAgICAgICAgIC8vIGF1ZGlvIGFuZC9vciB2aWRlbyBtb2R1c1xuICAgICAgICAgICAgICAgIHZhciBlbGVtZW50O1xuICAgICAgICAgICAgICAgIHZhciB1aUVsZW1lbnRzID0gW3RoaXMucGxheWVyKCkuY29udHJvbEJhci5jdXJyZW50VGltZURpc3BsYXksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wbGF5ZXIoKS5jb250cm9sQmFyLnRpbWVEaXZpZGVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGxheWVyKCkuY29udHJvbEJhci5kdXJhdGlvbkRpc3BsYXldO1xuICAgICAgICAgICAgICAgIGZvciAoZWxlbWVudCBpbiB1aUVsZW1lbnRzKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdWlFbGVtZW50c1tlbGVtZW50XS5lbCgpLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuICAgICAgICAgICAgICAgICAgICB1aUVsZW1lbnRzW2VsZW1lbnRdLnNob3coKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBzaG93IHJlY29yZCBidXR0b25cbiAgICAgICAgICAgICAgICB0aGlzLnBsYXllcigpLnJlY29yZFRvZ2dsZS5zaG93KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgLy8gZGlzYWJsZSByZWNvcmQgaW5kaWNhdG9yXG4gICAgICAgICAgICAgICAgdGhpcy5wbGF5ZXIoKS5yZWNvcmRJbmRpY2F0b3IuZGlzYWJsZSgpO1xuXG4gICAgICAgICAgICAgICAgLy8gc2V0dXAgVUkgZm9yIHJldHJ5aW5nIHNuYXBzaG90IChlLmcuIHdoZW4gc3RvcERldmljZSB3YXNcbiAgICAgICAgICAgICAgICAvLyB1c2VkKVxuICAgICAgICAgICAgICAgIHRoaXMucmV0cnlTbmFwc2hvdCgpO1xuXG4gICAgICAgICAgICAgICAgLy8gcmVzZXQgYW5kIHNob3cgY2FtZXJhIGJ1dHRvblxuICAgICAgICAgICAgICAgIHRoaXMucGxheWVyKCkuY2FtZXJhQnV0dG9uLm9uU3RvcCgpO1xuICAgICAgICAgICAgICAgIHRoaXMucGxheWVyKCkuY2FtZXJhQnV0dG9uLnNob3coKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gc2V0dXAgcHJldmlld1xuICAgICAgICAgICAgaWYgKHRoaXMuZ2V0UmVjb3JkVHlwZSgpICE9PSB0aGlzLkFVRElPX09OTFkpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgLy8gc2hvdyBsaXZlIHByZXZpZXdcbiAgICAgICAgICAgICAgICB0aGlzLm1lZGlhRWxlbWVudCA9IHRoaXMucGxheWVyKCkuZWwoKS5maXJzdENoaWxkO1xuICAgICAgICAgICAgICAgIHRoaXMubWVkaWFFbGVtZW50LmNvbnRyb2xzID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAvLyBtdXRlIGluY29taW5nIGF1ZGlvIGZvciBmZWVkYmFjayBsb29wc1xuICAgICAgICAgICAgICAgIHRoaXMubWVkaWFFbGVtZW50Lm11dGVkID0gdHJ1ZTtcblxuICAgICAgICAgICAgICAgIC8vIGhpZGUgdGhlIHZvbHVtZSBiYXIgd2hpbGUgaXQncyBtdXRlZFxuICAgICAgICAgICAgICAgIHRoaXMuZGlzcGxheVZvbHVtZUNvbnRyb2woZmFsc2UpO1xuXG4gICAgICAgICAgICAgICAgLy8gc3RhcnQgc3RyZWFtXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc3RyZWFtVVJMICE9PSB1bmRlZmluZWQpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBVUkwucmV2b2tlT2JqZWN0VVJMKHRoaXMuc3RyZWFtVVJMKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5zdHJlYW1VUkwgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKHRoaXMuc3RyZWFtKTtcbiAgICAgICAgICAgICAgICB0aGlzLmxvYWQodGhpcy5zdHJlYW1VUkwpO1xuICAgICAgICAgICAgICAgIHRoaXMubWVkaWFFbGVtZW50LnBsYXkoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogSW52b2tlZCB3aGVuIGFuIGRldmljZSBlcnJvciBvY2N1cnJlZC5cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIG9uRGV2aWNlRXJyb3I6IGZ1bmN0aW9uKGNvZGUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX2RldmljZUFjdGl2ZSA9IGZhbHNlO1xuXG4gICAgICAgICAgICAvLyBzdG9yZSBjb2RlXG4gICAgICAgICAgICB0aGlzLnBsYXllcigpLmRldmljZUVycm9yQ29kZSA9IGNvZGU7XG5cbiAgICAgICAgICAgIC8vIGZvcndhcmQgZXJyb3IgdG8gcGxheWVyXG4gICAgICAgICAgICB0aGlzLnBsYXllcigpLnRyaWdnZXIoJ2RldmljZUVycm9yJyk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFN0YXJ0IHJlY29yZGluZy5cbiAgICAgICAgICovXG4gICAgICAgIHN0YXJ0OiBmdW5jdGlvbigpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5pc1Byb2Nlc3NpbmcoKSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9yZWNvcmRpbmcgPSB0cnVlO1xuXG4gICAgICAgICAgICAgICAgLy8gaGlkZSBwbGF5IGNvbnRyb2xcbiAgICAgICAgICAgICAgICB0aGlzLnBsYXllcigpLmNvbnRyb2xCYXIucGxheVRvZ2dsZS5oaWRlKCk7XG5cbiAgICAgICAgICAgICAgICAvLyBzZXR1cCBwcmV2aWV3IGVuZ2luZVxuICAgICAgICAgICAgICAgIHN3aXRjaCAodGhpcy5nZXRSZWNvcmRUeXBlKCkpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIHRoaXMuQVVESU9fT05MWTpcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGRpc2FibGUgcGxheWJhY2sgZXZlbnRzXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN1cmZlci5zZXR1cFBsYXliYWNrRXZlbnRzKGZhbHNlKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gaGlkZSBwbGF5aGVhZFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gYmFja3dhcmRzIGNvbXBhdCAoZml4ZWQgc2luY2Ugd2F2ZXN1cmZlciAxLjAuMjUpXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBsYXloZWFkLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHN0YXJ0L3Jlc3VtZSBsaXZlIGF1ZGlvIHZpc3VhbGl6YXRpb25cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3VyZmVyLm1pY3JvcGhvbmUucGF1c2VkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN1cmZlci5saXZlTW9kZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBsYXllcigpLnBsYXkoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgdGhpcy5WSURFT19PTkxZOlxuICAgICAgICAgICAgICAgICAgICBjYXNlIHRoaXMuQVVESU9fVklERU86XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXJ0VmlkZW9QcmV2aWV3KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgICAgICBjYXNlIHRoaXMuQU5JTUFUSU9OOlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gaGlkZSB0aGUgZmlyc3QgZnJhbWVcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGxheWVyKCkucmVjb3JkQ2FudmFzLmhpZGUoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gaGlkZSB0aGUgYW5pbWF0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBsYXllcigpLmFuaW1hdGlvbkRpc3BsYXkuaGlkZSgpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBzaG93IHByZXZpZXcgdmlkZW9cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubWVkaWFFbGVtZW50LnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBmb3IgYW5pbWF0aW9ucywgY2FwdHVyZSB0aGUgZmlyc3QgZnJhbWVcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoYXQgY2FuIGJlIGRpc3BsYXllZCBhcyBzb29uIGFzIHJlY29yZGluZ1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gaXMgY29tcGxldGVcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2FwdHVyZUZyYW1lKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHN0YXJ0IHZpZGVvIHByZXZpZXcgKiphZnRlcioqIGNhcHR1cmluZyBmaXJzdCBmcmFtZVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGFydFZpZGVvUHJldmlldygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gc3RhcnQgcmVjb3JkaW5nXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZ2V0UmVjb3JkVHlwZSgpICE9PSB0aGlzLklNQUdFX09OTFkpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAvLyBzdGFydCBjb3VudGRvd25cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGFydFRpbWUgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb3VudERvd24gPSB0aGlzLnNldEludGVydmFsKFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vbkNvdW50RG93bi5iaW5kKHRoaXMpLCAxMDApO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIGNsZWFudXAgcHJldmlvdXMgcmVjb3JkaW5nXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmVuZ2luZSAhPT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVuZ2luZS5kaXNwb3NlKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAvLyBzdGFydCByZWNvcmRpbmcgc3RyZWFtXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZW5naW5lLnN0YXJ0KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGNyZWF0ZSBzbmFwc2hvdFxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNyZWF0ZVNuYXBzaG90KCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gbm90aWZ5IFVJXG4gICAgICAgICAgICAgICAgdGhpcy5wbGF5ZXIoKS50cmlnZ2VyKCdzdGFydFJlY29yZCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTdG9wIHJlY29yZGluZy5cbiAgICAgICAgICovXG4gICAgICAgIHN0b3A6IGZ1bmN0aW9uKClcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKCF0aGlzLmlzUHJvY2Vzc2luZygpKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuX3JlY29yZGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHRoaXMuX3Byb2Nlc3NpbmcgPSB0cnVlO1xuXG4gICAgICAgICAgICAgICAgLy8gbm90aWZ5IFVJXG4gICAgICAgICAgICAgICAgdGhpcy5wbGF5ZXIoKS50cmlnZ2VyKCdzdG9wUmVjb3JkJyk7XG5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5nZXRSZWNvcmRUeXBlKCkgIT09IHRoaXMuSU1BR0VfT05MWSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHN0b3AgY291bnRkb3duXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2xlYXJJbnRlcnZhbCh0aGlzLmNvdW50RG93bik7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gc3RvcCByZWNvcmRpbmcgc3RyZWFtIChyZXN1bHQgd2lsbCBiZSBhdmFpbGFibGUgYXN5bmMpXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmVuZ2luZSlcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lbmdpbmUuc3RvcCgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnBsYXllcigpLnJlY29yZGVkRGF0YSlcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gbm90aWZ5IGxpc3RlbmVycyB0aGF0IGltYWdlIGRhdGEgaXMgKGFscmVhZHkpIGF2YWlsYWJsZVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wbGF5ZXIoKS50cmlnZ2VyKCdmaW5pc2hSZWNvcmQnKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogU3RvcCBkZXZpY2UocykgYW5kIHJlY29yZGluZyBpZiBhY3RpdmUuXG4gICAgICAgICAqL1xuICAgICAgICBzdG9wRGV2aWNlOiBmdW5jdGlvbigpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmlzUmVjb3JkaW5nKCkpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgLy8gc3RvcCBzdHJlYW0gb25jZSByZWNvcmRlZCBkYXRhIGlzIGF2YWlsYWJsZSxcbiAgICAgICAgICAgICAgICAvLyBvdGhlcndpc2UgaXQnbGwgYnJlYWsgcmVjb3JkaW5nXG4gICAgICAgICAgICAgICAgdGhpcy5wbGF5ZXIoKS5vbmUoJ2ZpbmlzaFJlY29yZCcsIHRoaXMuc3RvcFN0cmVhbS5iaW5kKHRoaXMpKTtcblxuICAgICAgICAgICAgICAgIC8vIHN0b3AgcmVjb3JkaW5nXG4gICAgICAgICAgICAgICAgdGhpcy5zdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgLy8gc3RvcCBzdHJlYW0gbm93LCBzaW5jZSB0aGVyZSdzIG5vIHJlY29yZGVkIGRhdGEgYXZhaWxhYmxlXG4gICAgICAgICAgICAgICAgdGhpcy5zdG9wU3RyZWFtKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFN0b3Agc3RyZWFtIGFuZCBkZXZpY2UuXG4gICAgICAgICAqL1xuICAgICAgICBzdG9wU3RyZWFtOiBmdW5jdGlvbigpXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIHN0b3Agc3RyZWFtIGFuZCBkZXZpY2VcbiAgICAgICAgICAgIGlmICh0aGlzLnN0cmVhbSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9kZXZpY2VBY3RpdmUgPSBmYWxzZTtcblxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmdldFJlY29yZFR5cGUoKSA9PT0gdGhpcy5BVURJT19PTkxZKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gbWFrZSB0aGUgbWljcm9waG9uZSBwbHVnaW4gc3RvcCBpdCdzIGRldmljZVxuICAgICAgICAgICAgICAgICAgICB0aGlzLnN1cmZlci5taWNyb3Bob25lLnN0b3BEZXZpY2UoKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBNZWRpYVN0cmVhbS5zdG9wIGlzIGRlcHJlY2F0ZWQgc2luY2U6XG4gICAgICAgICAgICAgICAgLy8gLSBDaHJvbWUgNDUgKGh0dHBzOi8vZGV2ZWxvcGVycy5nb29nbGUuY29tL3dlYi91cGRhdGVzLzIwMTUvMDcvbWVkaWFzdHJlYW0tZGVwcmVjYXRpb25zKVxuICAgICAgICAgICAgICAgIC8vIC0gRmlyZWZveCA0NCAoaHR0cHM6Ly93d3cuZnhzaXRlY29tcGF0LmNvbS9lbi1VUy9kb2NzLzIwMTUvbWVkaWFzdHJlYW0tc3RvcC1oYXMtYmVlbi1kZXByZWNhdGVkLyxcbiAgICAgICAgICAgICAgICAvLyAgIGh0dHBzOi8vYnVnemlsbGEubW96aWxsYS5vcmcvc2hvd19idWcuY2dpP2lkPTExMDMxODgjYzEwNiBhbmRcbiAgICAgICAgICAgICAgICAvLyAgIGh0dHBzOi8vYnVnemlsbGEubW96aWxsYS5vcmcvc2hvd19idWcuY2dpP2lkPTExOTIxNzApXG4gICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IHRoaXMuZGV0ZWN0QnJvd3NlcigpO1xuICAgICAgICAgICAgICAgIGlmICgocmVzdWx0LmJyb3dzZXIgPT09ICdjaHJvbWUnICYmIHJlc3VsdC52ZXJzaW9uID49IDQ1KSB8fFxuICAgICAgICAgICAgICAgICAgICAocmVzdWx0LmJyb3dzZXIgPT09ICdmaXJlZm94JyAmJiByZXN1bHQudmVyc2lvbiA+PSA0NCkgfHxcbiAgICAgICAgICAgICAgICAgICAgKHJlc3VsdC5icm93c2VyID09PSAnZWRnZScpKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoICh0aGlzLmdldFJlY29yZFR5cGUoKSlcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSB0aGlzLlZJREVPX09OTFk6XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIHRoaXMuQU5JTUFUSU9OOlxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSB0aGlzLklNQUdFX09OTFk6XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIHRoaXMuQVVESU9fVklERU86XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdHJlYW0uZ2V0VHJhY2tzKCkuZm9yRWFjaChmdW5jdGlvbihzdHJlYW0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJlYW0uc3RvcCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gZmFsbGJhY2sgZm9yIG9sZGVyIGJyb3dzZXJzXG4gICAgICAgICAgICAgICAgdGhpcy5zdHJlYW0uc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbnZva2VkIHdoZW4gcmVjb3JkaW5nIGNvbXBsZXRlZCBhbmQgdGhlIHJlc3VsdGluZyBzdHJlYW0gaXNcbiAgICAgICAgICogYXZhaWxhYmxlLlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgb25SZWNvcmRDb21wbGV0ZTogZnVuY3Rpb24oKVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBzdG9yZSByZWZlcmVuY2UgdG8gcmVjb3JkZWQgc3RyZWFtIFVSTFxuICAgICAgICAgICAgdGhpcy5tZWRpYVVSTCA9IHRoaXMuZW5naW5lLm1lZGlhVVJMO1xuXG4gICAgICAgICAgICAvLyBzdG9yZSByZWZlcmVuY2UgdG8gcmVjb3JkZWQgc3RyZWFtIGRhdGFcbiAgICAgICAgICAgIHN3aXRjaCAodGhpcy5nZXRSZWNvcmRUeXBlKCkpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY2FzZSB0aGlzLkFVRElPX09OTFk6XG4gICAgICAgICAgICAgICAgICAgIC8vIHNob3cgcGxheSBjb250cm9sXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGxheWVyKCkuY29udHJvbEJhci5wbGF5VG9nZ2xlLnNob3coKTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBzdG9yZSByZWNvcmRlZCBkYXRhXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGxheWVyKCkucmVjb3JkZWREYXRhID0gdGhpcy5lbmdpbmUucmVjb3JkZWREYXRhO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIG5vdGlmeSBsaXN0ZW5lcnMgdGhhdCBkYXRhIGlzIGF2YWlsYWJsZVxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBsYXllcigpLnRyaWdnZXIoJ2ZpbmlzaFJlY29yZCcpO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIFBhdXNpbmcgdGhlIHBsYXllciBzbyB3ZSBjYW4gdmlzdWFsaXplIHRoZSByZWNvcmRlZCBkYXRhXG4gICAgICAgICAgICAgICAgICAgIC8vIHdpbGwgdHJpZ2dlciBhbiBhc3luYyB2aWRlby5qcyAncGF1c2UnIGV2ZW50IHRoYXQgd2VcbiAgICAgICAgICAgICAgICAgICAgLy8gaGF2ZSB0byB3YWl0IGZvci5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wbGF5ZXIoKS5vbmUoJ3BhdXNlJywgZnVuY3Rpb24oKVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBzZXR1cCBldmVudHMgZHVyaW5nIHBsYXliYWNrXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN1cmZlci5zZXR1cFBsYXliYWNrRXZlbnRzKHRydWUpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBkaXNwbGF5IGxvYWRlclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wbGF5ZXIoKS5sb2FkaW5nU3Bpbm5lci5zaG93KCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHNob3cgcGxheWhlYWRcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGxheWhlYWQuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHJlc3RvcmUgaW50ZXJhY3Rpb24gd2l0aCBjb250cm9scyBhZnRlciB3YXZlZm9ybVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gcmVuZGVyaW5nIGlzIGNvbXBsZXRlXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN1cmZlci5zdXJmZXIub25jZSgncmVhZHknLCBmdW5jdGlvbigpXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fcHJvY2Vzc2luZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfS5iaW5kKHRoaXMpKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gdmlzdWFsaXplIHJlY29yZGVkIHN0cmVhbVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2FkKHRoaXMucGxheWVyKCkucmVjb3JkZWREYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgfS5iaW5kKHRoaXMpKTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBwYXVzZSBwbGF5ZXIgc28gdXNlciBjYW4gc3RhcnQgcGxheWJhY2tcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wbGF5ZXIoKS5wYXVzZSgpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgIGNhc2UgdGhpcy5WSURFT19PTkxZOlxuICAgICAgICAgICAgICAgIGNhc2UgdGhpcy5BVURJT19WSURFTzpcbiAgICAgICAgICAgICAgICAgICAgLy8gc2hvdyBwbGF5IGNvbnRyb2xcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wbGF5ZXIoKS5jb250cm9sQmFyLnBsYXlUb2dnbGUuc2hvdygpO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIHN0b3JlIHJlY29yZGVkIGRhdGEgKHZpZGVvLW9ubHkgb3IgZmlyZWZveCBhdWRpbyt2aWRlbylcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wbGF5ZXIoKS5yZWNvcmRlZERhdGEgPSB0aGlzLmVuZ2luZS5yZWNvcmRlZERhdGE7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gbm90aWZ5IGxpc3RlbmVycyB0aGF0IGRhdGEgaXMgYXZhaWxhYmxlXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGxheWVyKCkudHJpZ2dlcignZmluaXNoUmVjb3JkJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gcmVtb3ZlIHByZXZpb3VzIGxpc3RlbmVyc1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm9mZih0aGlzLnBsYXllcigpLCAncGF1c2UnLCB0aGlzLm9uUGxheWVyUGF1c2UpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm9mZih0aGlzLnBsYXllcigpLCAncGxheScsIHRoaXMub25QbGF5ZXJTdGFydCk7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gcGF1c2luZyB0aGUgcGxheWVyIHNvIHdlIGNhbiB2aXN1YWxpemUgdGhlIHJlY29yZGVkIGRhdGFcbiAgICAgICAgICAgICAgICAgICAgLy8gd2lsbCB0cmlnZ2VyIGFuIGFzeW5jIHZpZGVvLmpzICdwYXVzZScgZXZlbnQgdGhhdCB3ZVxuICAgICAgICAgICAgICAgICAgICAvLyBoYXZlIHRvIHdhaXQgZm9yLlxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBsYXllcigpLm9uZSgncGF1c2UnLCBmdW5jdGlvbigpXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHZpZGVvIGRhdGEgaXMgcmVhZHlcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3Byb2Nlc3NpbmcgPSBmYWxzZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gaGlkZSBsb2FkZXJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGxheWVyKCkubG9hZGluZ1NwaW5uZXIuaGlkZSgpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBzaG93IHN0cmVhbSB0b3RhbCBkdXJhdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXREdXJhdGlvbih0aGlzLnN0cmVhbUR1cmF0aW9uKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gdXBkYXRlIHRpbWUgZHVyaW5nIHBsYXliYWNrXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9uKHRoaXMucGxheWVyKCksICd0aW1ldXBkYXRlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBsYXliYWNrVGltZVVwZGF0ZSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGJlY2F1c2UgdGhlcmUgYXJlIDIgc2VwYXJhdGUgZGF0YSBzdHJlYW1zIGZvciBhdWRpb1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gYW5kIHZpZGVvIGluIHRoZSBDaHJvbWUgYnJvd3NlciwgcGxheWJhY2sgdGhlIGF1ZGlvXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBzdHJlYW0gaW4gYSBuZXcgZXh0cmEgYXVkaW8gZWxlbWVudCBhbmQgdGhlIHZpZGVvXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBzdHJlYW0gaW4gdGhlIHJlZ3VsYXIgdmlkZW8uanMgcGxheWVyLlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuZ2V0UmVjb3JkVHlwZSgpID09PSB0aGlzLkFVRElPX1ZJREVPICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pc0Nocm9tZSgpICYmIHRoaXMucGxheWVyKCkucmVjb3JkZWREYXRhLmF1ZGlvKVxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmV4dHJhQXVkaW8gPT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZXh0cmFBdWRpbyA9IHRoaXMuY3JlYXRlRWwoJ2F1ZGlvJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZXh0cmFBdWRpby5pZCA9ICdleHRyYUF1ZGlvJztcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBoYW5kbGUgdm9sdW1lIGNoYW5nZXMgaW4gZXh0cmEgYXVkaW9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gZm9yIGNocm9tZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBsYXllcigpLm9uKCd2b2x1bWVjaGFuZ2UnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vblZvbHVtZUNoYW5nZS5iaW5kKHRoaXMpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuZXh0cmFBdWRpb1VSTCAhPT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVVJMLnJldm9rZU9iamVjdFVSTCh0aGlzLmV4dHJhQXVkaW9VUkwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmV4dHJhQXVkaW9VUkwgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBsYXllcigpLnJlY29yZGVkRGF0YS5hdWRpbyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5leHRyYUF1ZGlvLnNyYyA9IHRoaXMuZXh0cmFBdWRpb1VSTDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHBhdXNlIGV4dHJhIGF1ZGlvIHdoZW4gcGxheWVyIHBhdXNlc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMub24odGhpcy5wbGF5ZXIoKSwgJ3BhdXNlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vblBsYXllclBhdXNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gd29ya2Fyb3VuZCBzb21lIGJyb3dzZXIgaXNzdWVzIHdoZW4gcGxheWVyIHN0YXJ0c1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vbih0aGlzLnBsYXllcigpLCAncGxheScsIHRoaXMub25QbGF5ZXJTdGFydCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHVubXV0ZSBsb2NhbCBhdWRpbyBkdXJpbmcgcGxheWJhY2tcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmdldFJlY29yZFR5cGUoKSA9PT0gdGhpcy5BVURJT19WSURFTylcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1lZGlhRWxlbWVudC5tdXRlZCA9IGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gc2hvdyB0aGUgdm9sdW1lIGJhciB3aGVuIGl0J3MgdW5tdXRlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGlzcGxheVZvbHVtZUNvbnRyb2wodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGxvYWQgcmVjb3JkZWQgbWVkaWFcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9hZCh0aGlzLm1lZGlhVVJMKTtcbiAgICAgICAgICAgICAgICAgICAgfS5iaW5kKHRoaXMpKTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBwYXVzZSBwbGF5ZXIgc28gdXNlciBjYW4gc3RhcnQgcGxheWJhY2tcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wbGF5ZXIoKS5wYXVzZSgpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgIGNhc2UgdGhpcy5BTklNQVRJT046XG4gICAgICAgICAgICAgICAgICAgIC8vIHNob3cgcGxheSBjb250cm9sXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGxheWVyKCkuY29udHJvbEJhci5wbGF5VG9nZ2xlLnNob3coKTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBzdG9yZSByZWNvcmRlZCBkYXRhXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGxheWVyKCkucmVjb3JkZWREYXRhID0gdGhpcy5lbmdpbmUucmVjb3JkZWREYXRhO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIG5vdGlmeSBsaXN0ZW5lcnMgdGhhdCBkYXRhIGlzIGF2YWlsYWJsZVxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBsYXllcigpLnRyaWdnZXIoJ2ZpbmlzaFJlY29yZCcpO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIGFuaW1hdGlvbiBkYXRhIGlzIHJlYWR5XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3Byb2Nlc3NpbmcgPSBmYWxzZTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBoaWRlIGxvYWRlclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBsYXllcigpLmxvYWRpbmdTcGlubmVyLmhpZGUoKTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBzaG93IGFuaW1hdGlvbiB0b3RhbCBkdXJhdGlvblxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldER1cmF0aW9uKHRoaXMuc3RyZWFtRHVyYXRpb24pO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIGhpZGUgcHJldmlldyB2aWRlb1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1lZGlhRWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIHNob3cgdGhlIGZpcnN0IGZyYW1lXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGxheWVyKCkucmVjb3JkQ2FudmFzLnNob3coKTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBwYXVzZSBwbGF5ZXIgc28gdXNlciBjYW4gc3RhcnQgcGxheWJhY2tcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wbGF5ZXIoKS5wYXVzZSgpO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIHNob3cgYW5pbWF0aW9uIG9uIHBsYXlcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vbih0aGlzLnBsYXllcigpLCAncGxheScsIHRoaXMuc2hvd0FuaW1hdGlvbik7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gaGlkZSBhbmltYXRpb24gb24gcGF1c2VcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vbih0aGlzLnBsYXllcigpLCAncGF1c2UnLCB0aGlzLmhpZGVBbmltYXRpb24pO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiB0aGUgdm9sdW1lIGluIHRoZSB0ZW1wb3JhcnkgYXVkaW8gZWxlbWVudFxuICAgICAgICAgKiBmb3IgQ2hyb21lIGluIGF1ZGlvK3ZpZGVvIG1vZGUgaXMgcHJlc2VudC5cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIG9uVm9sdW1lQ2hhbmdlOiBmdW5jdGlvbigpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciB2b2x1bWUgPSB0aGlzLnBsYXllcigpLnZvbHVtZSgpO1xuICAgICAgICAgICAgaWYgKHRoaXMucGxheWVyKCkubXV0ZWQoKSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAvLyBtdXRlZCB2b2x1bWVcbiAgICAgICAgICAgICAgICB2b2x1bWUgPSAwO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodGhpcy5leHRyYUF1ZGlvICE9PSB1bmRlZmluZWQpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5leHRyYUF1ZGlvLnZvbHVtZSA9IHZvbHVtZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogSW52b2tlZCBkdXJpbmcgcmVjb3JkaW5nIGFuZCBkaXNwbGF5cyB0aGUgcmVtYWluaW5nIHRpbWUuXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBvbkNvdW50RG93bjogZnVuY3Rpb24oKVxuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgY3VycmVudFRpbWUgPSAobmV3IERhdGUoKS5nZXRUaW1lKCkgLSB0aGlzLnN0YXJ0VGltZSkgLyAxMDAwO1xuICAgICAgICAgICAgdmFyIGR1cmF0aW9uID0gdGhpcy5tYXhMZW5ndGg7XG5cbiAgICAgICAgICAgIHRoaXMuc3RyZWFtRHVyYXRpb24gPSBjdXJyZW50VGltZTtcblxuICAgICAgICAgICAgaWYgKGN1cnJlbnRUaW1lID49IGR1cmF0aW9uKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIC8vIGF0IHRoZSBlbmRcbiAgICAgICAgICAgICAgICBjdXJyZW50VGltZSA9IGR1cmF0aW9uO1xuXG4gICAgICAgICAgICAgICAgLy8gc3RvcCByZWNvcmRpbmdcbiAgICAgICAgICAgICAgICB0aGlzLnN0b3AoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gdXBkYXRlIGR1cmF0aW9uXG4gICAgICAgICAgICB0aGlzLnNldER1cmF0aW9uKGR1cmF0aW9uKTtcblxuICAgICAgICAgICAgLy8gdXBkYXRlIGN1cnJlbnQgdGltZVxuICAgICAgICAgICAgdGhpcy5zZXRDdXJyZW50VGltZShjdXJyZW50VGltZSwgZHVyYXRpb24pO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBVcGRhdGVzIHRoZSBwbGF5ZXIncyBlbGVtZW50IGRpc3BsYXlpbmcgdGhlIGN1cnJlbnQgdGltZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHBhcmFtIHtudW1iZXJ9IFtjdXJyZW50VGltZT0wXSAtIEN1cnJlbnQgcG9zaXRpb24gb2YgdGhlXG4gICAgICAgICAqICAgIHBsYXloZWFkIChpbiBzZWNvbmRzKS5cbiAgICAgICAgICogQHBhcmFtIHtudW1iZXJ9IFtkdXJhdGlvbj0wXSAtIER1cmF0aW9uIGluIHNlY29uZHMuXG4gICAgICAgICAqL1xuICAgICAgICBzZXRDdXJyZW50VGltZTogZnVuY3Rpb24oY3VycmVudFRpbWUsIGR1cmF0aW9uKVxuICAgICAgICB7XG4gICAgICAgICAgICBjdXJyZW50VGltZSA9IGlzTmFOKGN1cnJlbnRUaW1lKSA/IDAgOiBjdXJyZW50VGltZTtcbiAgICAgICAgICAgIGR1cmF0aW9uID0gaXNOYU4oZHVyYXRpb24pID8gMCA6IGR1cmF0aW9uO1xuXG4gICAgICAgICAgICBzd2l0Y2ggKHRoaXMuZ2V0UmVjb3JkVHlwZSgpKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNhc2UgdGhpcy5BVURJT19PTkxZOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLnN1cmZlci5zZXRDdXJyZW50VGltZShjdXJyZW50VGltZSwgZHVyYXRpb24pO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgIGNhc2UgdGhpcy5WSURFT19PTkxZOlxuICAgICAgICAgICAgICAgIGNhc2UgdGhpcy5BVURJT19WSURFTzpcbiAgICAgICAgICAgICAgICBjYXNlIHRoaXMuQU5JTUFUSU9OOlxuICAgICAgICAgICAgICAgICAgICB2YXIgdGltZSA9IE1hdGgubWluKGN1cnJlbnRUaW1lLCBkdXJhdGlvbik7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gdXBkYXRlIGNvbnRyb2xcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wbGF5ZXIoKS5jb250cm9sQmFyLmN1cnJlbnRUaW1lRGlzcGxheS5lbChcbiAgICAgICAgICAgICAgICAgICAgICAgICkuZmlyc3RDaGlsZC5pbm5lckhUTUwgPSB0aGlzLmZvcm1hdFRpbWUoXG4gICAgICAgICAgICAgICAgICAgICAgICB0aW1lLCBkdXJhdGlvbik7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBVcGRhdGVzIHRoZSBwbGF5ZXIncyBlbGVtZW50IGRpc3BsYXlpbmcgdGhlIGR1cmF0aW9uIHRpbWUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZHVyYXRpb249MF0gLSBEdXJhdGlvbiBpbiBzZWNvbmRzLlxuICAgICAgICAgKi9cbiAgICAgICAgc2V0RHVyYXRpb246IGZ1bmN0aW9uKGR1cmF0aW9uKVxuICAgICAgICB7XG4gICAgICAgICAgICBkdXJhdGlvbiA9IGlzTmFOKGR1cmF0aW9uKSA/IDAgOiBkdXJhdGlvbjtcblxuICAgICAgICAgICAgc3dpdGNoICh0aGlzLmdldFJlY29yZFR5cGUoKSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjYXNlIHRoaXMuQVVESU9fT05MWTpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdXJmZXIuc2V0RHVyYXRpb24oZHVyYXRpb24pO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgIGNhc2UgdGhpcy5WSURFT19PTkxZOlxuICAgICAgICAgICAgICAgIGNhc2UgdGhpcy5BVURJT19WSURFTzpcbiAgICAgICAgICAgICAgICBjYXNlIHRoaXMuQU5JTUFUSU9OOlxuICAgICAgICAgICAgICAgICAgICAvLyB1cGRhdGUgY29udHJvbFxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBsYXllcigpLmNvbnRyb2xCYXIuZHVyYXRpb25EaXNwbGF5LmVsKFxuICAgICAgICAgICAgICAgICAgICAgICAgKS5maXJzdENoaWxkLmlubmVySFRNTCA9IHRoaXMuZm9ybWF0VGltZShcbiAgICAgICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uLCBkdXJhdGlvbik7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTdGFydCBsb2FkaW5nIGRhdGEuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwYXJhbSB7KHN0cmluZ3xibG9ifGZpbGUpfSB1cmwgLSBFaXRoZXIgdGhlIFVSTCBvZiB0aGUgbWVkaWEgZmlsZSxcbiAgICAgICAgICogICAgIGEgQmxvYiBvciBhIEZpbGUgb2JqZWN0LlxuICAgICAgICAgKi9cbiAgICAgICAgbG9hZDogZnVuY3Rpb24odXJsKVxuICAgICAgICB7XG4gICAgICAgICAgICBzd2l0Y2ggKHRoaXMuZ2V0UmVjb3JkVHlwZSgpKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNhc2UgdGhpcy5BVURJT19PTkxZOlxuICAgICAgICAgICAgICAgICAgICAvLyB2aXN1YWxpemUgcmVjb3JkZWQgc3RyZWFtXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3VyZmVyLmxvYWQodXJsKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICBjYXNlIHRoaXMuSU1BR0VfT05MWTpcbiAgICAgICAgICAgICAgICBjYXNlIHRoaXMuVklERU9fT05MWTpcbiAgICAgICAgICAgICAgICBjYXNlIHRoaXMuQVVESU9fVklERU86XG4gICAgICAgICAgICAgICAgY2FzZSB0aGlzLkFOSU1BVElPTjpcbiAgICAgICAgICAgICAgICAgICAgLy8gYXNzaWduIHN0cmVhbSB0byBhdWRpby92aWRlbyBlbGVtZW50IHNvdXJjZVxuICAgICAgICAgICAgICAgICAgICB0aGlzLm1lZGlhRWxlbWVudC5zcmMgPSB1cmw7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEZXN0cm95IHBsdWdpbiBhbmQgcGxheWVycyBhbmQgY2xlYW51cCByZXNvdXJjZXMuXG4gICAgICAgICAqL1xuICAgICAgICBkZXN0cm95OiBmdW5jdGlvbigpXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIHByZXZlbnQgY2FsbGJhY2tzIGlmIHJlY29yZGluZyBpcyBpbiBwcm9ncmVzc1xuICAgICAgICAgICAgaWYgKHRoaXMuZW5naW5lKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuZW5naW5lLmRpc3Bvc2UoKTtcbiAgICAgICAgICAgICAgICB0aGlzLmVuZ2luZS5vZmYoJ3JlY29yZENvbXBsZXRlJywgdGhpcy5lbmdpbmVTdG9wQ2FsbGJhY2spO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBzdG9wIHJlY29yZGluZyBhbmQgZGV2aWNlXG4gICAgICAgICAgICB0aGlzLnN0b3AoKTtcbiAgICAgICAgICAgIHRoaXMuc3RvcERldmljZSgpO1xuXG4gICAgICAgICAgICAvLyBzdG9wIGNvdW50ZG93blxuICAgICAgICAgICAgdGhpcy5jbGVhckludGVydmFsKHRoaXMuY291bnREb3duKTtcblxuICAgICAgICAgICAgLy8gZGlzcG9zZSBwbGF5ZXJcbiAgICAgICAgICAgIHN3aXRjaCAodGhpcy5nZXRSZWNvcmRUeXBlKCkpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY2FzZSB0aGlzLkFVRElPX09OTFk6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnN1cmZlcilcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gYWxzbyBkaXNwb3NlcyBwbGF5ZXJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3VyZmVyLmRlc3Ryb3koKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgIGNhc2UgdGhpcy5JTUFHRV9PTkxZOlxuICAgICAgICAgICAgICAgIGNhc2UgdGhpcy5WSURFT19PTkxZOlxuICAgICAgICAgICAgICAgIGNhc2UgdGhpcy5BVURJT19WSURFTzpcbiAgICAgICAgICAgICAgICBjYXNlIHRoaXMuQU5JTUFUSU9OOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBsYXllcigpLmRpc3Bvc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMucmVzZXRTdGF0ZSgpO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZXNldCB0aGUgcGx1Z2luLlxuICAgICAgICAgKi9cbiAgICAgICAgcmVzZXQ6IGZ1bmN0aW9uKClcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gcHJldmVudCBjYWxsYmFja3MgaWYgcmVjb3JkaW5nIGlzIGluIHByb2dyZXNzXG4gICAgICAgICAgICBpZiAodGhpcy5lbmdpbmUpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5lbmdpbmUuZGlzcG9zZSgpO1xuICAgICAgICAgICAgICAgIHRoaXMuZW5naW5lLm9mZigncmVjb3JkQ29tcGxldGUnLCB0aGlzLmVuZ2luZVN0b3BDYWxsYmFjayk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIHN0b3AgcmVjb3JkaW5nIGFuZCBkZXZpY2VcbiAgICAgICAgICAgIHRoaXMuc3RvcCgpO1xuICAgICAgICAgICAgdGhpcy5zdG9wRGV2aWNlKCk7XG5cbiAgICAgICAgICAgIC8vIHN0b3AgY291bnRkb3duXG4gICAgICAgICAgICB0aGlzLmNsZWFySW50ZXJ2YWwodGhpcy5jb3VudERvd24pO1xuXG4gICAgICAgICAgICAvLyByZXNldCBvcHRpb25zXG4gICAgICAgICAgICB0aGlzLmxvYWRPcHRpb25zKCk7XG5cbiAgICAgICAgICAgIC8vIHJlc2V0IHJlY29yZGVyIHN0YXRlXG4gICAgICAgICAgICB0aGlzLnJlc2V0U3RhdGUoKTtcblxuICAgICAgICAgICAgLy8gcmVzZXQgcmVjb3JkIHRpbWVcbiAgICAgICAgICAgIHRoaXMuc2V0RHVyYXRpb24odGhpcy5tYXhMZW5ndGgpO1xuICAgICAgICAgICAgdGhpcy5zZXRDdXJyZW50VGltZSgwKTtcblxuICAgICAgICAgICAgLy8gcmVzZXQgcGxheWVyXG4gICAgICAgICAgICB0aGlzLnBsYXllcigpLnJlc2V0KCk7XG4gICAgICAgICAgICBzd2l0Y2ggKHRoaXMuZ2V0UmVjb3JkVHlwZSgpKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNhc2UgdGhpcy5BVURJT19PTkxZOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5zdXJmZXIgJiYgdGhpcy5zdXJmZXIuc3VyZmVyKVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBlbXB0eSBsYXN0IGZyYW1lXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN1cmZlci5zdXJmZXIuZW1wdHkoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgIGNhc2UgdGhpcy5JTUFHRV9PTkxZOlxuICAgICAgICAgICAgICAgIGNhc2UgdGhpcy5BTklNQVRJT046XG4gICAgICAgICAgICAgICAgICAgIC8vIHJlc2V0IFVJXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGxheWVyKCkucmVjb3JkQ2FudmFzLmhpZGUoKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wbGF5ZXIoKS5jYW1lcmFCdXR0b24uaGlkZSgpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gaGlkZSBwbGF5IGNvbnRyb2xcbiAgICAgICAgICAgIHRoaXMucGxheWVyKCkuY29udHJvbEJhci5wbGF5VG9nZ2xlLmhpZGUoKTtcblxuICAgICAgICAgICAgLy8gc2hvdyBkZXZpY2Ugc2VsZWN0aW9uIGJ1dHRvblxuICAgICAgICAgICAgdGhpcy5wbGF5ZXIoKS5kZXZpY2VCdXR0b24uc2hvdygpO1xuXG4gICAgICAgICAgICAvLyBoaWRlIHJlY29yZCBidXR0b25cbiAgICAgICAgICAgIHRoaXMucGxheWVyKCkucmVjb3JkVG9nZ2xlLmhpZGUoKTtcblxuICAgICAgICAgICAgLy8gbG9hZGVkbWV0YWRhdGEgcmVzZXRzIHRoZSBkdXJhdGlvbkRpc3BsYXkgZm9yIHRoZVxuICAgICAgICAgICAgLy8gZmlyc3QgdGltZVxuICAgICAgICAgICAgdGhpcy5wbGF5ZXIoKS5vbmUoJ2xvYWRlZG1ldGFkYXRhJywgZnVuY3Rpb24oKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIC8vIGRpc3BsYXkgbWF4IHJlY29yZCB0aW1lXG4gICAgICAgICAgICAgICAgdGhpcy5zZXREdXJhdGlvbih0aGlzLm1heExlbmd0aCk7XG4gICAgICAgICAgICB9LmJpbmQodGhpcykpO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZXNldCB0aGUgcGx1Z2luIHJlY29yZGVyIHN0YXRlLlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgcmVzZXRTdGF0ZTogZnVuY3Rpb24oKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9yZWNvcmRpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuX3Byb2Nlc3NpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuX2RldmljZUFjdGl2ZSA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5kZXZpY2VzID0gW107XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEdldCByZWNvcmRlciB0eXBlLlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0UmVjb3JkVHlwZTogZnVuY3Rpb24oKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAodGhpcy5pc01vZGVFbmFibGVkKHRoaXMucmVjb3JkSW1hZ2UpKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLklNQUdFX09OTFk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh0aGlzLmlzTW9kZUVuYWJsZWQodGhpcy5yZWNvcmRBbmltYXRpb24pKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLkFOSU1BVElPTjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMuaXNNb2RlRW5hYmxlZCh0aGlzLnJlY29yZEF1ZGlvKSAmJiAhdGhpcy5pc01vZGVFbmFibGVkKFxuICAgICAgICAgICAgICAgIHRoaXMucmVjb3JkVmlkZW8pKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLkFVRElPX09OTFk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh0aGlzLmlzTW9kZUVuYWJsZWQodGhpcy5yZWNvcmRBdWRpbykgJiYgdGhpcy5pc01vZGVFbmFibGVkKFxuICAgICAgICAgICAgICAgIHRoaXMucmVjb3JkVmlkZW8pKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLkFVRElPX1ZJREVPO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoIXRoaXMuaXNNb2RlRW5hYmxlZCh0aGlzLnJlY29yZEF1ZGlvKSAmJiB0aGlzLmlzTW9kZUVuYWJsZWQoXG4gICAgICAgICAgICAgICAgdGhpcy5yZWNvcmRWaWRlbykpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuVklERU9fT05MWTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogQ3JlYXRlIGFuZCBkaXNwbGF5IHNuYXBzaG90IGltYWdlLlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgY3JlYXRlU25hcHNob3Q6IGZ1bmN0aW9uKClcbiAgICAgICAge1xuICAgICAgICAgICAgdmFyIHJlY29yZENhbnZhcyA9IHRoaXMuY2FwdHVyZUZyYW1lKCk7XG5cbiAgICAgICAgICAgIC8vIHR1cm4gdGhlIGNhbnZhcyBkYXRhIGludG8gYmFzZS02NCBkYXRhIHdpdGggYSBQTkcgaGVhZGVyXG4gICAgICAgICAgICB0aGlzLnBsYXllcigpLnJlY29yZGVkRGF0YSA9IHJlY29yZENhbnZhcy50b0RhdGFVUkwoJ2ltYWdlL3BuZycpO1xuXG4gICAgICAgICAgICAvLyBoaWRlIHByZXZpZXcgdmlkZW9cbiAgICAgICAgICAgIHRoaXMubWVkaWFFbGVtZW50LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG5cbiAgICAgICAgICAgIC8vIHNob3cgdGhlIHNuYXBzaG90XG4gICAgICAgICAgICB0aGlzLnBsYXllcigpLnJlY29yZENhbnZhcy5zaG93KCk7XG5cbiAgICAgICAgICAgIC8vIHN0b3AgcmVjb3JkaW5nXG4gICAgICAgICAgICB0aGlzLnN0b3AoKTtcbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogUmVzZXQgVUkgZm9yIHJldHJ5aW5nIGEgc25hcHNob3QgaW1hZ2UuXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICByZXRyeVNuYXBzaG90OiBmdW5jdGlvbigpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX3Byb2Nlc3NpbmcgPSBmYWxzZTtcblxuICAgICAgICAgICAgLy8gcmV0cnk6IGhpZGUgdGhlIHNuYXBzaG90XG4gICAgICAgICAgICB0aGlzLnBsYXllcigpLnJlY29yZENhbnZhcy5oaWRlKCk7XG5cbiAgICAgICAgICAgIC8vIHNob3cgcHJldmlldyB2aWRlb1xuICAgICAgICAgICAgdGhpcy5wbGF5ZXIoKS5lbCgpLmZpcnN0Q2hpbGQuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIENhcHR1cmUgZnJhbWUgZnJvbSBjYW1lcmEgYW5kIGNvcHkgZGF0YSB0byBjYW52YXMuXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBjYXB0dXJlRnJhbWU6IGZ1bmN0aW9uKClcbiAgICAgICAge1xuICAgICAgICAgICAgdmFyIHJlY29yZENhbnZhcyA9IHRoaXMucGxheWVyKCkucmVjb3JkQ2FudmFzLmVsKCkuZmlyc3RDaGlsZDtcblxuICAgICAgICAgICAgLy8gc2V0IHRoZSBjYW52YXMgc2l6ZSB0byB0aGUgZGltZW5zaW9ucyBvZiB0aGUgY2FtZXJhLFxuICAgICAgICAgICAgLy8gd2hpY2ggYWxzbyB3aXBlcyB0aGUgY29udGVudCBvZiB0aGUgY2FudmFzXG4gICAgICAgICAgICByZWNvcmRDYW52YXMud2lkdGggPSB0aGlzLnBsYXllcigpLndpZHRoKCk7XG4gICAgICAgICAgICByZWNvcmRDYW52YXMuaGVpZ2h0ID0gdGhpcy5wbGF5ZXIoKS5oZWlnaHQoKTtcblxuICAgICAgICAgICAgLy8gZ2V0IGEgZnJhbWUgb2YgdGhlIHN0cmVhbSBhbmQgY29weSBpdCBvbnRvIHRoZSBjYW52YXNcbiAgICAgICAgICAgIHJlY29yZENhbnZhcy5nZXRDb250ZXh0KCcyZCcpLmRyYXdJbWFnZShcbiAgICAgICAgICAgICAgICB0aGlzLm1lZGlhRWxlbWVudCwgMCwgMCxcbiAgICAgICAgICAgICAgICByZWNvcmRDYW52YXMud2lkdGgsXG4gICAgICAgICAgICAgICAgcmVjb3JkQ2FudmFzLmhlaWdodFxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgcmV0dXJuIHJlY29yZENhbnZhcztcbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogU3RhcnQgcHJldmlldyBvZiB2aWRlbyBzdHJlYW0uXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBzdGFydFZpZGVvUHJldmlldzogZnVuY3Rpb24oKVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBkaXNhYmxlIHBsYXliYWNrIGV2ZW50c1xuICAgICAgICAgICAgdGhpcy5vZmYoJ3RpbWV1cGRhdGUnKTtcbiAgICAgICAgICAgIHRoaXMub2ZmKCdwbGF5Jyk7XG5cbiAgICAgICAgICAgIC8vIG11dGUgbG9jYWwgYXVkaW9cbiAgICAgICAgICAgIHRoaXMubWVkaWFFbGVtZW50Lm11dGVkID0gdHJ1ZTtcblxuICAgICAgICAgICAgLy8gaGlkZSB2b2x1bWUgY29udHJvbCB0byBwcmV2ZW50IGZlZWRiYWNrXG4gICAgICAgICAgICB0aGlzLmRpc3BsYXlWb2x1bWVDb250cm9sKGZhbHNlKTtcblxuICAgICAgICAgICAgLy8gc3RhcnQgb3IgcmVzdW1lIGxpdmUgcHJldmlld1xuICAgICAgICAgICAgaWYgKHRoaXMuc3RyZWFtVVJMICE9PSB1bmRlZmluZWQpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgVVJMLnJldm9rZU9iamVjdFVSTCh0aGlzLnN0cmVhbVVSTCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnN0cmVhbVVSTCA9IFVSTC5jcmVhdGVPYmplY3RVUkwodGhpcy5zdHJlYW0pO1xuICAgICAgICAgICAgdGhpcy5sb2FkKHRoaXMuc3RyZWFtVVJMKTtcbiAgICAgICAgICAgIHRoaXMubWVkaWFFbGVtZW50LnBsYXkoKTtcbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogU2hvdyBhbmltYXRlZCBHSUYuXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBzaG93QW5pbWF0aW9uOiBmdW5jdGlvbigpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciBhbmltYXRpb25EaXNwbGF5ID0gdGhpcy5wbGF5ZXIoKS5hbmltYXRpb25EaXNwbGF5LmVsKCkuZmlyc3RDaGlsZDtcblxuICAgICAgICAgICAgLy8gc2V0IHRoZSBpbWFnZSBzaXplIHRvIHRoZSBkaW1lbnNpb25zIG9mIHRoZSByZWNvcmRlZCBhbmltYXRpb25cbiAgICAgICAgICAgIGFuaW1hdGlvbkRpc3BsYXkud2lkdGggPSB0aGlzLnBsYXllcigpLndpZHRoKCk7XG4gICAgICAgICAgICBhbmltYXRpb25EaXNwbGF5LmhlaWdodCA9IHRoaXMucGxheWVyKCkuaGVpZ2h0KCk7XG5cbiAgICAgICAgICAgIC8vIGhpZGUgdGhlIGZpcnN0IGZyYW1lXG4gICAgICAgICAgICB0aGlzLnBsYXllcigpLnJlY29yZENhbnZhcy5oaWRlKCk7XG5cbiAgICAgICAgICAgIC8vIHNob3cgdGhlIGFuaW1hdGlvblxuICAgICAgICAgICAgYW5pbWF0aW9uRGlzcGxheS5zcmMgPSB0aGlzLm1lZGlhVVJMO1xuICAgICAgICAgICAgdGhpcy5wbGF5ZXIoKS5hbmltYXRpb25EaXNwbGF5LnNob3coKTtcbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogSGlkZSBhbmltYXRlZCBHSUYuXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBoaWRlQW5pbWF0aW9uOiBmdW5jdGlvbigpXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIHNob3cgdGhlIGZpcnN0IGZyYW1lXG4gICAgICAgICAgICB0aGlzLnBsYXllcigpLnJlY29yZENhbnZhcy5zaG93KCk7XG5cbiAgICAgICAgICAgIC8vIGhpZGUgdGhlIGFuaW1hdGlvblxuICAgICAgICAgICAgdGhpcy5wbGF5ZXIoKS5hbmltYXRpb25EaXNwbGF5LmhpZGUoKTtcbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogUGxheWVyIHN0YXJ0ZWQgcGxheWJhY2suXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBvblBsYXllclN0YXJ0OiBmdW5jdGlvbigpXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIHdvcmthcm91bmQgRmlyZWZveCBpc3N1ZVxuICAgICAgICAgICAgaWYgKHRoaXMucGxheWVyKCkuc2Vla2luZygpKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIC8vIFRoZXJlIHNlZW1zIHRvIGJlIGEgRmlyZWZveCBpc3N1ZVxuICAgICAgICAgICAgICAgIC8vIHdpdGggcGxheWluZyBiYWNrIGJsb2JzLiBUaGUgdWdseSxcbiAgICAgICAgICAgICAgICAvLyBidXQgZnVuY3Rpb25hbCB3b3JrYXJvdW5kLCBpcyB0b1xuICAgICAgICAgICAgICAgIC8vIHNpbXBseSByZXNldCB0aGUgc291cmNlLiBTZWVcbiAgICAgICAgICAgICAgICAvLyBodHRwczovL2J1Z3ppbGxhLm1vemlsbGEub3JnL3Nob3dfYnVnLmNnaT9pZD05NjkyOTBcbiAgICAgICAgICAgICAgICB0aGlzLmxvYWQodGhpcy5tZWRpYVVSTCk7XG4gICAgICAgICAgICAgICAgdGhpcy5wbGF5ZXIoKS5wbGF5KCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIHdvcmthcm91bmQgY2hyb21lIGlzc3VlXG4gICAgICAgICAgICBpZiAodGhpcy5nZXRSZWNvcmRUeXBlKCkgPT09IHRoaXMuQVVESU9fVklERU8gJiZcbiAgICAgICAgICAgICAgICB0aGlzLmlzQ2hyb21lKCkgJiYgIXRoaXMuX3JlY29yZGluZyAmJiB0aGlzLmV4dHJhQXVkaW8gIT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAvLyBzeW5jIGV4dHJhIGF1ZGlvIHBsYXloZWFkIHBvc2l0aW9uIHdpdGggdmlkZW8uanMgcGxheWVyXG4gICAgICAgICAgICAgICAgdGhpcy5leHRyYUF1ZGlvLmN1cnJlbnRUaW1lID0gdGhpcy5wbGF5ZXIoKS5jdXJyZW50VGltZSgpO1xuICAgICAgICAgICAgICAgIHRoaXMuZXh0cmFBdWRpby5wbGF5KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFBsYXllciBpcyBwYXVzZWQuXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBvblBsYXllclBhdXNlOiBmdW5jdGlvbigpXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIHBhdXNlIGV4dHJhIGF1ZGlvIHdoZW4gdmlkZW8uanMgcGxheWVyIHBhdXNlc1xuICAgICAgICAgICAgaWYgKHRoaXMuZXh0cmFBdWRpbyAhPT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuZXh0cmFBdWRpby5wYXVzZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBVcGRhdGUgdGltZSBkdXJpbmcgcGxheWJhY2suXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBwbGF5YmFja1RpbWVVcGRhdGU6IGZ1bmN0aW9uKClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5zZXRDdXJyZW50VGltZSh0aGlzLnBsYXllcigpLmN1cnJlbnRUaW1lKCksXG4gICAgICAgICAgICAgICAgdGhpcy5zdHJlYW1EdXJhdGlvbik7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIENvbGxlY3RzIGluZm9ybWF0aW9uIGFib3V0IHRoZSBtZWRpYSBpbnB1dCBhbmQgb3V0cHV0IGRldmljZXNcbiAgICAgICAgICogYXZhaWxhYmxlIG9uIHRoZSBzeXN0ZW0uXG4gICAgICAgICAqXG4gICAgICAgICAqIFJldHVybnMgYW4gYXJyYXkuXG4gICAgICAgICAqL1xuICAgICAgICBlbnVtZXJhdGVEZXZpY2VzOiBmdW5jdGlvbigpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgICAgIGlmICghbmF2aWdhdG9yLm1lZGlhRGV2aWNlcyB8fCAhbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5lbnVtZXJhdGVEZXZpY2VzKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHNlbGYucGxheWVyKCkuZW51bWVyYXRlRXJyb3JDb2RlID0gJ2VudW1lcmF0ZURldmljZXMoKSBub3Qgc3VwcG9ydGVkLic7XG4gICAgICAgICAgICAgICAgc2VsZi5wbGF5ZXIoKS50cmlnZ2VyKCdlbnVtZXJhdGVFcnJvcicpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gTGlzdCBjYW1lcmFzIGFuZCBtaWNyb3Bob25lcy5cbiAgICAgICAgICAgIG5hdmlnYXRvci5tZWRpYURldmljZXMuZW51bWVyYXRlRGV2aWNlcyh0aGlzKS50aGVuKGZ1bmN0aW9uKGRldmljZXMpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc2VsZi5kZXZpY2VzID0gW107XG4gICAgICAgICAgICAgICAgZGV2aWNlcy5mb3JFYWNoKGZ1bmN0aW9uKGRldmljZSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYuZGV2aWNlcy5wdXNoKGRldmljZSk7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAvLyBub3RpZnkgbGlzdGVuZXJzXG4gICAgICAgICAgICAgICAgc2VsZi5wbGF5ZXIoKS50cmlnZ2VyKCdlbnVtZXJhdGVSZWFkeScpO1xuICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24oZXJyKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHNlbGYucGxheWVyKCkuZW51bWVyYXRlRXJyb3JDb2RlID0gZXJyO1xuICAgICAgICAgICAgICAgIHNlbGYucGxheWVyKCkudHJpZ2dlcignZW51bWVyYXRlRXJyb3InKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTaG93IG9yIGhpZGUgdGhlIHZvbHVtZSBtZW51LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGRpc3BsYXkgLSBIaWRlL3Nob3cgdm9sdW1lIGNvbnRyb2wuXG4gICAgICAgICAqL1xuICAgICAgICBkaXNwbGF5Vm9sdW1lQ29udHJvbDogZnVuY3Rpb24oZGlzcGxheSlcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHRoaXMucGxheWVyKCkuY29udHJvbEJhci52b2x1bWVNZW51QnV0dG9uICE9PSB1bmRlZmluZWQpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWYgKGRpc3BsYXkgPT09IHRydWUpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5ID0gJ2Jsb2NrJztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5wbGF5ZXIoKS5jb250cm9sQmFyLnZvbHVtZU1lbnVCdXR0b24uZWwoKS5zdHlsZS5kaXNwbGF5ID0gZGlzcGxheTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogRm9ybWF0IHNlY29uZHMgYXMgYSB0aW1lIHN0cmluZywgSDpNTTpTUywgTTpTUyBvciBNOlNTOk1NTS5cbiAgICAgICAgICpcbiAgICAgICAgICogU3VwcGx5aW5nIGEgZ3VpZGUgKGluIHNlY29uZHMpIHdpbGwgZm9yY2UgYSBudW1iZXIgb2YgbGVhZGluZyB6ZXJvc1xuICAgICAgICAgKiB0byBjb3ZlciB0aGUgbGVuZ3RoIG9mIHRoZSBndWlkZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQHBhcmFtIHtudW1iZXJ9IHNlY29uZHMgLSBOdW1iZXIgb2Ygc2Vjb25kcyB0byBiZSB0dXJuZWQgaW50byBhXG4gICAgICAgICAqICAgICBzdHJpbmcuXG4gICAgICAgICAqIEBwYXJhbSB7bnVtYmVyfSBndWlkZSAtIE51bWJlciAoaW4gc2Vjb25kcykgdG8gbW9kZWwgdGhlIHN0cmluZ1xuICAgICAgICAgKiAgICAgYWZ0ZXIuXG4gICAgICAgICAqIEByZXR1cm4ge3N0cmluZ30gVGltZSBmb3JtYXR0ZWQgYXMgSDpNTTpTUywgTTpTUyBvciBNOlNTOk1NTSwgZS5nLlxuICAgICAgICAgKiAgICAgMDowMDoxMi5cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIGZvcm1hdFRpbWU6IGZ1bmN0aW9uKHNlY29uZHMsIGd1aWRlKVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBEZWZhdWx0IHRvIHVzaW5nIHNlY29uZHMgYXMgZ3VpZGVcbiAgICAgICAgICAgIHNlY29uZHMgPSBzZWNvbmRzIDwgMCA/IDAgOiBzZWNvbmRzO1xuICAgICAgICAgICAgZ3VpZGUgPSBndWlkZSB8fCBzZWNvbmRzO1xuICAgICAgICAgICAgdmFyIHMgPSBNYXRoLmZsb29yKHNlY29uZHMgJSA2MCksXG4gICAgICAgICAgICAgICAgbSA9IE1hdGguZmxvb3Ioc2Vjb25kcyAvIDYwICUgNjApLFxuICAgICAgICAgICAgICAgIGggPSBNYXRoLmZsb29yKHNlY29uZHMgLyAzNjAwKSxcbiAgICAgICAgICAgICAgICBnbSA9IE1hdGguZmxvb3IoZ3VpZGUgLyA2MCAlIDYwKSxcbiAgICAgICAgICAgICAgICBnaCA9IE1hdGguZmxvb3IoZ3VpZGUgLyAzNjAwKSxcbiAgICAgICAgICAgICAgICBtcyA9IE1hdGguZmxvb3IoKHNlY29uZHMgLSBzKSAqIDEwMDApO1xuXG4gICAgICAgICAgICAvLyBIYW5kbGUgaW52YWxpZCB0aW1lc1xuICAgICAgICAgICAgaWYgKGlzTmFOKHNlY29uZHMpIHx8IHNlY29uZHMgPT09IEluZmluaXR5KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIC8vICctJyBpcyBmYWxzZSBmb3IgYWxsIHJlbGF0aW9uYWwgb3BlcmF0b3JzIChlLmcuIDwsID49KSBzbyB0aGlzXG4gICAgICAgICAgICAgICAgLy8gc2V0dGluZyB3aWxsIGFkZCB0aGUgbWluaW11bSBudW1iZXIgb2YgZmllbGRzIHNwZWNpZmllZCBieSB0aGVcbiAgICAgICAgICAgICAgICAvLyBndWlkZVxuICAgICAgICAgICAgICAgIGggPSBtID0gcyA9IG1zID0gJy0nO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBDaGVjayBpZiB3ZSBuZWVkIHRvIHNob3cgbWlsbGlzZWNvbmRzXG4gICAgICAgICAgICBpZiAoZ3VpZGUgPiAwICYmIGd1aWRlIDwgdGhpcy5tc0Rpc3BsYXlNYXgpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWYgKG1zIDwgMTAwKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1zIDwgMTApXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1zID0gJzAwJyArIG1zO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgbXMgPSAnMCcgKyBtcztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBtcyA9ICc6JyArIG1zO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG1zID0gJyc7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIENoZWNrIGlmIHdlIG5lZWQgdG8gc2hvdyBob3Vyc1xuICAgICAgICAgICAgaCA9IChoID4gMCB8fCBnaCA+IDApID8gaCArICc6JyA6ICcnO1xuXG4gICAgICAgICAgICAvLyBJZiBob3VycyBhcmUgc2hvd2luZywgd2UgbWF5IG5lZWQgdG8gYWRkIGEgbGVhZGluZyB6ZXJvLlxuICAgICAgICAgICAgLy8gQWx3YXlzIHNob3cgYXQgbGVhc3Qgb25lIGRpZ2l0IG9mIG1pbnV0ZXMuXG4gICAgICAgICAgICBtID0gKChoICYmIG0gPCAxMCkgPyAnMCcgKyBtIDogbSkgKyAnOic7XG5cbiAgICAgICAgICAgIC8vIENoZWNrIGlmIGxlYWRpbmcgemVybyBpcyBuZWVkIGZvciBzZWNvbmRzXG4gICAgICAgICAgICBzID0gKChzIDwgMTApID8gJzAnICsgcyA6IHMpO1xuXG4gICAgICAgICAgICByZXR1cm4gaCArIG0gKyBzICsgbXM7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJldHVybiBib29sZWFuIGluZGljYXRpbmcgd2hldGhlciBtb2RlIGlzIGVuYWJsZWQgb3Igbm90LlxuICAgICAgICAqL1xuICAgICAgICBpc01vZGVFbmFibGVkOiBmdW5jdGlvbihtb2RlKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gbW9kZSA9PT0gT2JqZWN0KG1vZGUpIHx8IG1vZGUgPT09IHRydWU7XG4gICAgICAgIH1cblxuICAgIH0pO1xuXG4gICAgdmFyIFJlY29yZFRvZ2dsZSwgQ2FtZXJhQnV0dG9uLCBEZXZpY2VCdXR0b24sIFJlY29yZEluZGljYXRvciwgUmVjb3JkQ2FudmFzLFxuICAgICAgICBBbmltYXRpb25EaXNwbGF5O1xuXG4gICAgLyoqXG4gICAgICogQnV0dG9uIHRvIHRvZ2dsZSBiZXR3ZWVuIHN0YXJ0IGFuZCBzdG9wIHJlY29yZGluZy5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBjbGFzc1xuICAgICAqIEBhdWdtZW50cyB2aWRlb2pzLkJ1dHRvblxuICAgICovXG4gICAgUmVjb3JkVG9nZ2xlID0gdmlkZW9qcy5leHRlbmQoVmpzQnV0dG9uLFxuICAgIHtcbiAgICAgICAgLyoqIEBjb25zdHJ1Y3RvciAqL1xuICAgICAgICBjb25zdHJ1Y3RvcjogZnVuY3Rpb24ocGxheWVyLCBvcHRpb25zKVxuICAgICAgICB7XG4gICAgICAgICAgICBWanNCdXR0b24uY2FsbCh0aGlzLCBwbGF5ZXIsIG9wdGlvbnMpO1xuXG4gICAgICAgICAgICB0aGlzLm9uKCdjbGljaycsIHRoaXMub25DbGljayk7XG4gICAgICAgICAgICB0aGlzLm9uKCd0YXAnLCB0aGlzLm9uQ2xpY2spO1xuICAgICAgICAgICAgdGhpcy5vbihwbGF5ZXIsICdzdGFydFJlY29yZCcsIHRoaXMub25TdGFydCk7XG4gICAgICAgICAgICB0aGlzLm9uKHBsYXllciwgJ3N0b3BSZWNvcmQnLCB0aGlzLm9uU3RvcCk7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICBSZWNvcmRUb2dnbGUucHJvdG90eXBlLm9uQ2xpY2sgPSBmdW5jdGlvbihlKVxuICAgIHtcbiAgICAgICAgLy8gc3RvcCB0aGlzIGV2ZW50IGJlZm9yZSBpdCBidWJibGVzIHVwXG4gICAgICAgIGUuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7XG5cbiAgICAgICAgdmFyIHJlY29yZGVyID0gdGhpcy5wbGF5ZXIoKS5yZWNvcmRlcjtcblxuICAgICAgICBpZiAoIXJlY29yZGVyLmlzUmVjb3JkaW5nKCkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJlY29yZGVyLnN0YXJ0KCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICByZWNvcmRlci5zdG9wKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFJlY29yZFRvZ2dsZS5wcm90b3R5cGUub25TdGFydCA9IGZ1bmN0aW9uKClcbiAgICB7XG4gICAgICAgIC8vIHJlcGxhY2UgZWxlbWVudCBjbGFzcyBzbyBpdCBjYW4gY2hhbmdlIGFwcGVhcmFuY2VcbiAgICAgICAgdGhpcy5yZW1vdmVDbGFzcygndmpzLWljb24tcmVjb3JkLXN0YXJ0Jyk7XG4gICAgICAgIHRoaXMuYWRkQ2xhc3MoJ3Zqcy1pY29uLXJlY29yZC1zdG9wJyk7XG5cbiAgICAgICAgLy8gdXBkYXRlIGxhYmVsXG4gICAgICAgIHRoaXMuZWwoKS5maXJzdENoaWxkLmZpcnN0Q2hpbGQuaW5uZXJIVE1MID0gdGhpcy5sb2NhbGl6ZSgnU3RvcCcpO1xuICAgIH07XG4gICAgUmVjb3JkVG9nZ2xlLnByb3RvdHlwZS5vblN0b3AgPSBmdW5jdGlvbigpXG4gICAge1xuICAgICAgICAvLyByZXBsYWNlIGVsZW1lbnQgY2xhc3Mgc28gaXQgY2FuIGNoYW5nZSBhcHBlYXJhbmNlXG4gICAgICAgIHRoaXMucmVtb3ZlQ2xhc3MoJ3Zqcy1pY29uLXJlY29yZC1zdG9wJyk7XG4gICAgICAgIHRoaXMuYWRkQ2xhc3MoJ3Zqcy1pY29uLXJlY29yZC1zdGFydCcpO1xuXG4gICAgICAgIC8vIHVwZGF0ZSBsYWJlbFxuICAgICAgICB0aGlzLmVsKCkuZmlyc3RDaGlsZC5maXJzdENoaWxkLmlubmVySFRNTCA9IHRoaXMubG9jYWxpemUoJ1JlY29yZCcpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBCdXR0b24gdG8gdG9nZ2xlIGJldHdlZW4gY3JlYXRlIGFuZCByZXRyeSBzbmFwc2hvdCBpbWFnZS5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBjbGFzc1xuICAgICAqIEBhdWdtZW50cyB2aWRlb2pzLkJ1dHRvblxuICAgICovXG4gICAgQ2FtZXJhQnV0dG9uID0gdmlkZW9qcy5leHRlbmQoVmpzQnV0dG9uLFxuICAgIHtcbiAgICAgICAgLyoqIEBjb25zdHJ1Y3RvciAqL1xuICAgICAgICBjb25zdHJ1Y3RvcjogZnVuY3Rpb24ocGxheWVyLCBvcHRpb25zKVxuICAgICAgICB7XG4gICAgICAgICAgICBWanNCdXR0b24uY2FsbCh0aGlzLCBwbGF5ZXIsIG9wdGlvbnMpO1xuXG4gICAgICAgICAgICB0aGlzLm9uKCdjbGljaycsIHRoaXMub25DbGljayk7XG4gICAgICAgICAgICB0aGlzLm9uKCd0YXAnLCB0aGlzLm9uQ2xpY2spO1xuICAgICAgICAgICAgdGhpcy5vbihwbGF5ZXIsICdzdGFydFJlY29yZCcsIHRoaXMub25TdGFydCk7XG4gICAgICAgICAgICB0aGlzLm9uKHBsYXllciwgJ3N0b3BSZWNvcmQnLCB0aGlzLm9uU3RvcCk7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICBDYW1lcmFCdXR0b24ucHJvdG90eXBlLm9uQ2xpY2sgPSBmdW5jdGlvbihlKVxuICAgIHtcbiAgICAgICAgLy8gc3RvcCB0aGlzIGV2ZW50IGJlZm9yZSBpdCBidWJibGVzIHVwXG4gICAgICAgIGUuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7XG5cbiAgICAgICAgdmFyIHJlY29yZGVyID0gdGhpcy5wbGF5ZXIoKS5yZWNvcmRlcjtcblxuICAgICAgICBpZiAoIXJlY29yZGVyLmlzUHJvY2Vzc2luZygpKVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBjcmVhdGUgc25hcHNob3RcbiAgICAgICAgICAgIHJlY29yZGVyLnN0YXJ0KCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyByZXRyeVxuICAgICAgICAgICAgcmVjb3JkZXIucmV0cnlTbmFwc2hvdCgpO1xuXG4gICAgICAgICAgICAvLyByZXNldCBjYW1lcmEgYnV0dG9uXG4gICAgICAgICAgICB0aGlzLm9uU3RvcCgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBDYW1lcmFCdXR0b24ucHJvdG90eXBlLm9uU3RhcnQgPSBmdW5jdGlvbigpXG4gICAge1xuICAgICAgICAvLyByZXBsYWNlIGVsZW1lbnQgY2xhc3Mgc28gaXQgY2FuIGNoYW5nZSBhcHBlYXJhbmNlXG4gICAgICAgIHRoaXMucmVtb3ZlQ2xhc3MoJ3Zqcy1pY29uLXBob3RvLWNhbWVyYScpO1xuICAgICAgICB0aGlzLmFkZENsYXNzKCd2anMtaWNvbi1waG90by1yZXRyeScpO1xuXG4gICAgICAgIC8vIHVwZGF0ZSBsYWJlbFxuICAgICAgICB0aGlzLmVsKCkuZmlyc3RDaGlsZC5maXJzdENoaWxkLmlubmVySFRNTCA9IHRoaXMubG9jYWxpemUoJ1JldHJ5Jyk7XG4gICAgfTtcbiAgICBDYW1lcmFCdXR0b24ucHJvdG90eXBlLm9uU3RvcCA9IGZ1bmN0aW9uKClcbiAgICB7XG4gICAgICAgIC8vIHJlcGxhY2UgZWxlbWVudCBjbGFzcyBzbyBpdCBjYW4gY2hhbmdlIGFwcGVhcmFuY2VcbiAgICAgICAgdGhpcy5yZW1vdmVDbGFzcygndmpzLWljb24tcGhvdG8tcmV0cnknKTtcbiAgICAgICAgdGhpcy5hZGRDbGFzcygndmpzLWljb24tcGhvdG8tY2FtZXJhJyk7XG5cbiAgICAgICAgLy8gdXBkYXRlIGxhYmVsXG4gICAgICAgIHRoaXMuZWwoKS5maXJzdENoaWxkLmZpcnN0Q2hpbGQuaW5uZXJIVE1MID0gdGhpcy5sb2NhbGl6ZSgnSW1hZ2UnKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQnV0dG9uIHRvIHNlbGVjdCByZWNvcmRpbmcgZGV2aWNlLlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQGNsYXNzXG4gICAgICogQGF1Z21lbnRzIHZpZGVvanMuQnV0dG9uXG4gICAgKi9cbiAgICBEZXZpY2VCdXR0b24gPSB2aWRlb2pzLmV4dGVuZChWanNCdXR0b24sXG4gICAge1xuICAgICAgICAvKiogQGNvbnN0cnVjdG9yICovXG4gICAgICAgIGNvbnN0cnVjdG9yOiBmdW5jdGlvbihwbGF5ZXIsIG9wdGlvbnMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIFZqc0J1dHRvbi5jYWxsKHRoaXMsIHBsYXllciwgb3B0aW9ucyk7XG5cbiAgICAgICAgICAgIHRoaXMub24oJ2NsaWNrJywgdGhpcy5vbkNsaWNrKTtcbiAgICAgICAgICAgIHRoaXMub24oJ3RhcCcsIHRoaXMub25DbGljayk7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICBEZXZpY2VCdXR0b24ucHJvdG90eXBlLm9uQ2xpY2sgPSBmdW5jdGlvbihlKVxuICAgIHtcbiAgICAgICAgLy8gc3RvcCB0aGlzIGV2ZW50IGJlZm9yZSBpdCBidWJibGVzIHVwXG4gICAgICAgIGUuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7XG5cbiAgICAgICAgLy8gb3BlbiBkZXZpY2UgZGlhbG9nXG4gICAgICAgIHRoaXMucGxheWVyKCkucmVjb3JkZXIuZ2V0RGV2aWNlKCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEljb24gaW5kaWNhdGluZyByZWNvcmRpbmcgaXMgYWN0aXZlLlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQGNsYXNzXG4gICAgICogQGF1Z21lbnRzIHZpZGVvanMuQ29tcG9uZW50XG4gICAgKi9cbiAgICBSZWNvcmRJbmRpY2F0b3IgPSB2aWRlb2pzLmV4dGVuZChWanNDb21wb25lbnQsXG4gICAge1xuICAgICAgICAvKiogQGNvbnN0cnVjdG9yICovXG4gICAgICAgIGNvbnN0cnVjdG9yOiBmdW5jdGlvbihwbGF5ZXIsIG9wdGlvbnMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIFZqc0NvbXBvbmVudC5jYWxsKHRoaXMsIHBsYXllciwgb3B0aW9ucyk7XG5cbiAgICAgICAgICAgIHRoaXMub24ocGxheWVyLCAnc3RhcnRSZWNvcmQnLCB0aGlzLnNob3cpO1xuICAgICAgICAgICAgdGhpcy5vbihwbGF5ZXIsICdzdG9wUmVjb3JkJywgdGhpcy5oaWRlKTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIFJlY29yZEluZGljYXRvci5wcm90b3R5cGUuZGlzYWJsZSA9IGZ1bmN0aW9uKClcbiAgICB7XG4gICAgICAgIC8vIGRpc2FibGUgcmVjb3JkIGluZGljYXRvciBldmVudCBoYW5kbGVyc1xuICAgICAgICB0aGlzLm9mZih0aGlzLnBsYXllcigpLCAnc3RhcnRSZWNvcmQnLCB0aGlzLnNob3cpO1xuICAgICAgICB0aGlzLm9mZih0aGlzLnBsYXllcigpLCAnc3RvcFJlY29yZCcsIHRoaXMuaGlkZSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENhbnZhcyBmb3IgZGlzcGxheWluZyBzbmFwc2hvdCBpbWFnZS5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBjbGFzc1xuICAgICAqIEBhdWdtZW50cyB2aWRlb2pzLkNvbXBvbmVudFxuICAgICovXG4gICAgUmVjb3JkQ2FudmFzID0gdmlkZW9qcy5leHRlbmQoVmpzQ29tcG9uZW50KTtcblxuICAgIC8qKlxuICAgICAqIEltYWdlIGZvciBkaXNwbGF5aW5nIGFuaW1hdGVkIEdJRiBpbWFnZS5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBjbGFzc1xuICAgICAqIEBhdWdtZW50cyB2aWRlb2pzLkNvbXBvbmVudFxuICAgICovXG4gICAgQW5pbWF0aW9uRGlzcGxheSA9IHZpZGVvanMuZXh0ZW5kKFZqc0NvbXBvbmVudCk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBjdXN0b20gYnV0dG9uLlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGNsYXNzTmFtZSAtIENsYXNzIG5hbWUgZm9yIHRoZSBuZXcgYnV0dG9uLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBsYWJlbCAtIExhYmVsIGZvciB0aGUgbmV3IGJ1dHRvbi5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gaWNvbk5hbWUgLSBJY29uIGZvciB0aGUgbmV3IGJ1dHRvbi5cbiAgICAgKi9cbiAgICB2YXIgY3JlYXRlQnV0dG9uID0gZnVuY3Rpb24oY2xhc3NOYW1lLCBsYWJlbCwgaWNvbk5hbWUpXG4gICAge1xuICAgICAgICB2YXIgcHJvcHMgPSB7XG4gICAgICAgICAgICBjbGFzc05hbWU6ICd2anMtJyArIGNsYXNzTmFtZSArICctYnV0dG9uIHZqcy1jb250cm9sIHZqcy1pY29uLScgKyBpY29uTmFtZSxcbiAgICAgICAgICAgIGlubmVySFRNTDogJzxkaXYgY2xhc3M9XCJ2anMtY29udHJvbC1jb250ZW50XCI+PHNwYW4gY2xhc3M9XCJ2anMtY29udHJvbC10ZXh0XCI+JyArXG4gICAgICAgICAgICAgICAgbGFiZWwgKyAnPC9zcGFuPjwvZGl2PicsXG4gICAgICAgIH07XG4gICAgICAgIHZhciBhdHRycyA9IHtcbiAgICAgICAgICAgIHJvbGU6ICdidXR0b24nLFxuICAgICAgICAgICAgJ2FyaWEtbGl2ZSc6ICdwb2xpdGUnLCAvLyBsZXQgdGhlIHNjcmVlbiByZWFkZXIgdXNlciBrbm93IHRoYXQgdGhlIHRleHQgb2YgdGhlIGJ1dHRvbiBtYXkgY2hhbmdlXG4gICAgICAgICAgICB0YWJJbmRleDogMFxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gVmpzQ29tcG9uZW50LnByb3RvdHlwZS5jcmVhdGVFbCgnZGl2JywgcHJvcHMsIGF0dHJzKTtcbiAgICB9O1xuXG4gICAgdmFyIGNyZWF0ZVBsdWdpbiA9IGZ1bmN0aW9uKClcbiAgICB7XG4gICAgICAgIHZhciBwcm9wcyA9IHtcbiAgICAgICAgICAgIGNsYXNzTmFtZTogJ3Zqcy1yZWNvcmQnLFxuICAgICAgICB9O1xuICAgICAgICB2YXIgYXR0cnMgPSB7XG4gICAgICAgICAgICB0YWJJbmRleDogMFxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gVmpzQ29tcG9uZW50LnByb3RvdHlwZS5jcmVhdGVFbCgnZGl2JywgcHJvcHMsIGF0dHJzKTtcbiAgICB9O1xuXG4gICAgLy8gcGx1Z2luIGRlZmF1bHRzXG4gICAgdmFyIGRlZmF1bHRzID0ge1xuICAgICAgICAvLyBTaW5nbGUgc25hcHNob3QgaW1hZ2UuXG4gICAgICAgIGltYWdlOiBmYWxzZSxcbiAgICAgICAgLy8gSW5jbHVkZSBhdWRpbyBpbiB0aGUgcmVjb3JkZWQgY2xpcC5cbiAgICAgICAgYXVkaW86IGZhbHNlLFxuICAgICAgICAvLyBJbmNsdWRlIHZpZGVvIGluIHRoZSByZWNvcmRlZCBjbGlwLlxuICAgICAgICB2aWRlbzogZmFsc2UsXG4gICAgICAgIC8vIEFuaW1hdGVkIEdJRi5cbiAgICAgICAgYW5pbWF0aW9uOiBmYWxzZSxcbiAgICAgICAgLy8gTWF4aW11bSBsZW5ndGggb2YgdGhlIHJlY29yZGVkIGNsaXAuXG4gICAgICAgIG1heExlbmd0aDogMTAsXG4gICAgICAgIC8vIFdpZHRoIG9mIHRoZSByZWNvcmRlZCB2aWRlbyBmcmFtZXMuXG4gICAgICAgIGZyYW1lV2lkdGg6IDMyMCxcbiAgICAgICAgLy8gSGVpZ2h0IG9mIHRoZSByZWNvcmRlZCB2aWRlbyBmcmFtZXMuXG4gICAgICAgIGZyYW1lSGVpZ2h0OiAyNDAsXG4gICAgICAgIC8vIEVuYWJsZXMgY29uc29sZSBsb2dnaW5nIGZvciBkZWJ1Z2dpbmcgcHVycG9zZXMuXG4gICAgICAgIGRlYnVnOiBmYWxzZSxcbiAgICAgICAgLy8gVGhlIG1pbWUgdHlwZSBmb3IgdGhlIHZpZGVvIHJlY29yZGVyLiBEZWZhdWx0IHRvICd2aWRlby93ZWJtJy5cbiAgICAgICAgLy8gVXNlICd2aWRlby9tcDQnIChGaXJlZm94KSBvciAndmlkZW8vd2VibTtjb2RlY3M9SDI2NCcgKENocm9tZSA1MiBhbmRcbiAgICAgICAgLy8gbmV3ZXIpIGZvciBNUDQuXG4gICAgICAgIHZpZGVvTWltZVR5cGU6ICd2aWRlby93ZWJtJyxcbiAgICAgICAgLy8gVmlkZW8gcmVjb3JkZXIgdHlwZSB0byB1c2UuIFRoaXMgYWxsb3dzIHlvdSB0byBzcGVjaWZ5IGFuIGFsdGVybmF0aXZlXG4gICAgICAgIC8vIHJlY29yZGVyIGNsYXNzLCBlLmcuIFdoYW1teVJlY29yZGVyLiBEZWZhdWx0cyB0byAnYXV0bycgd2hpY2ggbGV0J3NcbiAgICAgICAgLy8gcmVjb3JkcnRjIHNwZWNpZnkgdGhlIGJlc3QgYXZhaWxhYmxlIHJlY29yZGVyIHR5cGUuXG4gICAgICAgIHZpZGVvUmVjb3JkZXJUeXBlOiAnYXV0bycsXG4gICAgICAgIC8vIEF1ZGlvIHJlY29yZGluZyBsaWJyYXJ5IHRvIHVzZS4gTGVnYWwgdmFsdWVzIGFyZSAncmVjb3JkcnRjJyxcbiAgICAgICAgLy8gJ2xpYnZvcmJpcy5qcycsICdvcHVzLXJlY29yZGVyJywgJ2xhbWVqcycgYW5kICdyZWNvcmRlci5qcycuXG4gICAgICAgIGF1ZGlvRW5naW5lOiAncmVjb3JkcnRjJyxcbiAgICAgICAgLy8gQXVkaW8gcmVjb3JkZXIgdHlwZSB0byB1c2UuIFRoaXMgYWxsb3dzIHlvdSB0byBzcGVjaWZ5IGFuIGFsdGVybmF0aXZlXG4gICAgICAgIC8vIHJlY29yZGVyIGNsYXNzLCBlLmcuIFN0ZXJlb0F1ZGlvUmVjb3JkZXIuIERlZmF1bHRzIHRvICdhdXRvJyB3aGljaCBsZXQnc1xuICAgICAgICAvLyByZWNvcmRydGMgc3BlY2lmeSB0aGUgYmVzdCBhdmFpbGFibGUgcmVjb3JkZXIgdHlwZS4gQ3VycmVudGx5IHRoaXNcbiAgICAgICAgLy8gc2V0dGluZyBpcyBvbmx5IHVzZWQgd2l0aCB0aGUgJ3JlY29yZHJ0YycgYXVkaW9FbmdpbmUuXG4gICAgICAgIGF1ZGlvUmVjb3JkZXJUeXBlOiAnYXV0bycsXG4gICAgICAgIC8vIFRoZSBtaW1lIHR5cGUgZm9yIHRoZSBhdWRpbyByZWNvcmRlci4gRGVmYXVsdHMgdG8gJ2F1dG8nIHdoaWNoIHdpbGwgcGlja1xuICAgICAgICAvLyB0aGUgYmVzdCBvcHRpb24gYXZhaWxhYmxlIGluIHRoZSBicm93c2VyIChlLmcuIGVpdGhlciAnYXVkaW8vd2F2JyxcbiAgICAgICAgLy8gJ2F1ZGlvL29nZycgb3IgJ2F1ZGlvL3dlYm0nKS5cbiAgICAgICAgYXVkaW9NaW1lVHlwZTogJ2F1dG8nLFxuICAgICAgICAvLyBUaGUgc2l6ZSBvZiB0aGUgYXVkaW8gYnVmZmVyIChpbiBzYW1wbGUtZnJhbWVzKSB3aGljaCBuZWVkcyB0b1xuICAgICAgICAvLyBiZSBwcm9jZXNzZWQgZWFjaCB0aW1lIG9ucHJvY2Vzc2F1ZGlvIGlzIGNhbGxlZC5cbiAgICAgICAgLy8gRnJvbSB0aGUgc3BlYzogVGhpcyB2YWx1ZSBjb250cm9scyBob3cgZnJlcXVlbnRseSB0aGUgYXVkaW9wcm9jZXNzIGV2ZW50IGlzXG4gICAgICAgIC8vIGRpc3BhdGNoZWQgYW5kIGhvdyBtYW55IHNhbXBsZS1mcmFtZXMgbmVlZCB0byBiZSBwcm9jZXNzZWQgZWFjaCBjYWxsLlxuICAgICAgICAvLyBMb3dlciB2YWx1ZXMgZm9yIGJ1ZmZlciBzaXplIHdpbGwgcmVzdWx0IGluIGEgbG93ZXIgKGJldHRlcikgbGF0ZW5jeS5cbiAgICAgICAgLy8gSGlnaGVyIHZhbHVlcyB3aWxsIGJlIG5lY2Vzc2FyeSB0byBhdm9pZCBhdWRpbyBicmVha3VwIGFuZCBnbGl0Y2hlcy5cbiAgICAgICAgLy8gTGVnYWwgdmFsdWVzIGFyZSAyNTYsIDUxMiwgMTAyNCwgMjA0OCwgNDA5NiwgODE5MiBvciAxNjM4NC5cbiAgICAgICAgYXVkaW9CdWZmZXJTaXplOiA0MDk2LFxuICAgICAgICAvLyBUaGUgYXVkaW8gc2FtcGxlIHJhdGUgKGluIHNhbXBsZS1mcmFtZXMgcGVyIHNlY29uZCkgYXQgd2hpY2ggdGhlXG4gICAgICAgIC8vIEF1ZGlvQ29udGV4dCBoYW5kbGVzIGF1ZGlvLiBJdCBpcyBhc3N1bWVkIHRoYXQgYWxsIEF1ZGlvTm9kZXNcbiAgICAgICAgLy8gaW4gdGhlIGNvbnRleHQgcnVuIGF0IHRoaXMgcmF0ZS4gSW4gbWFraW5nIHRoaXMgYXNzdW1wdGlvbixcbiAgICAgICAgLy8gc2FtcGxlLXJhdGUgY29udmVydGVycyBvciBcInZhcmlzcGVlZFwiIHByb2Nlc3NvcnMgYXJlIG5vdCBzdXBwb3J0ZWRcbiAgICAgICAgLy8gaW4gcmVhbC10aW1lIHByb2Nlc3NpbmcuXG4gICAgICAgIC8vIFRoZSBzYW1wbGVSYXRlIHBhcmFtZXRlciBkZXNjcmliZXMgdGhlIHNhbXBsZS1yYXRlIG9mIHRoZVxuICAgICAgICAvLyBsaW5lYXIgUENNIGF1ZGlvIGRhdGEgaW4gdGhlIGJ1ZmZlciBpbiBzYW1wbGUtZnJhbWVzIHBlciBzZWNvbmQuXG4gICAgICAgIC8vIEFuIGltcGxlbWVudGF0aW9uIG11c3Qgc3VwcG9ydCBzYW1wbGUtcmF0ZXMgaW4gYXQgbGVhc3RcbiAgICAgICAgLy8gdGhlIHJhbmdlIDIyMDUwIHRvIDk2MDAwLlxuICAgICAgICBhdWRpb1NhbXBsZVJhdGU6IDQ0MTAwLFxuICAgICAgICAvLyBBbGxvd3MgeW91IHRvIHJlY29yZCBzaW5nbGUtY2hhbm5lbCBhdWRpbywgd2hpY2ggY2FuIHJlZHVjZSB0aGVcbiAgICAgICAgLy8gZmlsZXNpemUuXG4gICAgICAgIGF1ZGlvQ2hhbm5lbHM6IDIsXG4gICAgICAgIC8vIFVSTCBmb3IgdGhlIGF1ZGlvIHdvcmtlci5cbiAgICAgICAgYXVkaW9Xb3JrZXJVUkw6ICcnLFxuICAgICAgICAvLyBGcmFtZSByYXRlIGluIGZyYW1lcyBwZXIgc2Vjb25kLlxuICAgICAgICBhbmltYXRpb25GcmFtZVJhdGU6IDIwMCxcbiAgICAgICAgLy8gU2V0cyBxdWFsaXR5IG9mIGNvbG9yIHF1YW50aXphdGlvbiAoY29udmVyc2lvbiBvZiBpbWFnZXMgdG8gdGhlXG4gICAgICAgIC8vIG1heGltdW0gMjU2IGNvbG9ycyBhbGxvd2VkIGJ5IHRoZSBHSUYgc3BlY2lmaWNhdGlvbikuXG4gICAgICAgIC8vIExvd2VyIHZhbHVlcyAobWluaW11bSA9IDEpIHByb2R1Y2UgYmV0dGVyIGNvbG9ycyxcbiAgICAgICAgLy8gYnV0IHNsb3cgcHJvY2Vzc2luZyBzaWduaWZpY2FudGx5LiAxMCBpcyB0aGUgZGVmYXVsdCxcbiAgICAgICAgLy8gYW5kIHByb2R1Y2VzIGdvb2QgY29sb3IgbWFwcGluZyBhdCByZWFzb25hYmxlIHNwZWVkcy5cbiAgICAgICAgLy8gVmFsdWVzIGdyZWF0ZXIgdGhhbiAyMCBkbyBub3QgeWllbGQgc2lnbmlmaWNhbnQgaW1wcm92ZW1lbnRzXG4gICAgICAgIC8vIGluIHNwZWVkLlxuICAgICAgICBhbmltYXRpb25RdWFsaXR5OiAxMFxuICAgIH07XG5cdC8qKlxuXHQgKiBJbml0aWFsaXplIHRoZSBwbHVnaW4uXG5cdCAqXG5cdCAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc10gLSBDb25maWd1cmF0aW9uIGZvciB0aGUgcGx1Z2luLlxuXHQgKiBAcHJpdmF0ZVxuXHQgKi9cblxuXHR2YXIgc2V0dGluZ3MgPSB2aWRlb2pzLm1lcmdlT3B0aW9ucyhkZWZhdWx0cywgb3B0aW9ucyk7XG5cdHZhciBwbGF5ZXIgPSB0aGlzO1xuXG5cdC8vIGNyZWF0ZSByZWNvcmRlclxuXHRwbGF5ZXIucmVjb3JkZXIgPSBuZXcgdmlkZW9qcy5SZWNvcmRlcihwbGF5ZXIsIHtcblx0XHQnZWwnOiBjcmVhdGVQbHVnaW4oKSxcblx0XHQnb3B0aW9ucyc6IHNldHRpbmdzXG5cdH0pO1xuXHRwbGF5ZXIuYWRkQ2hpbGQocGxheWVyLnJlY29yZGVyKTtcblxuXHQvLyBhZGQgZGV2aWNlIGJ1dHRvblxuXHRwbGF5ZXIuZGV2aWNlQnV0dG9uID0gbmV3IERldmljZUJ1dHRvbihwbGF5ZXIsIHtcblx0XHQnZWwnOiBjcmVhdGVCdXR0b24oJ2RldmljZScsIHBsYXllci5sb2NhbGl6ZSgnRGV2aWNlJyksXG5cdFx0XHQnZGV2aWNlLXBlcm0nKVxuXHR9KTtcblx0cGxheWVyLnJlY29yZGVyLmFkZENoaWxkKHBsYXllci5kZXZpY2VCdXR0b24pO1xuXG5cdC8vIGFkZCByZWNvcmQgaW5kaWNhdG9yXG5cdHBsYXllci5yZWNvcmRJbmRpY2F0b3IgPSBuZXcgUmVjb3JkSW5kaWNhdG9yKHBsYXllciwge1xuXHRcdCdlbCc6IFZqc0NvbXBvbmVudC5wcm90b3R5cGUuY3JlYXRlRWwoJ2RpdicsIHtcblx0XHRcdGNsYXNzTmFtZTogJ3Zqcy1yZWNvcmQtaW5kaWNhdG9yIHZqcy1jb250cm9sJ1xuXHRcdH0pXG5cdH0pO1xuXHRwbGF5ZXIucmVjb3JkSW5kaWNhdG9yLmhpZGUoKTtcblx0cGxheWVyLnJlY29yZGVyLmFkZENoaWxkKHBsYXllci5yZWNvcmRJbmRpY2F0b3IpO1xuXG5cdC8vIGFkZCBjYW52YXMgZm9yIHJlY29yZGluZyBhbmQgZGlzcGxheWluZyBpbWFnZVxuXHRwbGF5ZXIucmVjb3JkQ2FudmFzID0gbmV3IFJlY29yZENhbnZhcyhwbGF5ZXIsIHtcblx0XHQnZWwnOiBWanNDb21wb25lbnQucHJvdG90eXBlLmNyZWF0ZUVsKCdkaXYnLCB7XG5cdFx0XHRjbGFzc05hbWU6ICd2anMtcmVjb3JkLWNhbnZhcycsXG5cdFx0XHRpbm5lckhUTUw6ICc8Y2FudmFzPjwvY2FudmFzPidcblx0XHR9KVxuXHR9KTtcblx0cGxheWVyLnJlY29yZENhbnZhcy5oaWRlKCk7XG5cdHBsYXllci5yZWNvcmRlci5hZGRDaGlsZChwbGF5ZXIucmVjb3JkQ2FudmFzKTtcblxuXHQvLyBhZGQgaW1hZ2UgZm9yIGFuaW1hdGlvbiBkaXNwbGF5XG5cdHBsYXllci5hbmltYXRpb25EaXNwbGF5ID0gbmV3IEFuaW1hdGlvbkRpc3BsYXkocGxheWVyLCB7XG5cdFx0J2VsJzogVmpzQ29tcG9uZW50LnByb3RvdHlwZS5jcmVhdGVFbCgnZGl2Jywge1xuXHRcdFx0Y2xhc3NOYW1lOiAndmpzLWFuaW1hdGlvbi1kaXNwbGF5Jyxcblx0XHRcdGlubmVySFRNTDogJzxpbWcgLz4nXG5cdFx0fSlcblx0fSk7XG5cdHBsYXllci5hbmltYXRpb25EaXNwbGF5LmhpZGUoKTtcblx0cGxheWVyLnJlY29yZGVyLmFkZENoaWxkKHBsYXllci5hbmltYXRpb25EaXNwbGF5KTtcblxuXHQvLyBhZGQgY2FtZXJhIGJ1dHRvblxuXHRwbGF5ZXIuY2FtZXJhQnV0dG9uID0gbmV3IENhbWVyYUJ1dHRvbihwbGF5ZXIsIHtcblx0XHQnZWwnOiBjcmVhdGVCdXR0b24oJ2NhbWVyYScsIHBsYXllci5sb2NhbGl6ZSgnSW1hZ2UnKSxcblx0XHRcdCdwaG90by1jYW1lcmEnKVxuXHR9KTtcblx0cGxheWVyLmNhbWVyYUJ1dHRvbi5oaWRlKCk7XG5cblx0Ly8gYWRkIHJlY29yZCB0b2dnbGVcblx0cGxheWVyLnJlY29yZFRvZ2dsZSA9IG5ldyBSZWNvcmRUb2dnbGUocGxheWVyLCB7XG5cdFx0J2VsJzogY3JlYXRlQnV0dG9uKCdyZWNvcmQnLCBwbGF5ZXIubG9jYWxpemUoJ1JlY29yZCcpLFxuXHRcdFx0J3JlY29yZC1zdGFydCcpXG5cdH0pO1xuXHRwbGF5ZXIucmVjb3JkVG9nZ2xlLmhpZGUoKTtcblxufTtcblxuLy8gUmVnaXN0ZXIgdGhlIHBsdWdpbiB3aXRoIHZpZGVvLmpzLlxudmlkZW9qcy5wbHVnaW4oJ29wZW4nLCBvcGVuKTtcbnZpZGVvanMucGx1Z2luKCd2aWRlb0pzUmVzb2x1dGlvblN3aXRjaGVyJywgdmlkZW9Kc1Jlc29sdXRpb25Td2l0Y2hlcik7XG52aWRlb2pzLnBsdWdpbignZGlzYWJsZVByb2dyZXNzJywgZGlzYWJsZVByb2dyZXNzKTtcbnZpZGVvanMucGx1Z2luKCdtYXJrZXJzJywgbWFya2Vycyk7XG52aWRlb2pzLnBsdWdpbignd2F0ZXJNYXJrJywgd2F0ZXJNYXJrKTtcbnZpZGVvanMucGx1Z2luKCdyZWNvcmQnLCByZWNvcmQpO1xuXG4vLyBJbmNsdWRlIHRoZSB2ZXJzaW9uIG51bWJlci5cbm9wZW4uVkVSU0lPTiA9ICdfX1ZFUlNJT05fXyc7XG5cbmV4cG9ydCBkZWZhdWx0IG9wZW47Il19
